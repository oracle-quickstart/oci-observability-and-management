Metric Name,SQL Statement,Solution KM Note,Solution for the issue,Application Code,Issue Summary,Issue Description,Issue Severity,Product to raise SR if help needed,Sr Component,Sr Sub Component,Scheduling,Scheduling Details,Business Flow,Business Impact,Prod Family,Prod Area
ME$EBS_HCM_HR_ENROLLMENT_RATES_OVERRIDDEN,"Select pen.person_id person_id, 
pl.name name, 
pen.prtt_enrt_rslt_id prtt_enrt_rslt_id, 
pen.effective_start_date effective_start_date, 
pen.effective_end_date effective_end_date
from ben_prtt_enrt_rslt_f pen, per_all_people_f pap, ben_pl_f pl, ben_prtt_rt_val prv
where prv.rt_ovridn_flag = 'Y' 
and prv.rt_ovridn_thru_dt is null 
and pen.person_id = pap.person_id 
and pen.pl_id = pl.pl_id 
and pen.prtt_enrt_rslt_id = prv.prtt_enrt_rslt_id 
and sysdate between pap.effective_start_date and pap.effective_end_date 
and sysdate between pl.effective_start_date and pl.effective_end_date 
and rownum<100
order by 1",2430214.1,"SYMPTOM:   Rate override will not end 

CAUSE:          Enrollment rate overrides exist where no Thru date value is specified

SOLUTION:   If the Thru Date field is left blank then the system will use the enrollment override data until the end of time, else enter a Thru Date",BEN,Benefits Enrollment rate overrides exist where no Thru date value is specified.,There are enrollment rate overrrides which have no override 'Thru' date value specified.,2,Oracle Advanced Benefits,OAB,ENROLL,WEEK,SAT,Benefits to Payroll,"Rate override will not end. The rate used to calculate the benefit is incorrect, generating incorrect payments.",EBS HCM,EBS - HR
ME$EBS_HCM_HR_ENROLLMENTS_OVERRIDDEN,"Select pen.person_id person_id, 
pl.name name, 
pen.prtt_enrt_rslt_id prtt_enrt_rslt_id, 
pen.effective_start_date effective_start_date, 
pen.effective_end_date effective_end_date
from ben_prtt_enrt_rslt_f pen, per_all_people_f pap, ben_pl_f pl 
where enrt_ovridn_flag = 'Y' 
and enrt_ovrid_thru_dt is null 
and pen.person_id = pap.person_id 
and pen.pl_id = pl.pl_id 
and sysdate between pap.effective_start_date 
and pap.effective_end_date 
and sysdate between pl.effective_start_date 
and pl.effective_end_date
and rownum<100
order by 1
",2430214.1,"SYMPTOM:   Enrollment override will not end

CAUSE:     There are enrollments overridden and have no Override Thru Date.

SOLUTION:

Overrides should have an associated Thru Date in order to not be a permanent override. 
As part of open enrollment planning - overrides should be re-evaluated each year. 
So in seeing the list of overrides through the end of the current year - an administrator can make the decision to continue any overrides into the next year by adjusting the thru date forward to the end of the following year (when it will be evaluated again).

Pursuant to the above statements, here are some Troubleshooting Steps:
1. Run Benefits Analyzer for person ( Note 2025944.1 - EBS Benefits Analyzer )
2. Go to Person/Enrollment Information > Person Details to review the impacted employee.
3. Go to Person/Enrollment Information > Enrollment Result Date Details and review the column 'ENROLLFLAG'. Any rows marked with 'Y' have overrides.

4. Now in the PUI Forms, Navigate to People > Total Comp Enrollment > Benefits Enrollment > Enrollment Override.
5. Query the employee from the Benefits Analyzer.
6. Select the Enrollment row which has the ""Override"" check box marked.
7. Enter a valid date in the 'Thru' field under the Override tab and save your changes.",BEN,Benefits Enrollment coverage overrides exist where no Thru date value is specified,There are enrollments overridden that have no override Thru date value provided.,2,Oracle Advanced Benefits,OAB,ENROLL,WEEK,SAT,Benefits to Payroll,"Enrollment override will not end.  The rate used to calculate the benefit is incorrect, generating incorrect payments.",EBS HCM,EBS - HR
ME$EBS_HCM_HR_INVALID_ENROLLMENT_RATE_ROWS,"SELECT pen.person_id person_id, prv.prtt_enrt_rslt_id prtt_enrt_rslt_id, pen.prtt_enrt_rslt_stat_cd prtt_enrt_rslt_stat_cd, prtt_rt_val_id prtt_rt_val_id, prv.rt_strt_dt rt_strt_dt, prv.rt_end_dt rt_end_dt
FROM ben_prtt_enrt_rslt_f pen,
     ben_prtt_rt_val prv
WHERE pen.prtt_enrt_rslt_id = prv.prtt_enrt_rslt_id
  AND prtt_enrt_rslt_stat_cd IN ('VOIDD','BCKDT')
  AND prtt_rt_val_stat_cd IS NULL
and rownum<100
order by 1

",2430224.1,"SYMPTOM:   Enrollment rate rows exists 

CAUSE:     Enrollment voided with the corresponding Enrollment rates are still valid

SOLUTION:  This will require a data fix in order to address the issue. 

If you would like to correct this, please update the SR and Support will engage appropriately.",BEN,Benefits Enrollment rate rows exists where Enrollment results are Voided or Backed Out,There are Enrollment rate rows where the corresponding Enrollment results are either Voided or Backed Out,2,Oracle Advanced Benefits,OAB,DFLT_ENRLMT,WEEK,SAT,Benefits to Payroll,"Invalid Enrollment Rate records cause generic error to occur for various Benefit actions, causing inability to calculate the benefits.",EBS HCM,EBS - HR
ME$EBS_MFG_OM_INACTIVE_EXPIRED_PRICING_ENTITY,"select a.name name, list_type_code list_type_code
from qp_list_headers_tl a, qp_list_headers_b b
where a.list_header_id = b.list_header_id
and b.active_flag = 'Y'
and nvl(b.end_date_active, sysdate+1) < sysdate
and rownum < 2",2352619.1,"SYMPTOM: Expired Price Lists with Active Flags still enabled will impact performance.

CAUSE: One may want to evaluate each returned Pricing Entity manually to determine why they have Expired but are still Active.  Any Expired Pricing Entities should be set to Inactive.  Expired Price Lists with Active Flags still enabled will impact performance.

SOLUTION:   Go into Responsibility: Oracle Pricing Manager and uncheck the ""active"" checkbox on the header record then save.

If the list_type_code = 'PRL', this is a price list. Please execute the following steps:
     Navigate to: Price Lists > Price List Setup
     Query the price list by name
     Uncheck the active checkbox on the header record.
     Save.

For other list_type_code values, please execute the following steps:
     Navigate to: Modifier > Modifier Setup
     Query the modifier
     Uncheck the active checkbox on the header record.
     Save.",QP,Expired Pricing Entity(s) exist.,"One transaction was returned but more could exist. Even though it is expired, it is active and will impact performance.",2,Oracle Advanced Pricing,PRICENGINE,API,DAY,1,O2C: Order Management,"Expired Price Lists with Acive Flags still enabled will impact performance.

One may want to evaluate each returned Pricing Entity manually to determine why they have Expired but are still Active.  Any Expired Pricing Enties should be set to Inactive to increase Pricing performance.",EBS MFG,EBS - Order Management
ME$EBS_MFG_VCP_PROFILE_SHARE_PARTITION,"select value value from
(SELECT FND_PROFILE.VALUE('MSC_SHARE_PARTITIONS') Value FROM DUAL
WHERE FND_PROFILE.VALUE('MSC_SHARE_PARTITIONS') = 'Y')",2433538.1,"Symptom
You are experiencing ORA errors in one or more of the following programs:

""MSCANAPP: Analyze Plan Partition"" fails with:
FDPSTP failed due to ORA-20000: WO_SUB_COMP_999999 invalid partition name

OR

""MSCCRPAR: Create APS Partitions"" fails with:
ORA-02149: Specified partition does not exist / ORA-14074: partition bound must collate higher than that of the last partition

OR

""MSCSDW: Snapshot Delete Worker"" fails with:
ORA-02149: Specified partition does not exist

Cause
The Profile Option MSC: Share Plan Partitions is set to Yes.  In addition, using MSC: Share Plan Partitions = Yes can cause performance issues and requires that you perform steps to convert to No before you perform any volume testing or go-live. The conversion requires purging all plans from the system.

Solution
Please see solution in My Oracle Support note 2158166.1 MSCANAPP: Analyze Plan Partition Errors ORA-20000 or MSCCRPAR: Create APS Partitions Errors ORA-02149 ORA-14074 or MSCSDW: Snapshot Delete Worker Errors ORA-02149",MSC,MSCANAPP ORA-20000 or MSCCRPAR ORA-02149 ORA-014074 or MSCSDW ORA-02149,MSCANAPP Errors ORA-20000 or MSCCRPAR Errors ORA-02149/ORA-14074 or MSCSDW ORA-02149,2,Oracle Advanced Supply Chain Planning,COLLECTIONS,PART,DAY,1,Manufacturing Planning and Forecasting / Demand to Build / Forecast to Plan,"Experience ORA errors in one or more of the following programs:

""MSCANAPP: Analyze Plan Partition"" fails with:
FDPSTP failed due to ORA-20000: WO_SUB_COMP_999999 invalid partition name

OR

""MSCCRPAR: Create APS Partitions"" fails with:
ORA-02149: Specified partition does not exist / ORA-14074: partition bound must collate higher than that of the last partition

OR

""MSCSDW: Snapshot Delete Worker"" fails with:
ORA-02149: Specified partition does not exist

As a result, cannot run the plan and/or create new partitions",EBS MFG,EBS - Value Chain Planning
ME$EBS_MFG_VCP_MISSING_0_PARTITION,"select table_name table_name, plan_id_flag plan_id_flag from (select b.table_name table_name, nvl(plan_id_flag,'N') plan_id_flag
From MSC_ODS_TABLE_V B, DBA_PART_TABLES ptab
WHERE b.PARTITION_TYPE='R'
and b.instance_id_flag in ('Y')
and b.table_name = ptab.table_name
and ptab.owner='MSC'
AND NOT EXISTS (select 1
FROM all_tab_partitions atp
WHERE atp.table_name = b.table_name AND
atp.table_owner = 'MSC' AND
atp.partition_name = substr(b.table_name, 5) || '_0'))",2435728.1,"Symptom
Trying to create the instance partition, MSCCRPAR module: Create APS Partitions errors with the following:
ORA-14080: partition cannot be split along the specified high bound

Cause
What this sensor found is that this instance is missing several _0 partitions partitions for the base ASCP partitioned tables.  

Solution
The solution requires the customer to follow My Oracle Support note 1533685.1 MSCCRPAR Create APS Partitions ORA-14080 Partition Cannot be Split Along the Specified High Bound.

Additionally the customer may require Oracle Support assistance.",MSC,MSCCRPAR module: Create APS Partitions errors with ORA-14080 / ORA-02149 ,"When running ""MSCCRPAR module: Create APS Partitions"" it errors with:
ORA-14080 and/or ORA-02149",2,Oracle Advanced Supply Chain Planning,COLLECTIONS,PART,WEEK,SAT,Manufacturing Planning and Forecasting / Demand to Build / Forecast to Plan,"Unable to create new Plan or Instance Partitions 

Experience the following errors when running MSCCRPAR module: Create APS Partitions:

ORA-14080: partition cannot be split along the specified high bound
ORA-02149: Specified partition does not exist",EBS MFG,EBS - Value Chain Planning
ME$EBS_MFG_VCP_PLAN_PARTITIONS_IN_ALL_TAB_PARTITIONS_NOT_IN_MSC,"select partition_number partition_number, partition_type partition_type, table_name table_name, PARTITION_NAME PARTITION_NAME from (
select distinct substr(partition_name,instr(partition_name,'_',-1,1)+1) partition_number, DECODE(INSTR(partition_name,'__'),0,'PLAN','INST') partition_type,
table_name,
PARTITION_NAME
from all_tab_partitions
where table_name like 'MSC_%'
AND table_name not like 'MSC%F'
and partition_name not like ('ST_%')
and table_name NOT IN ('MSC_APCC_PEG_ITEM_D','MSC_APCC_ITEM_D','MSC_DEMANDS_CUSTOM')
and DECODE(INSTR(partition_name,'__'),0,'PLAN','INST') = 'PLAN'
and TO_NUMBER(substr(partition_name,instr(partition_name,'_',-1,1)+1)) != ALL(select distinct PLAN_ID from msc_plan_partitions)
and substr(partition_name,instr(partition_name,'_',-1,1)+1) NOT IN ('0','999999'))
where rownum = 1",2436111.1,"Symptom
When running the following SQL, we've noticed that we have Plan Partitions information in the ALL_TAB_PARTITIONS table that does not exist in MSC_PLAN_PARTITIONS:

select distinct substr(partition_name,instr(partition_name,'_',-1,1)+1) ""Partition Number"", DECODE(INSTR(partition_name,'__'),0,'PLAN','INST') ""Partition Type"",
table_name,
PARTITION_NAME
from all_tab_partitions
where table_name like 'MSC_%'
AND table_name not like 'MSC%F'
and partition_name not like ('ST_%')
and table_name NOT IN ('MSC_APCC_PEG_ITEM_D','MSC_APCC_ITEM_D','MSC_DEMANDS_CUSTOM')
and table_name NOT LIKE ('MSC%F')
and DECODE(INSTR(partition_name,'__'),0,'PLAN','INST') = 'PLAN'
and TO_NUMBER(substr(partition_name,instr(partition_name,'_',-1,1)+1)) != ALL(select distinct PLAN_ID from msc_plan_partitions)
and substr(partition_name,instr(partition_name,'_',-1,1)+1) NOT IN ('0','999999');

Cause
Plan Partition Corruption

Solution
To clean up the Plan Partition corruption, perform the following steps:

1. On your VCP destination instance, run the Drop Partition program for the Partition(s) Listed In The SQL output above

NOTE: One must be careful to NEVER EVER drop plan partition _0 (that is an underscore zero) because that partition name can be referenced by the partition altering commands, so if it is missing, the alteration can fail.

Example:
Advanced Supply Chain Planner -> Other -> Request -> Submit a Request -> Single Request
Search for ""Drop Partition""
Parameters:
partition_num: Partition_Number_From_SQL_Results_Above
plan: Yes (When the Plan parameter is Yes, you are dropping the corresponding plan partition.)

2. Repeat the steps for each plan partition listed in the SQL output above.",MSC,Plan Partition Corruption,There are Plan Partitions that exist in ALL_TAB_PARTITIONS but do not exist in MSC_PLAN_PARTITIONS,2,Oracle Advanced Supply Chain Planning,COLLECTIONS,PART,WEEK,SAT,Manufacturing Planning and Forecasting / Demand to Build / Forecast to Plan,Plan Partition corruption,EBS MFG,EBS - Value Chain Planning
ME$EBS_MFG_VCP_MRP_SEQUENCE_CHECK,"SELECT OWNER OWNER,
  SEQUENCE_NAME SEQUENCE_NAME,
  MAX_VALUE_ALLOWED MAX_VALUE_ALLOWED,
  CURRENT_VALUE CURRENT_VALUE,
  NUMBER_OF_VALUES_AVAILABLE NUMBER_OF_VALUES_AVAILABLE
from
(SELECT sequence_owner OWNER,
  sequence_name SEQUENCE_NAME,
  max_value MAX_VALUE_ALLOWED,
  last_number CURRENT_VALUE,
  (MAX_VALUE - LAST_NUMBER) NUMBER_OF_VALUES_AVAILABLE 
FROM all_sequences
WHERE sequence_name IN ('MRP_GROSS_REQUIREMENTS_S','MRP_SCHEDULE_DATES_S','MRP_FULL_PEGGING_S', 'MRP_FORECAST_DATES_S','MRP_AVAILABLE_TO_PROMISE_S','MRP_EXCEPTION_DETAILS_S', 'CRP_RESOURCE_PLAN_S','CRP_RESOURCE_HOURS_S')
AND last_number  > 1947483647)",2341211.1,"This sensor monitors 8 sequences.  Details of each sequence including relevant MOS note is below:

MRP_GROSS_REQUIREMENTS_S
MRP_SCHEDULE_DATES_S
MRP_FULL_PEGGING_S
MRP_FORECAST_DATES_S
MRP_AVAILABLE_TO_PROMISE_S
MRP_EXCEPTION_DETAILS_S
CRP_RESOURCE_PLAN_S
CRP_RESOURCE_HOURS_S

Please see [2341211.1]Monitoring Services: Sequences in MRP/CRP Are Approaching MAX_VALUE And Need To Be Reset To Avoid Errors in MRP Applications",MSC,MRP Sequence Check detected sequence in need of maintenance,Sequences reported by this SQL must have maintenance conducted to avoid errors in the future.,2,Oracle Advanced Supply Chain Planning,INS,DBS,WEEK,SAT,Manufacturing Planning and Forecasting / Demand to Build / Forecast to Plan,"Sequences reported by this SQL must have maintenance conducted to avoid errors in the future.

IF MAX_VALUE_ALLOWED for the sequence is exceeded then the processes using the sequence will fail – potentially causing SEV 1 Production Down conditions.
With warning ahead of time, the corrective steps become maintenance activities that can be executed under normal operating conditions to avoid Production down emergency conditions.

This can be a recurring maintenance activity depending on customers usage of various processes in MRP/ASCP applications. 
We have seen these conditions occur as often as every 2 years or take as long as 10 or more years to occur.",EBS MFG,EBS - Value Chain Planning
ME$EBS_MFG_VCP_CALENDAR_START_AND_END_DATE_CHECK,"select Start_date Start_date, End_date End_date, Code Code, ID_inst ID_inst
from (select min(calendar_date) Start_date,
max(calendar_date) End_date,
calendar_code Code,
sr_instance_id ID_inst
from msc_calendar_dates
where calendar_end_date < (SYSDATE + (365*7))
or calendar_start_date > (SYSDATE - (365*2))
group by calendar_code, sr_instance_id
order by calendar_code)",2433522.1,"Symptom
During the ASCP Plan run, Memory Based Planner fails with a Signal 6, Signal 9, or Signal 11 error
OR
During the ASCP Plan run, Memory Based Planner fails with:

Calendar problem : mrlass_add_safety_stock: 2455149 2455149 86
APP-MRP-22064: An internal error has occurred (mrlass_add_safety_stock, 22)

Cause
 Calendars are not extended far enough into the past and/or they are not extend far enough into the future

Solution
Any calendars that have are not extended properly may cause errors or output issues in planning or ATP.  We recommend that you extend your calendars at least 7 years into the future and at least 2 years into the past.

1. In the source ERP instance use responsibility: Bill of Materials

2. Navigate to BOM -> Setup -> Calendars

3. Query the org calendar(s) that is not extended properly (see the SQL results above)
Rebuild the calendar after extending it properly (Tools/Build from the toolbar)

Make sure the concurrent request completes successfully

4. Rerun data collections to pick up the changes

5. Rerun the ASCP plan",MSC,MSCNEW / MSCONEW Failing with Signal xx or APP-MRP-22064 errors or Plan Output incorrect,MSCNEW / MSCONEW Failing with Signal xx or APP-MRP-22064 errors and/or Plan Output is not correct,2,Oracle Advanced Supply Chain Planning,MBP,ERR,WEEK,SAT,Manufacturing Planning and Forecasting / Demand to Build / Forecast to Plan,"Incorrect Plan Output, Signal errors in Memory Based Planner, or APP-MRP-22064 MRLASS_ADD_SAFETY_STOCK error in Memory Based Planner",EBS MFG,EBS - Value Chain Planning
ME$EBS_FIN_FA_DEPRECIATION_ERROR_STATUS_CHECK,"Select bk.book_type_code book_type_code, bk.book_class book_class, bk.deprn_status deprn_status, bk.mass_request_id mass_request_id, bk.deprn_request_id deprn_request_id
from fa_book_controls bk
where bk.deprn_status = 'E'
and rownum < 1000
order by bk.book_type_code",2353238.1,"SYMPTOMS
============
When running depreciation, the following error message appears in the form:

Error
----------------
APP-OFA-48397 Program exited with errors
unable to get the concurrent request status using procedure
FND_CURRENT.GET_REQUEST_STATUS

Module CHECK_BOOK_STATUS ended with error

Steps
----------------
Navigation: Asset Responsibility -> Depreciation -> Run Depreciation


CAUSE
============
The DEPRN_STATUS in the FA_BOOK_CONTROLS table was incorrectly set to 'S' after a failed depreciation run.


SOLUTION
============
1) Check the status of the last depreciation run in the book:
select book_type_code, deprn_status, mass_request_id, deprn_request_id from fa_book_controls where book_type_code = '&book';

If deprn_status = 'E' (Error), resubmit Depreciation without closing the period. 
If deprn_status = 'S' (Submitted)

2) UPDATE fa_book_controls SET mass_request_id = NULL, deprn_request_id = NULL, deprn_status = 'E' WHERE book_type_code = &book; COMMIT;

3) (optional) If Multi Reporting Currency (MRC) is configured, check the status of the MRC book:
SQL> SELECT book_type_code, deprn_status, deprn_request_id, mass_request_id FROM fa_mc_book_controls WHERE book_type_code = &mrc_book;

SQL> UPDATE fa_mc_book_controls SET mass_request_id = NULL, deprn_request_id = NULL, deprn_status = 'E' WHERE book_type_code = &mrc_book; COMMIT;

4) Resubmit depreciation.

5) If deprn_status ='R' (Running), please log a Service Request with Oracle Support Services to investigate the issue.

For reference please see this note: Depreciation (FADEPR) Errors With APP-OFA-48397 'Program exited with errors' (Doc ID 567038.1)",OFA,Books found with a depreciation status of Error.,Asset Book(s) depreciation status shows Error. Check the error before resubmitting depreciation.,2,Oracle Assets,DEPRN,DEP,WEEK,SAT,Accounting to Financial Reports: Period Close,Resolving depreciation errors prior to month end allows for a smoother period close.,EBS Financials,EBS - Fixed Assets
ME$EBS_FIN_FA_DEPRECIATION_INCOMPLETE_STATUS_CHECK,"Select bk.book_type_code book_type_code, bk.deprn_status deprn_status, bk.mass_request_id mass_request_id, bk.deprn_request_id deprn_request_id
from fa_book_controls bk
where bk.deprn_status in ('S', 'R')
and rownum < 1000
order by bk.book_type_code",2353260.1,"SYMPTOMS
============
Depreciation status, on the tables, shows it is still Running (R) or Submitted (S) for one or more posting books.


CAUSE
============
Depreciation status is not complete for posting book(s). This impacts running processes like Depreciation (FADEPR) and/or Mass Additions Post (FAMAPT).
Likely, the depreciation run was cancelled and now DEPRN_STATUS in FA_BOOK_CONTROLS is 'S' or 'R', the MASS_REQUEST_ID is not NULL, or the DEPRN_REQUEST_ID is not NULL.


SOLUTION
============
Q: How to re-run depreciation when the status on the tables shows it is still running or submitted?

A: You must make sure the MASS_REQUEST_ID and the DEPRN_REQUEST_ID are NULL and the DEPRN_STATUS is NOT S or R.

1. Run the following select statement to confirm:
SELECT deprn_status, mass_request_id, book_type_code FROM fa_book_controls WHERE book_type_code = &book;

2. To fix, run the following script:
UPDATE fa_book_controls SET mass_request_id = NULL, deprn_request_id = NULL, deprn_status = 'E' WHERE book_type_code = &book; COMMIT;

3. (optional) If Multi Reporting Currency (MRC) is configured, check the status of the MRC book:
SQL> SELECT book_type_code, deprn_status, deprn_request_id, mass_request_id FROM fa_mc_book_controls WHERE book_type_code = &mrc_book;

SQL> UPDATE fa_mc_book_controls SET mass_request_id = NULL, deprn_request_id = NULL, deprn_status = 'E' WHERE book_type_code = &mrc_book; COMMIT;

4. Resubmit depreciation.

For reference please see this note: R11i and Later: How to Rerun Depreciation When Status On Tables Show Still Running or Submitted? (Doc ID 144312.1)",OFA,Book(s) found with an incomplete depreciation status.,Asset Book(s) depreciation status shows still Running or Submitted impacting depreciation period close.,2,Oracle Assets,DEPRN,DEP,WEEK,SAT,Accounting to Financial Reports: Period Close,Resolving depreciation issues prior to month end allows for a smoother period close.,EBS Financials,EBS - Fixed Assets
ME$EBS_ATG_CT_PURGE_FND_LOBS_TABLE,"SELECT dummy dummyalias FROM dual,( select program_name ,count(*)
from FND_LOBS
where expiration_date is not NULL
group by program_name having count(*) >= 10000 )",829235.1,"The FND_LOBS table is used by different E-Business Suite (EBS) features, components, and products. Some features, such as Export, will make use of the EXPIRATION_DATE column; however, other features such as Attachments do not have an expiration date and will not use the EXPIRATION_DATE column.

The core E-Business Suite (EBS) Attachments form function does NOT use the EXPIRATION_DATE column within the FND_LOBS table. The action of populating the EXPIRATION_DATE column under Bug 9004099 was a one-time action in order to clean up orphaned FND_LOBS records via the program ""Purge Obsolete Generic File Manager Data"".

Other components and products that utilize the FND_LOBS table are: Help, ""Generic Loader"" (FNDLOAD), Document Management, Oracle Content Manager, and so on.

FND_LOBS is a unique table that is used for both EBS temporary data (i.e. Export) and permanent user data (i.e. Attachments).

References:
How To Manage, Reduce, and/or Purged The FND_LOBS Table? (Doc ID 1288149.1)
FAQ - Performance Considerations For FND_LOBS (Doc ID 829235.1)",FND,Purge Consideration for FND_LOBS Table to avoid abnormal growth of FND_LOBS table,FAQ - Performance Considerations For FND_LOBS (Doc ID 829235.1),2,Oracle Concurrent Processing,PERFORMANC,PERFORMANCE,WEEK,SAT,System: Techstack,"Of all the tables that occupy very large amount of space within APPLSYSD and APPLSYSX tablespaces of Oracle Applications instances, FND_LOBS is usually one of the top 10. This is because, it stores all the attachments that have been uploaded to Oracle Applications. There is a LOB field within this table called FILE_DATA, the corresponding LOB segment (e.g., APPLSYS.SYS_LOB0000680397C00004$$) is where the actual attachment data is stored, and is usually very large.",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_INTERNAL_MANAGER_ICM_ACTUAL_TARGET_NOT_SAME,"SELECT
    concurrent_queue_name ConcurrentQueueName,
    running_processes RunningProcess,
    max_processes TargetProcess
FROM
    fnd_concurrent_queues
WHERE
        concurrent_queue_name = 'FNDICM'
    AND running_processes != max_processes",2866879.1,"Please navigate to

System Administrator --> Concurrent -->Manager --> Administer form and check the  Internal Concurrent Manager(ICM)  Actual and Target Process are Equal.

If not Equal, please restart the managers to fix any issue's.",FND,Internal Concurrent Manager Actual and Target Process are Not Equal.,"If there Actual and Target process for Internal manager are not same, than it indicates a issue with manager and will cause issue in concurrent processing",2,Oracle Concurrent Processing,MANAGER,MANAGER,DAY,1,System: Techstack,"If there Actual and Target process for Internal Concurrent Manager are not same, than it indicates a issue with manager and will cause issue in concurrent request post processing hampering normal business.",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_OPPMANAGER_ACTUAL_TARGET_NOT_SAME,"SELECT
    concurrent_queue_name ConcurrentQueueName,
    running_processes RunningProcess,
    target_processes TargetProcess
FROM
    fnd_concurrent_queues
WHERE running_processes != max_processes
AND manager_type IN (
      SELECT
      service_id
      FROM
      fnd_cp_services
      WHERE
      service_handle = 'FNDOPP' ) ",2866879.1,"Please navigate to

System Administrator --> Concurrent -->Manager --> Administer form and check the  Output Post Processor(OPP) Concurrent Manager Actual and Target Process are Equal.

If not Equal, please restart the managers to fix any issue's.",FND,OPP Concurrent Manager Actual and Target Process are Not Equal.,"If there Actual and Target process for OPP managers are not same, than it indicates a issue with manager and will cause issue in concurrent post processing",2,Oracle Concurrent Processing,MANAGER,MANAGER,DAY,1,System: Techstack,"If there Actual and Target process for OPP managers are not same, than it indicates a issue with manager and will cause issue in concurrent request post processing hampering normal business.",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_STANDARD_MANAGER_ACTUAL_TARGET_NOT_SAME,"SELECT
    concurrent_queue_name ConcurrentQueueName,
    running_processes RunningProcess,
    max_processes TargetProcess
FROM
    fnd_concurrent_queues
WHERE
        concurrent_queue_name = 'STANDARD'
    AND running_processes != max_processes",2866879.1,"Please navigate to

System Administrator --> Concurrent -->Manager --> Administer form and check the Standard Concurrent Manager Actual and Target Process are Equal.

If not Equal, please restart the managers to fix any issue's.",FND,Standard Concurrent Manager Actual and Target Process are Not Equal.,"If there Actual and Target process for Standard managers are not same, than it indicates a issue with manager and will cause issue in concurrent processing",2,Oracle Concurrent Processing,MANAGER,MANAGER,DAY,1,System: Techstack,"If there Actual and Target process for Standard managers are not same, than it indicates a issue with manager and will cause issue in concurrent request processing hampering normal business.",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_FND_CONCURRENT_REQUESTS_ABOVE_500K,"SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            COUNT(*)
        FROM
            fnd_concurrent_requests
        WHERE phase_code='C'
        HAVING
            COUNT(*) >= 500000
    )
",1095625.1,"Follow the below steps to run the 'Purge Concurrent Request and/or Manager Data (FNDCPPUR)' concurrent program to purge eligible records from the FND_CONCURRENT_REQUESTS table. 
Login as System Administrator,
Navigate to the Requests form and
 Select 'Purge Concurrent Request and/or Manager Data'

Reference:
Health Check Alert: Purge the eligible records from the FND_CONCURRENT_REQUESTS table (Doc ID 1095625.1)",FND,There are more than 500k records in the FND_CONCURRENT_REQUESTS table,"If there are more than 500000 records in the FND_CONCURRENT_REQUESTS table, this can cause performance issues with the concurrent processing sub-system.",2,Oracle Concurrent Processing,PP,PP,WEEK,SAT,System: Techstack,"If there are more than 500000 records in the FND_CONCURRENT_REQUESTS table, this can cause performance issues with the concurrent processing sub-system. It is recommended to purge the eligible records.",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_APPLPTMP_NOT_IN_UTL_FILE_DIR,"SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            1
        FROM
            dual
        WHERE
            EXISTS (
                SELECT
                    applptmp
                FROM
                    (
                        SELECT DISTINCT
                            extractvalue(xmltype(text), '//APPLPTMP') applptmp
                        FROM
                            fnd_oam_context_files
                        WHERE
                                status = 'S'
                            AND path LIKE '%appl/admin%'
                    ), v$instance vi
                WHERE
                    applptmp != (
                        SELECT
                            nvl(substr(t.value, 0, instr(t.value, ',') - 1), t.value) AS output
                        FROM
                            v$parameter t
                        WHERE
                            name = 'utl_file_dir'
                    )
                   and vi.version like '19%'
            )
    )",2723960.1,"Follow the step from the below document to correctly set the APPLPTMP in UTL_FILE_DIR, so that Concurrent Requests Will Not Fail With Error ORA-20100

Concurrent Requests Fail With Error ORA-20100 (Doc ID 2723960.1)",FND,Concurrent Requests Fail With Error ORA-20100,"Concurrent Requests fail with the following error:

ERROR
-----------------------
ORACLE error 20100 in FDPSTP
Cause: FDPSTP failed due to ORA-20100:",2,Oracle Concurrent Processing,REQUEST,REQUEST,WEEK,SAT,System: Techstack,"Concurrent Requests fail with the following error:

ERROR
-----------------------
ORACLE error 20100 in FDPSTP
Cause: FDPSTP failed due to ORA-20100: ORA-20100: Temporary file creation for FND_FILE failed.",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_PURGE_FND_CP_GSM_OPP_AQTBL_TABLE,"SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            COUNT(*)
        FROM
            applsys.fnd_cp_gsm_opp_aqtbl
        HAVING
            COUNT(*) >= 10000
    )
    ",1156523.1,"Follow the Instruction from the below document to  Purge FND_AQ Tables

How To Purge FND_AQ Tables (Doc ID 1156523.1)",FND,Purge FND_AQ Tables to avoid Concurrent Manager/Request performance issue.,How To Purge FND_AQ Tables (Doc ID 1156523.1),2,Oracle Concurrent Processing,PP,PP,MONTH,1,System: Techstack,"1. The Internal standard manager take a long time to startup

2. The table AQ$_FND_CP_GSM_OPP_AQTBL table grow up enormously and has a lot of records

3. The following message is shown for a concurrent request of a bi publisher report:

    Post-processing of request xxx failed with the error message:
    ORA-04021: timeout occurred while waiting to lock object",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_FND_LOG_MESSAGES_ABOVE_500K,"SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            COUNT(*)
        FROM
            fnd_log_messages
       WHERE timestamp < sysdate - 7
        HAVING
            COUNT(*) >= 500000
    )",735138.1,"How to Purge/Troubleshoot the FND_LOG_MESSAGES table (Doc ID 735138.1)

For Purging data in ""FND_LOG_MESSAGES"" table, below concurrent program has to run successfully.

In Oracle Application Release 11i :
==============================
Please run concurrent program ""Purge Debug Log and System Alerts"" (short name: FNDLGPRG).

In Oracle Application Release 12 :
==============================
Please run concurrent program ""Purge Logs and Closed System Alerts"" (short name: FNDLGPRG).

Concurrent program ""Purge Debug Log and System Alerts"" in Release 11i and ""Purge Logs and Closed System Alerts"" in Release 12 is recommended way to purge messages. This program purges all messages up to the specified date,except messages for active transactions (new or open alerts, active ICX sessions, concurrent requests, and so on). This program is by default scheduled to run daily and purge messages whose transaction context is older than 7 days. Internally this concurrent program invokes FND_LOG_ADMIN APIs.

Data from the following tables will be deleted when you run ""Purge Logs and Closed System Alerts'"" or ""Purge Debug Log and System Alerts"" program :

FND_EXCEPTION_NOTES;
FND_OAM_BIZEX_SENT_NOTIF;
FND_LOG_METRICS;
FND_LOG_UNIQUE_EXCEPTIONS;
FND_LOG_EXCEPTIONS;
FND_LOG_MESSAGES;
FND_LOG_TRANSACTION_CONTEXT;
FND_LOG_ATTACHMENTS",FND,There are more than 500k records in the FND_LOG_MESSAGES table,"If there are more than 500000 records in the FND_LOG_MESSAGES table, this can cause performance issues with the application.",2,Oracle Concurrent Processing,PP,PP,WEEK,SAT,System: Techstack,"If there are more than 500000 records in the FND_LOG_MESSAGES table, this can cause performance issues with the applications. It is recommended to purge the eligible records.",EBS ATG,EBS - Component Tools
ME$EBS_ATG_CT_UNABLE_TO_FIND_OPP_ORPHAN_SUBSCRIBER,"SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            ltrim(name, 'OPP')
        FROM
            applsys.aq$fnd_cp_gsm_opp_aqtbl_s
        WHERE
            NOT EXISTS (
                SELECT
                    fcp.concurrent_process_id
                FROM
                    fnd_concurrent_queues    fcq,
                    fnd_concurrent_processes fcp
                WHERE
                        fcq.manager_type in (select service_id from FND_CP_SERVICES WHERE service_handle='FNDOPP')
                    AND fcq.concurrent_queue_id = fcp.concurrent_queue_id
                    AND fcq.application_id = fcp.queue_application_id
                    AND fcp.process_status_code = 'A'
            )
    )",2215371.1,"Please follow the instruction from the below document to fix the OPP issue.

R12 E-Business Suite Output Post Processor (OPP) Fails To Pick Up Concurrent Requests With Error 'Unable to find an Output Post Processor service to post-process request nnnnn' (Doc ID 2215371.1)",FND,OPP Fails To Pick Up Concurrent Request With Error: Unable to find an Output Post Processor,OPP Fails To Pick Up Concurrent Requests With Error 'Unable to find an Output Post Processor service to post-process request nnnnn' (Doc ID 2215371.1),2,Oracle Concurrent Processing,PP,PP,WEEK,SAT,System: Techstack,"Requests fail during Post Processing with the following errors:

'Unable to find an Output Post Processor service to post-process request xxxxx.

Check that the Output Post Processor service is running'",EBS ATG,EBS - Component Tools
ME$EBS_MFG_DM_CST_WIP_INTERFACE_ERROR,"Select transaction_id transaction_id, process_status process_status ,organization_code organization_code, wip_entity_name wip_entity_name, transaction_date transaction_date, acct_period_id acct_period_id
from wip_cost_txn_interface
where process_status = 3
and rownum<100
Order By Organization_Id",1069492.1,"SYMPTOM: There are WIP transactions in error to get costed.

CAUSE: Data corruption or setup issue.

SOLUTION: Step through section Pending WIP Costing transactions from Doc ID 1069492.1 - Resolving Period Close Pending Transaction R12.
If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",BOM,There are WIP transactions in error to get costed.,There are WIP transactions in error to get costed.,2,Oracle Cost Management,WIP,,WEEK,SAT,Accounting to Financial Reports: Period Close,Unable to perform period close,EBS MFG,EBS - Discrete MFG Execution and Financials
ME$EBS_MFG_DM_ERR_MMT,"select transaction_id transaction_id, inventory_item_id inventory_item_id, organization_id organization_id, transaction_date transaction_date, error_code error_code, error_explanation error_explanation
from MTL_MATERIAL_TRANSACTIONS
where error_code is NOT NULL
and transaction_date >= sysdate-60
and rownum<100
order by error_code, organization_id",2354542.1,"SYMPTOM: There are transactions that need review in Material Transactions table. An uncosted transaction will prevent period close if not processed.

CAUSE: Data corruption or setup issue.

SOLUTION: Step through the following documents:

Doc ID 748704.1 How to resolve Pending or Erred Cost Manager or Cost Workers  
Doc ID 865438.1 How to resolve Costing Errors & Problems
Doc ID 1274319.1 Costing Transaction Errors In MTL_MATERIAL_TRANSACTIONS table.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",BOM,Error or Uncosted Transactions found in mtl_Material_transactions table,"There are transactions that need review in Material Transactions table.
An uncosted transaction will prevent period close if not processed.",2,Oracle Cost Management,COST_ERROR,COST_AVG,WEEK,SAT,Accounting to Financial Reports: Period Close,"Uncosted Transactions can prevent Inventory period close, cannot reconcile Inventory with GL, and will result in inaccurate financial reports.",EBS MFG,EBS - Discrete MFG Execution and Financials
ME$EBS_MFG_DM_CST_SLA_ERROR,"SELECT XE.event_type_code Event_Code,XAE.EVENT_ID Event_id,XAE.ENTITY_ID entity_id,XAE.LEDGER_ID ledger_id,XAE.MESSAGE_NUMBER message_number,XAE.AE_HEADER_ID header_id
FROM xla_ae_headers xah,
xla_events xe,
xla_ae_lines xal,
xla_accounting_errors xae
WHERE xae.application_id=707
AND xe.application_id=707
AND xal.application_id=707
AND xah.application_id=707
AND xae.ae_header_id=xah.ae_header_Id
AND xah.ae_header_Id=xal.ae_header_id
AND xae.event_id=xe.event_id
AND xe.event_id=xah.event_id
AND xah.GL_TRANSFER_STATUS_CODE='N'
and xe.event_date BETWEEN sysdate-30 and sysdate
and rownum<100",748704.1,"SYMPTOM: When attempting to run Create Accounting - Cost Management process, errors occur.

CAUSE: SLA records did not process due to data corruption or setup issue.

SOLUTION: Step through Doc ID 748704.1 - How to resolve Pending or Erred Cost Manager or Cost Workers.
If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",BOM,There are SLA records which did not process due to error,"Create Accounting - Cost Management process, ends with error occurs:",2,Oracle Cost Management,SLA,,WEEK,SAT,Accounting to Financial Reports: Period Close,SLA transactions not transferred to GL.,EBS MFG,EBS - Discrete MFG Execution and Financials
ME$EBS_MFG_DM_SLA-CST-UNPROCESSED-EVENTS_2,"SELECT LEDGER_ID LEDGER_ID,
LEDGER_NAME LEDGER_NAME,
PROCESS_STATUS PROCESS_STATUS,
EVENT_STATUS EVENT_STATUS,
COUNT COUNT
FROM (
SELECT XAE.LEDGER_ID LEDGER_ID,
GL.NAME LEDGER_NAME,
DECODE (XE.PROCESS_STATUS_CODE,'D','Draft','E','Error','I','Invalid','P','Processed','R','Related event in error','U','Unprocessed','F','Final Mode',XE.PROCESS_STATUS_CODE) PROCESS_STATUS,
DECODE(XE.EVENT_STATUS_CODE,'I','Incomplete','N','No action','P','Processed','U','Unprocessed') EVENT_STATUS,
COUNT(*) COUNT
FROM XLA_EVENTS XE, XLA_AE_HEADERS XAE, GL_LEDGERS GL
WHERE XE.APPLICATION_ID=707
AND XE.EVENT_ID=XAE.EVENT_ID
AND XAE.LEDGER_ID=GL.LEDGER_ID
AND XE.EVENT_DATE BETWEEN SYSDATE-7 AND SYSDATE
AND XE.EVENT_STATUS_CODE='U'
AND XE.PROCESS_STATUS_CODE IN ('D','U')
GROUP BY XAE.LEDGER_ID, GL.NAME, XE.PROCESS_STATUS_CODE, XE.EVENT_STATUS_CODE)
where rownum<100",2005838.1,"SYMPTOM: Unprocessed records impede the ability to perform a proper period end close.

CAUSE: Data corruption or setup issue.

SOLUTION: Step through the following note: Review Doc ID 2005838.1 SLA Create Accounting -Cost Management Common Error Code/Number.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",BOM,Create Accounting-Cost management Un-Processed Event transactions in xla_events,Unprocessed Records found after running Create accounting. Subledger Period Close Exceptions Report shows unprocessed records,2,Oracle Cost Management,SLA,CREATE_ACT,WEEK,SAT,Accounting to Financial Reports: Period Close,Unprocessed records impede the ability to perform a proper period end close.,EBS MFG,EBS - Discrete MFG Execution and Financials
ME$EBS_MFG_DM_SLA-CST-INVALID-EVENTS,"SELECT LEDGER_ID LEDGER_ID,
LEDGER_NAME LEDGER_NAME,
PROCESS_STATUS PROCESS_STATUS,
EVENT_STATUS EVENT_STATUS,
COUNT COUNT
FROM (
SELECT XAE.LEDGER_ID LEDGER_ID,
GL.NAME LEDGER_NAME,
DECODE (XE.PROCESS_STATUS_CODE,'D','Draft','E','Error','I','Invalid','P','Processed','R','Related event in error','U','Unprocessed','F','Final Mode',XE.PROCESS_STATUS_CODE) PROCESS_STATUS,
DECODE(XE.EVENT_STATUS_CODE,'I','Incomplete','N','No action','P','Processed','U','Unprocessed') EVENT_STATUS,
COUNT(*) COUNT
FROM XLA_EVENTS XE, XLA_AE_HEADERS XAE, GL_LEDGERS GL
WHERE XE.APPLICATION_ID=707
AND XE.EVENT_ID=XAE.EVENT_ID
AND XAE.LEDGER_ID=GL.LEDGER_ID
AND XE.EVENT_DATE BETWEEN SYSDATE-7 AND SYSDATE
AND XE.EVENT_STATUS_CODE='U'
AND XE.PROCESS_STATUS_CODE='I'
GROUP BY XAE.LEDGER_ID, GL.NAME, XE.PROCESS_STATUS_CODE, XE.EVENT_STATUS_CODE)
where rownum<100",2005838.1,"SYMPTOM: Invalid Records found after running Create accounting. Subledger Period Close Exceptions Report shows unprocessed records.

CAUSE: Data corruption or setup issue.

SOLUTION: Step through the following note: Review Doc ID 2005838.1 SLA Create Accounting -Cost Management Common Error Code/Number.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",BOM,Create Accounting-Cost management Invalid Event transactions in xla_events,Invalid Records found after running Create accounting. Subledger Period Close Exceptions Report shows unprocessed records,2,Oracle Cost Management,SLA,CREATE_ACT,WEEK,SAT,Accounting to Financial Reports: Period Close,Invalid records impede the ability to perform a proper period end close.,EBS MFG,EBS - Discrete MFG Execution and Financials
ME$EBS_FIN_FCA_JE_INCORRECT_HQ_REG,"SELECT DISTINCT zl.application_id application_id,
         zl.trx_id trx_id,
         zl.trx_date trx_date,
         zl.legal_entity_id legal_entity_id,
         zl.HQ_ESTB_REG_NUMBER hq_estb_reg_number,
         zl.HQ_ESTB_PARTY_TAX_PROF_ID hq_estb_party_tax_prof_id
FROM ZX_LINES ZL,
     XLE_ETB_PROFILES ETB,
     ZX_PARTY_TAX_PROFILE PTP
WHERE zl.application_id IN (200,222)
  AND zl.entity_code    IN ('AP_INVOICES','TRANSACTIONS')
  AND zl.tax_rate_id IS NOT NULL
  AND ETB.legal_entity_id = zl.legal_entity_id
  AND ETB.MAIN_ESTABLISHMENT_FLAG = 'Y'
  AND zl.trx_date BETWEEN NVL(etb.main_effective_from, zl.trx_date)
                      AND NVL(etb.main_effective_to, zl.trx_date)
  AND PTP.PARTY_ID = ETB.PARTY_ID
  AND PTP.PARTY_TYPE_CODE = 'LEGAL_ESTABLISHMENT'
  AND EXISTS
      (  SELECT 1
         FROM ZX_REGISTRATIONS REG
         WHERE REG.PARTY_TAX_PROFILE_ID = PTP.PARTY_TAX_PROFILE_ID
           AND ZL.tax_regime_code = reg.tax_regime_code
           AND (    NVL(zl.HQ_ESTB_REG_NUMBER,CHR(0))  <> NVL(REG.REGISTRATION_NUMBER, CHR(0))
                 OR NVL(zl.HQ_ESTB_PARTY_TAX_PROF_ID,-1) <> REG.PARTY_TAX_PROFILE_ID
               )
           AND NVL(reg.tax, zl.tax) = zl.tax
           AND NVL(reg.tax_jurisdiction_code, NVL(zl.tax_jurisdiction_code, CHR(0))) = NVL(zl.tax_jurisdiction_code, CHR(0))
           AND zl.trx_date BETWEEN reg.effective_from AND NVL(reg.effective_to, zl.trx_date)
      )
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
and rownum<21",2417769.1,"Please follow:

1. Check the setup as per note Troubleshooting EMEA VAT reporting issues in Release 12 (Doc ID 1392535.1) ==> IssueA.1

2. Note EB-Tax Data Corruption Issues & Recommended Solutions (Doc ID 1316316.1) => Section 34:  The HQ Establishment Registration Number populated with NULL or incorrect value on Tax Lines:

Apply GDF Patch 27857755 to resolve the issue",JE,HQ Establishment Registration Number populated with NULL or incorrect value on Tax Lines.,HQ Establishment Registration Number populated with NULL or incorrect value on Tax Lines which will cause issues in EMEA VAT Reporting.,2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,HQ Establishment Registration Number populated with NULL or incorrect value on Tax Lines which will cause issues in EMEA VAT Reporting,EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_FCA_JE_TAX_LEVEL_SETUP_MISSING,"select zxdet.DEFAULT_TAXATION_COUNTRY DEFAULT_TAXATION_COUNTRY,
zxlines.trx_id trx_id, 
zxlines.tax_rate_id tax_rate_id,
zxlines.legal_reporting_status legal_reporting_status, 
zxtaxes.LEGAL_REPORTING_STATUS_DEF_VAL LEGAL_REPORTING_STATUS_DEF_VAL
from zx_lines zxlines, zx_lines_det_factors zxdet, zx_rates_b zxrates, zx_taxes_b zxtaxes
where zxlines.legal_reporting_status is null
and zxlines.tax_rate_id = zxrates.tax_rate_id
AND zxrates.tax = zxtaxes.tax
and zxlines.tax_id = zxtaxes.tax_id
and zxlines.application_id = zxdet.application_id
and zxlines.application_id in (200,222)
AND zxlines.TRX_LINE_ID = zxdet.TRX_LINE_ID
and zxlines.trx_id = zxdet.trx_id
and zxtaxes.LEGAL_REPORTING_STATUS_DEF_VAL='000000000000000'
and (zxdet.default_taxation_country in ('BE', 'CH', 'CZ', 'DE', 'DK','ES', 'EX', 'FI', 'FR', 'GR','HU', 'IL', 'IT', 'NL', 'NO', 'PL', 'PT', 'SE', 'TR', 'RU','SK', 'UA', 'RO', 'KZ', 'HR','SI', 'BG', 'RS' ,'AE')
    or zxdet.default_taxation_country is null)
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
And rownum<21",2417752.1,"Please review note Troubleshooting EMEA VAT reporting issues in Release 12 (Note 1392535.1) ==> Case#B.1.1
If datafix is needed, please log an SR with Support referencing this Note 2417752.1.",JE,Missing Legal Reporting Status on transactions,"Missing Legal reporting status for the ones which have the setup at Tax level with Tax Reporting Type Code = ""REPORTING_STATUS_TRACKING"".",2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,"Missing Legal reporting status on transactions, for the ones which have the setup at Tax level with Tax Reporting Type Code = ""REPORTING_STATUS_TRACKING"".
If this field it's NULL then the transactions will not be selected nor displayed by EMEA VAT Reporting processes.",EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_FCA_JE_AP_40_INCORRECT_OFFSET_TAX_AP,"SELECT DISTINCT INV.APPLICATION_ID application_id,INV.LEGAL_ENTITY_ID legal_entity_id,INV.SET_OF_BOOKS_ID set_of_books_id,
INV.INVOICE_DATE invoice_date,INV.INVOICE_ID invoice_id
                        FROM AP_INVOICES_ALL INV,AP_SUPPLIER_SITES_ALL APSUP,
                        (
SELECT DISTINCT d.invoice_id   FROM ap_invoice_distributions_all d ) invs        WHERE INV.VENDOR_SITE_ID = APSUP.VENDOR_SITE_ID
                        AND NVL(APSUP.OFFSET_TAX_FLAG,'Y') = 'N'
                        AND INV.HISTORICAL_FLAG            = 'Y'
                        AND INV.INVOICE_ID                     = invs.invoice_id
                        AND EXISTS
                          (SELECT 1
                          FROM ZX_LINES ZX
                          WHERE ZX.APPLICATION_ID     = INV.APPLICATION_ID
                          AND ZX.LEGAL_ENTITY_ID      = INV.LEGAL_ENTITY_ID
                          AND ZX.LEDGER_ID            = INV.SET_OF_BOOKS_ID
                          AND ZX.TRX_DATE             = INV.INVOICE_DATE
                          AND ZX.ENTITY_CODE           = 'AP_INVOICES'
                          AND ZX.EVENT_CLASS_CODE     IN ('STANDARD INVOICES', 'PREPAYMENT INVOICES', 'EXPENSE REPORTS')
                          AND ZX.TRX_ID               = INV.INVOICE_ID
                          AND ZX.RECORD_TYPE_CODE      = 'MIGRATED'
                          AND NVL(ZX.OFFSET_FLAG,'Y')  = 'N'
                          AND ZX.OFFSET_TAX_RATE_CODE IS NOT NULL
                          )
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
And rownum<21
",1316316.1,"Please follow note EB-Tax Data Corruption Issues & Recommended Solutions (Doc ID 1316316.1) ==> Section 32: OFFSET_TAX_RATE_CODE is wrongly populated in ZX_Lines:

Apply the GDF Patch: 19170382 to resolve the Issue.

RCA patch for this issue is Patch:12986875",JE,OFFSET_TAX_RATE_CODE is wrongly populated in ZX_Lines,ZX_LINES.OFFSET_TAX_RATE_CODE was getting populated on upgraded tax lines even if supplier site had offset tax calculation disabled causing issues in EMEA,2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,"ZX_LINES.OFFSET_TAX_RATE_CODE was getting populated on upgraded tax lines even when supplier site had offset tax calculation disabled causing issues in EMEA
VAT Selection Based Reports and in Tax Calculation for upgraded invoices",EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_FCA_JE_NULL_VAT_REGISTRATION,"SELECT hzp.party_id party_id,
hzp.party_name party_name,
ptp.rep_registration_number rep_registration_number
FROM zx_party_tax_profile ptp,
hz_parties hzp,
(SELECT
reg.party_tax_profile_id,
reg.registration_number
FROM zx_registrations reg
) reg
WHERE ptp.party_id = hzp.party_id
AND ptp.party_type_code = 'THIRD_PARTY'
AND reg.party_tax_profile_id(+) = ptp.party_tax_profile_id
AND ptp.rep_registration_number IS NULL
AND reg.registration_number IS NULL
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
and rownum<21",1316316.1,"Please follow note EB-Tax Data Corruption Issues & Recommended Solutions (Doc ID 1316316.1) ==> Section 36: The VAT REGISTRATION NUMBER is Null for the following Customers and Customer Sites:

Apply Patch 18249350",JE,The VAT REGISTRATION NUMBER is Null for the following Customers ,The VAT REGISTRATION NUMBER is Null for the following Customers which will cause issues in EMEA VAT Reporting,2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,Customers having no VAT Registration Number which will cause issues in the EMEA VAT Reporting,EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_FCA_JE_TRN_MISSING_EMEA_FORM,"SELECT xle.name legal_entity_name
,xle.legal_entity_id legal_entity_id
,zxr.registration_number tax_registration_number
,zxr.tax_regime_code tax_regime
FROM zx_party_tax_profile zxptp,
xle_etb_profiles xep,
zx_registrations zxr,
xle_entity_profiles xle
WHERE zxptp.party_type_code='LEGAL_ESTABLISHMENT'
and xep.party_id=zxptp.party_id
and xep.MAIN_ESTABLISHMENT_FLAG = 'Y'
and zxr.party_tax_profile_id = zxptp.party_tax_profile_id
and xle.legal_entity_id = xep.legal_entity_id
and zxr.registration_number is null
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
and rownum<21",1392535.1,"Please follow note Troubleshooting EMEA VAT reporting issues in Release 12 (Doc ID 1392535.1) => Issue#A.1:

1. Run the following query to identify the TRN setup at ebTax:

SELECT xle.name legal_entity_name
,xle.legal_entity_id legal_entity_id
,zxr.registration_number tax_registration_number
,zxr.tax_regime_code tax_regime
FROM zx_party_tax_profile zxptp,
xle_etb_profiles xep,
zx_registrations zxr,
xle_entity_profiles xle
WHERE zxptp.party_type_code='LEGAL_ESTABLISHMENT'
and xep.party_id=zxptp.party_id
and xep.MAIN_ESTABLISHMENT_FLAG = 'Y'
and zxr.party_tax_profile_id = zxptp.party_tax_profile_id
and xle.legal_entity_id = xep.legal_entity_id;

2. If either the query returns ""no records found"" or Tax Registration Number showing as null, then follow the below steps to do the setup:

i) Go to 'Tax Manager' Responsibility.
ii) Navigate to Tax Manager -> Party Tax Profiles -> Party Type = Firs Party Legal Establishment
iii) Party Name = <Enter your party Name> -> Go -> Update Tax Profile -> Click on Tax Registrations Tab -> Create 
     -> Enter required Tax Regime Code and Tax Registration Number -> then click on Apply.

3. Retest the issue. 

4. If the issue is resolved, please migrate the solution as appropriate to other environments",JE,Tax Registration Number (TRN) is not available in the List of Values in the EMEA VAT Setup.,TRN Setup could be missing under Party Tax Profile option in Tax Manager Responsibility.,2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,"Cannot complete the setup for EMEA VAT Reporting. This setup is mandatory for running the Legal VAT reports. Without it customer will not be able to report nor be compliant with Tax Authorities requirements.

This could lead to large fines each month.",EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_FCA_JE_TRX_VAT_DATE_RANGE,"select vat_reporting_entity_id vat_reporting_entity_id,
Legal_entity_id legal_entity_id,
Party_id Party_id,
Tax_regime_code Tax_regime_code,
entity_identifier entity_identifier,
driving_date_code driving_date
from JG_ZZ_VAT_REP_ENTITIES
where DRIVING_DATE_CODE is null
and ENTITY_LEVEL_CODE = 'LE'
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
And rownum<21",2417747.1,Please follow note Troubleshooting EMEA VAT reporting issues in Release 12 (Doc ID 1392535.1) ==> IssueB.3,JE,Missing VAT Driving Date in EMEA VAT Setup,Missing VAT Driving Date used for extraction which can cause issues when reporting at Legal Entity level for EMEA VAT purpose,2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,Missing VAT Driving Date used for extraction which can cause issues when reporting at Legal Entity level for EMEA VAT purpose,EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_FCA_JE_NULL_VAT_REGISTRATION_SITE,"SELECT hzs.party_site_id party_site_id,
hzl.CITY CITY,
hzl.COUNTY COUNTY,
reg.registration_number registration_number,
ptp.rep_registration_number rep_registration_number,
hzl.COUNTRY COUNTRY
FROM zx_party_tax_profile ptp,
(SELECT
hzcs.party_site_id
FROM hz_cust_acct_sites_all hzcs
) hzcs,
HZ_PARTY_SITES hzs,
HZ_LOCATIONS hzl,
(SELECT
reg.party_tax_profile_id,
reg.registration_number
FROM zx_registrations reg
) reg
WHERE ptp.party_id = hzcs.party_site_id
AND hzcs.party_site_id = hzs.party_site_id
AND hzs.LOCATION_ID = hzl.LOCATION_ID
AND ptp.party_type_code = 'THIRD_PARTY_SITE'
AND reg.party_tax_profile_id(+) = ptp.party_tax_profile_id
AND ptp.rep_registration_number IS NULL
AND reg.registration_number IS NULL
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
and rownum<21",1316316.1,"Please follow note EB-Tax Data Corruption Issues & Recommended Solutions (Doc ID 1316316.1) => Section 36: The VAT REGISTRATION NUMBER is Null for the following Customers and Customer Sites:

Apply Patch for this issue is Patch 18249350",JE,The VAT Registration Number is not populated in Customer Sites,The VAT Registration Number is not populated in Customer Sites for which Receivables Transaction is not coming in EMEA VAT Report,2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,The VAT Registration Number is not populated in Customer Sites for which Receivables Transaction is not coming in EMEA VAT Report,EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_FCA_JE_TAX_LEVEL_SETUP_MISSING_INCORRECT_SETUP,"select zxdet.DEFAULT_TAXATION_COUNTRY DEFAULT_TAXATION_COUNTRY,
zxlines.trx_id trx_id,
zxlines.tax_rate_id tax_rate_id,
zxlines.legal_reporting_status legal_reporting_status,
zxtaxes.LEGAL_REPORTING_STATUS_DEF_VAL LEGAL_REPORTING_STATUS_DEF_VAL
from zx_lines zxlines, zx_lines_det_factors zxdet, zx_rates_b zxrates, zx_taxes_b zxtaxes
where zxlines.legal_reporting_status is null
and zxlines.tax_rate_id = zxrates.tax_rate_id
AND zxrates.tax = zxtaxes.tax
and zxlines.tax_id = zxtaxes.tax_id
and zxlines.application_id = zxdet.application_id
and zxlines.application_id in (200,222)
AND zxlines.TRX_LINE_ID = zxdet.TRX_LINE_ID
and zxlines.trx_id = zxdet.trx_id
and zxtaxes.LEGAL_REPORTING_STATUS_DEF_VAL is null
and (zxdet.default_taxation_country in ('BE', 'CH', 'CZ', 'DE', 'DK','ES', 'EX', 'FI', 'FR', 'GR','HU', 'IL', 'IT', 'NL', 'NO', 'PL', 'PT', 'SE', 'TR', 'RU','SK', 'UA', 'RO', 'KZ', 'HR','SI', 'BG', 'RS' ,'AE')
or zxdet.default_taxation_country is null)
And exists (select 1 FROM fnd_product_installations WHERE application_id in (7002, 7003) and status='I')
and rownum<21",2417758.1,Follow note Troubleshooting EMEA VAT reporting issues in Release 12 (Doc ID 1392535.1) ==> Issue#A.2,JE,Missing Legal Reporting Status setup,"Missing Legal reporting status on transactions and setup at Tax level with Tax Reporting Type Code = ""REPORTING_STATUS_TRACKING"".",2,Oracle Financials for EMEA,ISETUP,ISETUP,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,"Missing Legal reporting status on transactions and Tax level setup is missing. No Legal Reporting Status code is attached with the Tax.
If this field it's NULL then the transactions will not be selected nor displayed by EMEA VAT Reporting processes.",EBS Financials,EBS - Financials Common Applications
ME$EBS_FIN_GL_CONCURRENT_PROGRAM_INCOMPATIBILITIES,"SELECT distinct fc1.user_concurrent_program_name program_name
FROM FND_CONCURRENT_PROGRAM_SERIAL FCP ,
FND_CONCURRENT_PROGRAMS_VL FC1 ,
FND_CONCURRENT_PROGRAMS_VL FC2
WHERE FC1.application_id = 101
AND FCP.to_run_concurrent_program_id = FC1.concurrent_program_id
AND FCP.incompatibility_type = 'D'
AND FC1.cd_parameter IS NULL
AND FC2.application_id = FCP.running_application_id
AND FC2.concurrent_program_id = FCP.running_concurrent_program_id
AND FC2.application_id = 101
and rownum<1000",1995324.1,"How to know if you are affected

Run the following SQL script. It will return the names of the programs that represent a risk:
For programs that are setup to allow parallel runs for different ledgers, the incompatibility_type should be set to D (Domain) and the cd_parameter should be set to  ""Ledger ID"".
This means that for programs that are setup to allow parallel runs for different ledgers, only one concurrent request will run for each distinct ledger_id.
SELECT distinct fc1.user_concurrent_program_name ""Program""
FROM FND_CONCURRENT_PROGRAM_SERIAL FCP,
   FND_CONCURRENT_PROGRAMS_VL FC1,
   FND_CONCURRENT_PROGRAMS_VL FC2
WHERE FC1.application_id = 101
AND FCP.to_run_concurrent_program_id = FC1.concurrent_program_id
AND FCP.incompatibility_type = 'D'
AND FC1.cd_parameter IS NULL
AND FC2.application_id = FCP.running_application_id
AND FC2.concurrent_program_id = FCP.running_concurrent_program_id
AND FC2.application_id = 101
ORDER BY 1;


To fix the program incompatibilities

1. Download and review the readme and pre-requisites for the following Patch :

- For 12.0.x: patch 6952457:R12.GL.A       b6952457.ldt version 120.0.12000000.1
- For 12.1.x: patch 18014340:R12.GL.B     b6952457.ldt version 120.0.12010000.4
- For 12.2.x: patch 18014340:R12.GL.C     b6952457.ldt version 120.1.12020000.2

2. Ensure that you have taken a backup of your system before applying the recommended patch.

Note:
The patch 6952457only delivers the LDT file to update the concurrent program definitions to correct the incompatibilities and will not load the LDT file. You need to manually load the LDT file with the following command:

    FNDLOAD apps/<apps-password> 0 Y UPLOAD $FND_TOP/patch/115/import/afcpprog.lct $GL_TOP/patch/115/import/US/b6952457.ldt - WARNINGS=TRUE CUSTOM_MODE=FORCE

On application of this LDT file, any customized data for the open period program and posting will be overwritten.

With the patch 18014340 there is no need to apply the LDT file in force mode post patch application. Patching will take care of applying the new ldt changes and no manual step is required.


3. Execute the queries below to confirm that incompatibilities are fixed:
For programs that are setup to allow parallel runs for different ledgers, the incompatibility_type should be set to D (Domain) and the cd_parameter should be set to  ""Ledger ID"".
SELECT distinct fc1.user_concurrent_program_name ""Program"",
   fc1.concurrent_program_id,
   fc2.user_concurrent_program_name ""Program2"",
   fc2.concurrent_program_id
FROM FND_CONCURRENT_PROGRAM_SERIAL FCP,
   FND_CONCURRENT_PROGRAMS_VL FC1,
   FND_CONCURRENT_PROGRAMS_VL FC2
WHERE FC1.application_id = 101
  AND FCP.to_run_concurrent_program_id = FC1.concurrent_program_id
  AND FCP.incompatibility_type = 'D'
  AND FC1.cd_parameter IS NULL
  AND FC2.application_id = FCP.running_application_id
  AND FC2.concurrent_program_id = FCP.running_concurrent_program_id
  AND FC2.application_id = 101
ORDER BY 1;

select * from FND_CONCURRENT_PROGRAMS
where concurrent_program_id in ( 20119 , 101 );

select * from FND_CONCURRENT_PROGRAM_SERIAL where
to_run_concurrent_program_id in ( 20119 , 101 );


4. If you are satisfied with the results then do the same fix in production.",SQLGL,Incorrect Program Incompatibilities.,Incorrect Program Incompatibilities found for General ledger Concurrent programs.,2,Oracle General Ledger,REPORTS,REPT,WEEK,SAT,Accounting to Financial Reports: Reporting,The incorrect concurrent program incompatibility definitions may lead to balances corruption issues,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_DUPLICATES_IN_GL_BALANCES,"SELECT a.ledger_id ledger_id, a.period_name period_name from
(SELECT ledger_id ledger_id, period_name period_name
FROM gl_balances
GROUP BY code_combination_id, period_name, ledger_id, currency_code,
actual_flag, budget_version_id, encumbrance_type_id,
translated_flag
HAVING count(*) > 1) a
where rownum < 2",2745665.1 ,"Please implement the below Steps in a Test Instance. Please take help of DBA/System Administrator.

Note: Refer to Demo Video from Doc ID 2745665.1 for detailed instructions and demo of installing GLBALFIX automatically.


1. Download and unzip glbalfix_R12.zip and FTP to a UNIX directory in ASCII mode (Ex: $HOME/glbalfix_R12) from Doc ID 2745665.1

2. Login to UNIX server and change directory to path (Ex: $HOME/glbalfix_R12) where above files are placed

3. Request executable permissions for GLBALFIX for this directory from your DBA.
   If you or your DBA are not sure of the command for this, please log a SR with Support, reference this document, and request the appropriate command.

4. After being granted the appropriate permissions, execute XXGL_GLBALFIX_INSTALL.sh as follows:

        $HOME/glbalfix_R12> XXGL_GLBALFIX_INSTALL.sh

5. Provide below parameters when prompted for.
        a) APPS User (which is generally apps)
        b) APPS User password
        c) GL User (which is generally gl)
        d) GL User password
        e) Absolute path where the files are FTPed. Do not put a '/' at the end. (Ex: /global/oracle/xxxxxx/home/glbalfix_R12)
        
6. Add the concurrent program ""General Ledger  - Automated Balance Fix"" to request group using below navigation
        System Administrator(Responsibility)> Security> Responsibility> Request

7. Upload the RTF File ""XXGL_GLBALFIX_US_V1.rtf"" using the below Navigation:
    XML Publisher Administrator > Home > Templates
    Query for Template: General Ledger  - Automated Balance Fix
    Upload the XXGL_GLBALFIX_US_V1.rtf File using the ""Add File"" button under ""Template Files"" section and choose the language as ""English""  and click on Apply button.

8. Submit the concurrent program ""General Ledger  - Automated Balance Fix"" by passing below parameters:

   (N): General Ledger Responsibility > View > Requests> Submit New Request

A) Ledger Name:
Select Name of the ledger for which balances are to be checked and/or fixed.

B) Start Period:
Balances will be checked and/or fixed from this period through the latest opened period.
Balances before this period will not be checked and/or fixed, though the ending balances of the period
immediately before this one will be used to verify the opening balances for this period.

C) Account Range:
Enter the code combination ranges for which the corruption has to be identified. You can leave it blank, in which case
the program will run for all code combinations. Leaving this parameter as blank, may cause slight performance issue for the program.

D) Report Only: Yes/No (LOV)
Entering a value of 'Yes' runs the report in Report Only mode. It will produce a report indicating the problems with the gl_balances / gl_daily_balances table, but it will NOT resolve these problems.
Entering a value of 'No' runs the report in Fix Mode, in which it indicates the problems with gl_balances table and fixes the GL balances.

9. Review the output and migrate the solution to other environments.

Note: Please note that if program completes in error no output will be generated. Refer log file for detailed information on the errors.",SQLGL,Duplicate rows in the GL_BALANCES table.,Fix depends on if summary template_id exist. Analyzer will show more details.,2,Oracle General Ledger,BALANCES,BAL,WEEK,SAT,Accounting to Financial Reports: Reporting,There should not be any duplicate balances in GL. This would be a  Balance Corruption and will result in incorrect accounting.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_DUPLICATES_IN_GL_CODE_COMBINATIONS,"SELECT cck.concatenated_segments segment
FROM gl_code_combinations_kfv cck,
fnd_user ffu
WHERE ffu.user_id = cck.last_updated_by
AND (cck.concatenated_segments,
cck.chart_of_accounts_id,
NVL(cck.template_id, -99)) IN
(SELECT cck.concatenated_segments,
cck.chart_of_accounts_id,
NVL(cck.template_id, -99)
FROM gl_code_combinations_kfv cck
GROUP BY cck.concatenated_segments,
cck.chart_of_accounts_id,
NVL(cck.template_id, -99)
HAVING COUNT(*) >1)
AND   rownum < 2",1068370.6,"SYMPTOMS
============
Duplicate rows exist in the GL_CODE_COMBINATIONS table.
There are rows in GL_CODE_COMBINATIONS with the same values for all segments.  The code_combination_ids are different.

Errors such as ora-01427 in GLPPOS occur:
PERF0005: Oracle error detected in glpiucc - ORA-01427: single-row subquery returns more than one row             
When the flexfield is frozen by navigating to financial > flexfields > key > segments screen, the job may execute completes successfully.

CAUSE
============
This issue maybe caused by running a bespoke code combination routine on a custom interface to GL. 

SOLUTION
============
A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
GL: Duplicates in GL_CODE_COMBINATIONS Table (Doc ID 1068370.6)",SQLGL,Duplicate rows in the GL_CODE_COMBINATIONS table.,Duplicates Code Combinations exists in the GL_CODE_COMBINATIONS Table.,2,Oracle General Ledger,SETUP,FLEX,WEEK,SAT,Accounting to Financial Reports: Reporting,There should not be any duplicate records for the GL Account combinations. Duplicate code combinations will lead to Balance Corruption and results incorrect accounting.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JE_NOT_IN_SL,"select 
  a.j_name j_name,
 a.Source Source,
 a.Category Category,
 a.Posted_Date Posted_Date,
  a.ledger_name Ledger_Name,
  a.CURRENCY Currency
from (
WITH ledger_a AS
  (SELECT gpm.period_name,
    gps.closing_status,
    led.*
  FROM gl_ledgers led,
    GL.GL_DATE_PERIOD_MAP gpm,
    gl_period_statuses gps
  WHERE to_date(gpm.accounting_date, 'DD-MON-YY')= to_date(sysdate , 'DD-MON-YY')
  AND gpm.period_set_name                        =led.period_set_name
  AND gpm.period_type                            =led.accounted_period_type
  AND led.complete_flag                          ='Y'
  AND led.FIRST_LEDGER_PERIOD_NAME              IS NOT NULL
  AND gps.ledger_id                              =led.ledger_id
  AND gpm.period_name                            =gps.period_name
  AND gps.application_id                         =101
  AND gps.closing_status                        IN ('C', 'O','P')
  ) ,
  relationship AS
  (SELECT SOURCE_LEDGER_ID,
    glr.target_ledger_id,
    gir.je_rule_set_id,
    gir.je_source_name,
    gir.je_category_name,
    gir.user_updatable_flag USER_UPDATABLE_FLAG,
    gir.include_flag INCLUDE_FLAG
  FROM gl_je_inclusion_rules gir,
    gl_ledger_relationships glr
  WHERE relationship_enabled_flag ='Y'
  AND relationship_type_code     <> 'NONE'
  AND relationship_type_code     <> 'BALANCE'
  AND glr.application_id          = 101
  AND glr.gl_je_conversion_set_id =gir.je_rule_set_id
  )
SELECT gh.name j_name,
  gh.je_source Source,
  gh.je_category Category,
  gh.Posted_Date Posted_Date,
  led1.name ledger_name,
  gh.currency_code CURRENCY
FROM gl_je_headers gh,
  ledger_a led1
WHERE gh.ledger_id = led1.ledger_id
AND gh.period_name = led1.period_name
AND gh.status      = 'P'
AND gh.actual_flag ='A'
AND NOT EXISTS
  (SELECT 1
  FROM gl_je_headers h,
    relationship glr
  WHERE h.ledger_id        = glr.target_ledger_id
  AND glr.source_ledger_id = led1.ledger_id
  AND h.parent_je_header_id=gh.je_header_id
  )
AND EXISTS
  (SELECT 1
  FROM relationship glr
  WHERE glr.source_ledger_id                                                  = led1.ledger_id
  AND glr.include_flag                                                        ='Y'
  AND DECODE(glr.je_source_name,'Other',gh.je_source,glr.je_source_name)      =gh.je_source
  AND DECODE(glr.je_category_name,'Other',gh.je_category,glr.je_category_name)=gh.je_category
  )
AND NOT EXISTS
  (SELECT 1
  FROM relationship glr
  WHERE glr.source_ledger_id                                                  = gh.ledger_id
  AND glr.include_flag                                                        ='N'
  AND glr.je_source_name                                                      =gh.je_source
  AND DECODE(glr.je_category_name,'Other',gh.je_category,glr.je_category_name)=gh.je_category
  )
) a WHERE rownum < 2",2137066.1,"Secondary Ledgers functionality was released as a part of R12 application package. This functionality allows one to maintain a mirror image of Primary ledger, with a different SLAM/Currency/Chart of Accounts/Calendar but with least efforts. While the feature eases out ledger maintenance, one area where normally users need to make additional efforts is their Reconciliation.

The diagnostics created and listed below are aimed at identifying most probable/common reasons for difference in balances from Primary and Secondary.While the diagnostics is aimed at providing initial pointers for reconciliation, we would wish to re-iterate the fact that both Primary and Secondary ledgers are different entities in their own and it is possible that each has its own transactions which are not created/replicated in the other, causing difference in balances.
1. Conversion Level :Journal

The diagnostic Identifies mismatch in balances caused because of following reasons:

a) Journal Posted in Primary Not Replicated in Secondary
b) Journal Posted in One Ledger and Not in the Other
c) Journals That Exist in Secondary But with Different Effective Date than Primary
d) Journals That have a Replica in Secondary but Deleted from Primary
e) Reversal Status Mismatch
f) Duplicate Submodule Journals Created in Subledger Level Secondary Ledger
g) Code Issue Causing Posted Reversal Journals to be Deleted.

Diagnostic Usage Instructions

i) Download the script ""Pri_Sec_Ledger_Recon.sql"" into local folder
ii) Connect SQL/PLUS as apps user
iii) Run the script
iv) Enter the below parameters:

**Please note all the values are case sensitive**

Enter the File Name: Enter a file name for output. (Do not give file extension)

Primary Ledger Name :
Secondary Ledger Name:
Primary Period Name:
Secondary Period Name:

 
2. Conversion Level :Subledger

Subledger Level Secondary Ledgers need reconciliation from two aspects :

a) Reconciliation Between Submodules and Ledgers : Replication While Import for Subledger Journals

Reconciliation Between Submodules and Primary Ledger and
Reconciliation Between Submodules and Secondary Ledger

Please run the SLA Diagnostic from the below note :

How To Avoid and Fix Corruption in Data Transfer from SLA - Negative Ledger_ID, Not Reached GL, Duplicate in GL Note: 883557.1

b) Reconciliation of Journals from Posting: Replication While Posting for Non-Subledger Journals

Run the script ""Pri_Sec_Ledger_Recon.sql"" from Step1

An Enhancement request also has already been raised Bug: 17259072 RECONCILIATION BETWEEN THE PRIMARY LEDGER AND SUBLEDGER LEVEL SECONDARY LEDGER

You can follow up the progress of this enhancement by monitoring this defect via MyOracleSupport.

1. Select Document ID (Knowledge Base, Forum or Bug) in the Quick Find poplist
2. Enter the Bug number in the text field.
3. Click on Go.
4. The bug number and subject appear.
5. Click on the bug number in the results window.
6. Click on Bookmark.
7. Monitor periodically by clicking My Headlines then the Bookmarks button.

 
3. Conversion Level : Balances

If there are issues with this type of conversion please check the Consolidation Functionality

Please refer General Ledger FAQ for Global Consolidation (Doc ID 121769.1) or General Ledger User Guide on Consolidation.

  

Quick Tip : In cases where disparity still exists even after reconciling the transactions identified by the diagnostic, please consider checking for Balance Corruption. Its quite possible that balances show up incorrectly in one of the ledgers due to corruption and hence the mismatch. One can check for Corruption by running the Standard Report ""Account Analysis(132 chars)"" for a blanket account range. The report shall mark corrupted code combinations with an asterisk (*) indicating corruption. Please create an SR with support to rectify the corrupted balances",SQLGL,Primary and secondary balances do not reconcile,Primary and secondary balances do not reconcile,2,Oracle General Ledger,POST,POST,WEEK,SAT,Accounting to Financial Reports: Period Close,Journal posted in primary was not replicated in secondary as it should. Secondary ledger balances are not correct.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EM29,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/*AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EM29%'
and rownum < 2) a",872662.1,"To implement the solution, please execute the following steps:

1. Set the profile option GL: Data Access Set to Responsibility with data access set which has access to BSVs involved in gl_interface data to be imported;
    a) Navigate to System Administrator->profiles->System; 
    b) Select Responsibility and Query profile option GL: Data Access Set 
    c) Assign Data Access Set which has access to Ledger BSVs

2. Resubmit Journal import program from above responsibility.",SQLGL,Journal Import Ends With Error EM29,Journal Import Ends With Error EM29 You do not have access to this ledger and account combination.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_INCORRECT_SUMMARY_ACCOUNTS,"SELECT CODE_COMBINATION_ID CODE_COMBINATION_ID,
CHART_OF_ACCOUNTS_ID CHART_OF_ACCOUNTS_ID,
ACCOUNT_TYPE ACCOUNT_TYPE,
SUMMARY_FLAG SUMMARY_FLAG,
TEMPLATE_ID TEMPLATE_ID
FROM
(SELECT *
FROM GL_CODE_COMBINATIONS
WHERE (SUMMARY_FLAG='N'
AND TEMPLATE_ID IS NOT NULL)
OR
(SUMMARY_FLAG='Y'
AND TEMPLATE_ID IS NULL))
WHERE Rownum < 2",2500674.1,"SYMPTOMS
============
GLPPOS fails for some batches, with the following error:-

PPOS0225: glpubr(): Number of updated GL_BALANCES rows does not equal the
number or rows in GL_POSTING_INTERIM_36772 table.
PPOS0226: Balances update will be ROLLED BACK. Posting is stopping here.

<x glpubr() 04-JAN-2008 08:45:15

> />gluerr() 04-JAN-2008 08:45:15 
Error in ROUTINE: glpubr, status: 0
SHRD0043: ERROR:
glpubr:updated balances rows != gl_interim_posting rows. Posting stops.
CALL YOUR CUSTOMER SUPPORT REPRESENTATIVE!

***************************************************
sqlcaid: sqlabc: 0 sqlcode: 0 sqlerrml: 0
sqlerrmc:
ORA-01403: no data found

sqlerrp: sqlerrd: 0 0 12060 0 0 0
sqlwarn: sqltext:
*****************************************************

CAUSE
============
The cause of the issue is invalid / incorrect data in gl_balances
The ccid should not have one record with a template_id and the rest of the records with a null
template_id.
If it is a summary account then template_id should be populated for all periods.
If it is a child account then template_id should be null for all periods.
Because there are 2 entries in gl_balances, one with a null template_id and one with a not-null
template_id, this results in extra records in the interim table and hence the error message.

SOLUTION
============
A data fix will be required from Support.  If you would like to correct this issue with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
Monitoring Services: R12 GL Summary Templates corruption (Doc ID 2500674.1)",SQLGL,Summary Templates has been corrupted,User can identify the summary templates which has been corrupted.,2,Oracle General Ledger,SUMMARY,SUMM,WEEK,SAT,Accounting to Financial Reports: Period Close,"Due to the incorrect summary accounts system will not update the correct balance for summary accounts, which will leads to balance corruption.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_POSTING_STATUS_ERROR7,"SELECT
    ledger_id ledger_id,
    name journal_name,
    enabled_flag enabled_flag,
    code_combination_range code_combination_range,
    concatenated_segments concatenated_segments,
    line_no line_no
FROM
    (
        SELECT
            gl.ledger_id,
            gh.name,
            c.enabled_flag,
            ( 'Start Date:'
             ||  c.start_date_active
             ||  ' / End Date:'
             ||  c.end_date_active ) code_combination_range,
            gcc.concatenated_segments,
            l.je_line_num line_no
        FROM
            gl_je_lines l,
            gl_code_combinations c,
            gl_ledgers gl,
            gl_je_headers gh,
            gl_je_batches gb,
            gl_code_combinations_kfv gcc
        WHERE
            gh.status NOT IN (
                'P','U'
            )
        AND
            l.status = 'U'
        AND
            c.code_combination_id = gcc.code_combination_id
        AND
            gh.je_header_id = l.je_header_id
        AND
            gh.je_batch_id = gb.je_batch_id
        AND
            gl.ledger_id = l.ledger_id
        AND
            l.creation_date >= SYSDATE - 30
        AND
            l.code_combination_id = c.code_combination_id
        AND (
                c.enabled_flag = 'N'
            OR
                l.effective_date NOT BETWEEN nvl(c.start_date_active,l.effective_date) AND nvl(c.end_date_active,'31-DEC-4712')
        )
    )
where rownum<1000",2105859.1,"The Posting Execution report will provide a list of journal lines that are in error.
There is no standard Oracle General Ledger (GL) query or report to provide the specific account combination that may be disabled or invalid.

1. To view the account combination for the line that is in error:
   Query the Batch with the issue:
   Journal -> Enter
   Review the specific line and the account.
   There is only one account per journal line.

2. Alternate method when there are multiple journal lines in error.

Execute the following SQL substituting the journal header ID to retrieve the results.
Select l.je_line_num
, l.code_combination_id
, l.status
, l.entered_dr
, l.entered_cr
, c.*
from gl_je_lines l,
gl_code_combinations c
where l.je_header_id = &journal_header_ID
and l.code_combination_id = c.code_combination_id
and (c.enabled_flag = 'N'
or l.effective_date not between nvl(c.start_date_active, sysdate-1) and nvl(c.end_date_active, sysdate+1));

 
3.  The Posting Execution report does not display the specific account code combination, it displays the code combination ID for the journal line that errors.",SQLGL,Error7 - Showing invalid journal entry lines or no journal entry lines,Identified journal lines with inactive code combinations.,4,Oracle General Ledger,POST,POST,WEEK,SAT,Accounting to Financial Reports: Period Close,Inactive Code combinations will effect Posting program.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_MASS_ALLOCATION_STUCK_IP,"select a.allocation_batch_id allocation_batch_id
, a.batch_name batch_name
, a.validation_status validation_status
from
((select gab.allocation_batch_id allocation_batch_id
, gab.name batch_name
, gab.validation_status validation_status
from gl_alloc_batches gab 
where gab.validation_status = 'I') 
UNION
(select gaf.allocation_batch_id allocation_batch_id
, gaf.name batch_name
, gaf.validation_status validation_status
from gl_alloc_formulas gaf where gaf.allocation_batch_id in
(select gab1.allocation_batch_id  from gl_alloc_batches gab1 where gab1.validation_status = 'I')) )a
where rownum<1000",1223537.1,"SYMPTOMS
============
While defining mass allocation formulas, the 'Validate All' button was pressed. The GLAVAL module: Validate MassAllocations request completed with error (signal 11) and the validation status of the formula is now stuck  at 'In process' and the formula cannot be modified.

ERROR
---------
>> glavop() 23-NOV-2008 08:09:01
/lnx_temdev/temdev/appl/gl/11.5.0/bin/GLAVAL
Program was terminated by signal 11

CAUSE
============
The program failed with a signal 11 - because of resource issues.

When the 'Validate all' process started, as the program went through  the validation --the status for the formula was set to 'In Process'   (i.e. validation in process)  
If it had completed successfully -- the validation would be set to Validated or Not validated, if there were errors.
Since it failed -- the status was stuck in limbo with an 'In Process' status.

This 'In process'  prevents you from modifying the formula, because it tells the system -- that this data is being processed (when in actuality the process had failed mid stream)

SOLUTION
============
A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
GLAVAL Validate MassAllocations Terminated with Signal 11, Both Validation Status on Mass Allocation Batch And Formula Are Stuck at 'In Process' (Doc ID 1223537.1)",SQLGL,Mass Allocation batch and/or formula is Stuck In Process Status,Mass Allocation batch and/or formula is Stuck 'In Process' Status,3,Oracle General Ledger,MASSALLOC,MASS,WEEK,SAT,Accounting to Financial Reports: Reporting,Mass Allocation Batch is stuck in Process and couldn't be created,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BATCH_STATUS_ERROR3,"SELECT
    ledger_id ledger_id,
    batch_name batch_name,
    header_name header_name,
    batch_status batch_status,
    header_status header_status,
    line_status line_status
FROM
    (
        SELECT DISTINCT
            ledger_id ledger_id,
            b_name batch_name,
            h_name header_name,
            b_status batch_status,
            h_status header_status,
            l_status line_status
        FROM
            (
                WITH ledger AS (
                    SELECT UNIQUE
                        gpm.period_name,
                        gps.closing_status,
                        led.ledger_id
                    FROM
                        gl_ledgers led,
                        gl.gl_date_period_map gpm,
                        gl_period_statuses gps
                    WHERE
                        EXTRACT(YEAR FROM gpm.accounting_date) = EXTRACT(YEAR FROM SYSDATE)
                    AND
                        gpm.period_set_name = led.period_set_name
                    AND
                        gpm.period_type = led.accounted_period_type
                    AND
                        led.complete_flag = 'Y'
                    AND
                        led.first_ledger_period_name IS NOT NULL
                    AND
                        gps.ledger_id = led.ledger_id
                    AND
                        gpm.period_name = gps.period_name
                    AND
                        gps.application_id = 101
                    AND
                        gps.closing_status IN (
                            'C','O','P','F'
                        )
                ) SELECT
                    jel.ledger_id ledger_id,
                    jeb.name b_name,
                    jeh.name h_name,
                    jeb.status b_status,
                    jeh.status h_status,
                    jel.status l_status
                FROM
                    gl_je_lines jel,
                    gl_je_headers jeh,
                    gl_je_batches jeb,
                    ledger led
                WHERE
                    jeh.ledger_id = led.ledger_id
                AND
                    jeh.je_header_id = jel.je_header_id
                AND
                    jeb.je_batch_id = jeh.je_batch_id
                AND
                    jel.period_name = led.period_name
                AND
                    jeh.status = 'P'
                AND
                    jel.status = 'P'
                AND
                    jeb.status = 'E'
            )
    )
where rownum<1000",2481368.1,"SYMPTOMS
============
The General Ledger Posting program is failing for several batches with ""Error3 - Showing no journal entries"" for this batch.
Reviewing gl_je_batches you see that the batch has a status of 'E'.
The header has a status of 'P' and all the lines  have a status of 'P'.

CAUSE
============
The cause for this issue is data corruption as determined by Troubleshooting Journal Batch Posting Status with Error% Doc ID 1390899.1.
Error3 - Showing no journal entries for this batch

SOLUTION
============
A data fix will be required from Support.  If you would like to correct these journals with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
GLPPOS:Posting Ends with "" Error3 - Showing no journal entries"" (Doc ID 2481368.1)",SQLGL,Posting program is failing for several batches with Error3,Identified journals with incorrect batch status(E) where all journal lines posted successfully(Line Status = P).,4,Oracle General Ledger,POST,POST,WEEK,SAT,Accounting to Financial Reports: Period Close,"Journal Batch Status ""E"" represents Data Corruption.Journal with batch Status ""E"" cannot post to General Ledger.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EU02,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EU02%'
and rownum < 2) a",1423023.1,"For all solutions requiring installation of a patch, do the following:

1.Download and install the patch recommended in the FIX column of Note 1423023.1 as appropriate.
NOTE: If the patch is labeled as “Controlled” release the version of the patch is only available from support. Please update the SR and Support will engage appropriately.

If the patch is labeled as “General” Release, or if the release status is not stated, the patch is available and no password is required.

2. Read the readme.txt and ensure all prerequisites are met.
3. Install on a TEST instance experiencing the same issue, after having done appropriate backups.
4. After installation, If file versions are provided, please ensure the newly installed files are at same or greater version as those stated in the solution.

Use the following command to check file versions:
strings -a $GL_TOP/bin/GLLEZL |grep '$Header' | more

5. Bounce the server
6. Test the issue
7. If the issue is resolved, migrate to other instances as appropriate.",SQLGL,Journal Import Ends With Error EU02,EU02 This journal entry is unbalanced and suspense posting is not allowed in this set of books.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_CONSOL_DUPLICATE_EU02,"SELECT
    name name,
    je_line_num je_line_num,
    ledger_id ledger_id,
    period_name period_name,
    accounted_dr accounted_dr,
    accounted_cr accounted_cr
FROM
    (
        SELECT
            gjh.name name,
            gjl.je_line_num je_line_num,
            gjl.ledger_id ledger_id,
            gjl.period_name period_name,
            gjl.accounted_dr accounted_dr,
            gjl.accounted_cr accounted_cr,
            COUNT(*) OVER(
                PARTITION BY gjl.je_line_num,
                gjl.ledger_id,
                gjl.period_name,
                gjl.accounted_dr,
                gjl.accounted_cr
            ) c_count
        FROM
            gl_je_lines gjl,
            gl_ledgers gl,
            gl_je_headers gjh
        WHERE
            1 = 1
            AND   gjl.ledger_id = gl.ledger_id
            AND   gl.consolidation_ledger_flag = 'Y'
            AND   gjh.je_header_id = gjl.je_header_id
            AND   gjh.default_effective_date > sysdate - 30
    ) a
WHERE
    a.c_count > 1
and rownum<1000
ORDER BY
    name",1068100.1,"Please note that changing the value set of a Chart of Accounts which is already assigned to a Set of Books is strictly not supported.

To resolve the issue, follow the given steps:
1. Define a new mapping between the Parent set of books and subsidiary set of books. Define it exactly similar to the one that you are using currently.
2. Delete the existing Consolidation data from GL_INTERFACE after taking a backup. In case the issue is identified as incorrect data in the Parent set of books, reverse the consolidation journals that have the incorrect data.
3. Rerun consolidation without journal import and once the data reaches GL_INTERFACE, confirm that there is no duplication now.
4. Run Journal Import and confirm the results.",SQLGL,Journal Import Failed With Error EU02 While Running Consolidation,Identified the Duplicate data in the table gl_cons_segment_map for Consolidation ledger,4,Oracle General Ledger,GCS,CONS,MONTH,LAST,Accounting to Financial Reports: Period Close,When value set assigned to the Chart of Accounts was changed after defining the consolidation Mapping and will result in corruption in gl_cons_segment_map table and which causes issue in journal import and delays period closing.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EF02,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EF02%'
and rownum < 2) a",1570294.1,"The data being imported is for Budgets.
1. Verify if the accounting flexfield in question, has the qualifier ""Budgeting Allowed "" flag was set to No.
    This may be verified by retrieving data for the account combination in question using a statement similar to the one below:
select *
from gl_code_combinations
where segment1 = '&value'
and segment2 = '&value'
and segment3 = '&value' and segment4 = '&value';

 

2. If column DETAIL_BUDGETING_ALLOWED_FLAG is set to No,
    Navigate to Setup: Account Combinations

3. Query the problem account combination and set flag ""Allow Budgeting"" to Yes.

4. Save, then submit Journal Import again and verify it completes successfully.",SQLGL,Journal Import Ends With Error EF02,Journal Import Ends With Error EF02 Detail posting not allowed for this Accounting Flexfield.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BC_PERIOD_MAP_S_ROWS,"select ledger_id ledger_id ,
period_name period_name,
name name, s_rows s_rows from 
 (
WITH ledger AS
  (SELECT UNIQUE gpm.period_name,
    gps.closing_status,
    led.*
  FROM gl_ledgers led,
    GL.GL_DATE_PERIOD_MAP gpm,
    gl_period_statuses gps
  WHERE extract(YEAR FROM gpm.accounting_date)= extract(YEAR FROM sysdate )
  AND gpm.period_set_name                     =led.period_set_name
  AND gpm.period_type                         =led.accounted_period_type
  AND led.complete_flag                       ='Y'
  AND led.FIRST_LEDGER_PERIOD_NAME           IS NOT NULL
  AND led.enable_budgetary_control_flag='Y'
  AND gps.ledger_id                           =led.ledger_id
  AND gpm.period_name                         =gps.period_name
  AND gps.application_id                      =101
  AND gps.closing_status                     IN ('C', 'O','P','F')
  )
SELECT DISTINCT led.ledger_id, led.period_name, led.name ,'No S Rows exists in gl_bc_period_map Table' s_rows
FROM gl_period_statuses gps2,
  gl_period_statuses gps1,
  ledger led
WHERE gps1.ledger_id     = led.ledger_id
AND gps1.application_id  = 101
AND gps1.closing_status != 'N'
AND gps2.ledger_id       = led.ledger_id
AND gps2.application_id  = 101
AND gps2.period_year     = gps1.period_year
AND gps2.period_num      =
  (SELECT MIN( gps.period_num )
  FROM gl_period_statuses gps
  WHERE gps.ledger_id    = led.ledger_id
  AND gps.application_id = 101
  AND gps.period_year    = gps2.period_year
  )
AND NOT EXISTS
  (SELECT '1'
  FROM gl_bc_period_map gbpm
  WHERE gbpm.ledger_id             = led.ledger_id
  AND gbpm.actual_flag             = 'A'
  AND gbpm.boundary_code           = 'S'
  AND gbpm.transaction_period_name = gps1.period_name
  ) and rownum <2 )
", 1115496.1,"To implement the solution, please execute the following steps:

1. Download and review the readme and pre-requisites for the following patch:
For R12.0: Patch 9328734:R12.PSA.A: THE FUNDS VERIFICATION FAILS EVEN WHEN FUNDS ARE AVAILABLE
For R12.1: Patch 9328734:R12.PSA.B: THE FUNDS VERIFICATION FAILS EVEN WHEN FUNDS ARE AVAILABLE.
NOTE: If the above patches are already applied then goto step#5.


2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment.

4. Confirm the following file versions meet or exceed:
For R12.0: glbcma.lpc  120.3.12000000.4
For R12.1: glbcma.lpc  120.4.12010000.3
You can use the commands like the following:
strings -a $GL_TOP/bin/GLBCMP | grep 'glbcma.lpc'

5. Run the Period Map Maintenance program from the command line, pass the Ledger_ID parameter as follows:
$gl/bin/GLBCMP <apps_user>/<apps_password>@<instance> 0 Y <ledger_id>


6. Retest the issue with a new journal.

7. Migrate the solution as appropriate to other environments.",SQLGL,Missing S rows in gl_bc_period_map Table,Special S rows are not inserted in gl_bc_period_map table for non federal customers resulting in inaccurate calculation of funds available,2,Oracle General Ledger,BUDGETS,BUDG,WEEK,SAT,P2P: Encumbrance,Funds available are not correctly calculated.This may stop users to enter transactions in system due to not enough funds available.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_ER09,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%ER09%'
and rownum < 2) a",1268658.1,"Case 1

    Navigate to GL Responsibility > Setup : Journal > AutoReverse
    Query the reversal criteria and change the reversal date to Last day and keep reversal period as Same period.
    Save changes
    Run journal import

Case 2

    Modify the Reversal Criteria to specify either Same Period, Next Period, or Next non-Adjusting Period for the Default Period.
    Or
    Populate the reversal period when entering the data on the journal worksheet.

Case 3

    Open the next period and rerun Journal Import.
    Navigation - Setup/Financials/Open/Close
    Form Name - Open and Close Periods (GLXOCPER)
    Once the journal is able to reverse into the correct period, the import process will complete successfully.

 
Note : Issue can also happen in the below scenario:

Last Non-Adjusting Period: DEC-15 (Open)
Adjusting Period: ADJ-15 (Closed or Never Opened)
First Non-Adjusting Period New Year: JAN-16 (Open)

Client has set Reversal Period = Next Period. This has worked all year until it is year end and the next accounting period is an adjusting period. If the adjusting period (ADJ-15) has never been opened or has already been closed and the client has opened the first period of the next year (JAN-16), client attempts to process a journal into DEC-15, expecting the Reversal Period on the journal to be set to JAN-16.

Instead, journal receives ER09 error.

To resolve the issue, change the Journal Reversal Criteria to have the Reversal Period = Next Non-Adjusting.

Then:

- If original journal Source is a spreadsheet (WebADI), Journal Import will leave records in gl_interface with a status of ER09. Just re-execute Journal Import to load into GL.
- If original journal Source is a subledger (Cost Management, A/P, etc.), Journal Import will remove the records from gl_interface and place back in the subledger. Open a new SR with the appropriate subledger (Cost Management, A/P, etc.) to re-import journal.",SQLGL,Journal Import Ends With Error ER09,Journal Import Ends With Error ER09 Default Reversal Information Could Not Be Determined,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNALS_UNBALANCED,"SELECT a.JE_HEADER_ID journal_id,
  a.journal_name journal_name,
  a.ledger_id ledger_id,
  a.bsv balancing_value,
    a.sumCR Credit,
    a.sumDR Debit
FROM
  (SELECT gjh.je_header_id JE_HEADER_ID,
    MAX(gjh.name) journal_name,
    MAX(gjh.ledger_id) ledger_id,
    DECODE (gl.bal_seg_column_name,'SEGMENT1', gcc.segment1, 'SEGMENT2', gcc.segment2 ,'SEGMENT3', gcc.segment3 ,'SEGMENT4', gcc.segment4 ,'SEGMENT5', gcc.segment5 ,'SEGMENT6', gcc.segment6 , 'SEGMENT7', gcc.segment7 ,'SEGMENT8', gcc.segment8 ,'SEGMENT9', gcc.segment9 ,'SEGMENT10', gcc.segment10 ,'xx') bsv,
    SUM(NVL(accounted_cr, 0)) sumCR,
    SUM(NVL(accounted_dr, 0)) sumDR
  FROM gl_code_combinations gcc,
    gl_je_lines gjl,
    gl_je_headers gjh ,
    gl_ledgers gl,
    GL.GL_DATE_PERIOD_MAP gpm
  WHERE gjl.je_header_id                        = gjh.je_header_id
  AND gjl.period_name                           = gjh.period_name
  AND gjh.ledger_id                             = gjl.ledger_id
  AND gcc.code_combination_id                   = gjl.code_combination_id
  AND gjh.actual_flag                           = 'A'
  AND gjh.STATUS                                ='P'
  AND gjh.currency_code                        <> 'STAT'
  AND gjh.ledger_id                             =gl.ledger_id
  AND gjh.period_name                           =gpm.period_name
  AND to_date(gpm.accounting_date, 'DD-MON-YY') = to_date(sysdate, 'DD-MON-YY')
  AND gpm.period_set_name                       = gl.period_set_name
  AND gl.complete_flag                          ='Y'
  AND gl.FIRST_LEDGER_PERIOD_NAME              IS NOT NULL
  AND gcc.chart_of_accounts_id                  = gl.chart_of_accounts_id
  GROUP BY gjh.je_header_id,
    DECODE (gl.bal_seg_column_name,'SEGMENT1', gcc.segment1, 'SEGMENT2', gcc.segment2 ,'SEGMENT3', gcc.segment3 ,'SEGMENT4', gcc.segment4 ,'SEGMENT5', gcc.segment5 ,'SEGMENT6', gcc.segment6 , 'SEGMENT7', gcc.segment7 ,'SEGMENT8', gcc.segment8 ,'SEGMENT9', gcc.segment9 ,'SEGMENT10', gcc.segment10 ,'xx')
  HAVING SUM(NVL(accounted_cr, 0)) <> SUM(NVL(accounted_dr, 0))
  ) A where  rownum < 2",2745665.1,"Please implement the below Steps in a Test Instance. Please take help of DBA/System Administrator.

Note: Refer to Demo Video from Doc ID 2745665.1 for detailed instructions and demo of installing GLBALFIX automatically.


1. Download and unzip glbalfix_R12.zip and FTP to a UNIX directory in ASCII mode (Ex: $HOME/glbalfix_R12) from Doc ID 2745665.1

2. Login to UNIX server and change directory to path (Ex: $HOME/glbalfix_R12) where above files are placed

3. Request executable permissions for GLBALFIX for this directory from your DBA.
   If you or your DBA are not sure of the command for this, please log a SR with Support, reference this document, and request the appropriate command.

4. After being granted the appropriate permissions, execute XXGL_GLBALFIX_INSTALL.sh as follows:

        $HOME/glbalfix_R12> XXGL_GLBALFIX_INSTALL.sh

5. Provide below parameters when prompted for.
        a) APPS User (which is generally apps)
        b) APPS User password
        c) GL User (which is generally gl)
        d) GL User password
        e) Absolute path where the files are FTPed. Do not put a '/' at the end. (Ex: /global/oracle/xxxxxx/home/glbalfix_R12)
        
6. Add the concurrent program ""General Ledger  - Automated Balance Fix"" to request group using below navigation
        System Administrator(Responsibility)> Security> Responsibility> Request

7. Upload the RTF File ""XXGL_GLBALFIX_US_V1.rtf"" using the below Navigation:
    XML Publisher Administrator > Home > Templates
    Query for Template: General Ledger  - Automated Balance Fix
    Upload the XXGL_GLBALFIX_US_V1.rtf File using the ""Add File"" button under ""Template Files"" section and choose the language as ""English""  and click on Apply button.

8. Submit the concurrent program ""General Ledger  - Automated Balance Fix"" by passing below parameters:

   (N): General Ledger Responsibility > View > Requests> Submit New Request

A) Ledger Name:
Select Name of the ledger for which balances are to be checked and/or fixed.

B) Start Period:
Balances will be checked and/or fixed from this period through the latest opened period.
Balances before this period will not be checked and/or fixed, though the ending balances of the period
immediately before this one will be used to verify the opening balances for this period.

C) Account Range:
Enter the code combination ranges for which the corruption has to be identified. You can leave it blank, in which case
the program will run for all code combinations. Leaving this parameter as blank, may cause slight performance issue for the program.

D) Report Only: Yes/No (LOV)
Entering a value of 'Yes' runs the report in Report Only mode. It will produce a report indicating the problems with the gl_balances / gl_daily_balances table, but it will NOT resolve these problems.
Entering a value of 'No' runs the report in Fix Mode, in which it indicates the problems with gl_balances table and fixes the GL balances.

9. Review the output and migrate the solution to other environments.

Note: Please note that if program completes in error no output will be generated. Refer log file for detailed information on the errors.",SQLGL,Posted unbalanced journals,Posted balance do not balance within balancing segments. Total balances are not correctly balance.,2,Oracle General Ledger,POST,INTCO,WEEK,SAT,Accounting to Financial Reports: Period Close,Incorrect intercompany accounts generated for the posted journals that could lead to unbalance balances. Balances are not correct.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNALS_WITH_NEGATIVE_LEDGER_ID,"SELECT
    je_batch_id     je_batch_id,
    name    name,
    default_period_name    default_period_name,
    status    status,
    ledger_id    ledger_id,
    je_source    je_source
FROM
(
SELECT
    gjb.je_batch_id,
    gjb.name,
    gjb.default_period_name,
    gjb.status,
    gjb.budgetary_control_status,
    gjb.approval_status_code,
    gjh.ledger_id,
    gjh.je_category,
    gjh.je_source,
    gjh.je_from_sla_flag
FROM
    gl_je_batches gjb,
    gl_je_headers gjh
WHERE
    gjb.je_batch_id = gjh.je_batch_id
    AND gjh.ledger_id < 0
    AND EXTRACT(YEAR FROM gjb.default_effective_date) = EXTRACT(YEAR FROM SYSDATE)
    AND ROWNUM < 2)",883557.1,"To implement the solution, please execute the following steps:

1. Ensure that you have taken a backup of your system before applying the recommended solution.

2. Run the scripts from Doc ID 883557.1 in a TEST environment first:

3. Once the scripts complete, confirm that the data is corrected.

4. Confirm that the data is corrected when viewed in the Oracle Applications.

5. If you are satisfied that the issue is resolved, migrate the solution as appropriate to other environments.",SQLGL,Journals with negative Ledger_ID exists,There are journals with negative Ledger_ID and not able to view it from the applications. GL Analyzer will show more details.,2,Oracle General Ledger,JE_ENTER,JENT,WEEK,MON,Accounting to Financial Reports: Reporting,There should not be any journals with negative ledger_id in GL. Data with negative LEDGER_ID in the General Ledger (GL) tables wouldn't display the journal from the application and might cause a mismatch between the subledger and GL modules. This issue needs to be resolved quickly to avoid any accounting and period closing issues.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EE01,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EE01%'
and rownum < 2) a",1444273.1,"A. Datafix:

Apply GDF(Generic Datafix) Patch 13935014. Check the Readme of the patch and run all steps as instructed.

 

B.Codefix:

Please apply the root cause Patch 9030331 to prevent the issue in the future

Bug is fixed in 12.1.

1. Download and review the readme and pre-requisites for the Patch.

2. Ensure a backup of the system before applying the recommended patch.

3. Apply the patch in a test environment.

4. Confirm the following file versions:

$XLA_TOP/patch/115/sql/xlajebal.pkb 120.153.12000000.26

Use the commands like the following:
strings -a XLA_TOP/patch/115/sql/xlajebal.pkb | grep '$Header'

5. Retest the issue.",SQLGL,Journal Import Ends With Error EE01,Journal Import Ends With Error EE01 An encumbrance type is required for encumbrance lines.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BAL_JOURN_PREV,"select A.ledger_id ledger_id,
A.code_combination_id ccid,
A.period_name period_name,
A.currency_code currency_code
from
(
SELECT T.ledger_id,
T.code_combination_id code_combination_id,
T.period_name period_name,
T.currency_code currency_code,
SUM(NVL(T.BALANCES_CR, 0)) BALANCES_CR,
SUM(NVL(T.balances_dr, 0)) balances_dr,
SUM(NVL(T.lines_cr, 0)) lines_cr,
SUM(NVL(T.lines_dr, 0)) lines_dr
FROM
(SELECT led.ledger_id,
l.code_combination_id code_combination_id,
h.period_name period_name,
led.currency_code currency_code,
0 BALANCES_CR,
0 balances_dr,
SUM(NVL(l.accounted_cr, 0)) lines_cr,
SUM(NVL(l.accounted_dr, 0)) lines_dr
FROM gl.gl_je_headers h ,
gl.gl_je_lines l ,
GL_CODE_COMBINATIONS_KFV CC ,
GL_LEDGERS LED,
GL.GL_DATE_PERIOD_MAP gpm
WHERE h.period_name =gpm.period_name
AND to_date(gpm.accounting_date, 'DD-MON-YY')= to_date(sysdate-30, 'DD-MON-YY')
AND gpm.period_set_name =led.period_set_name
AND led.complete_flag ='Y'
AND led.FIRST_LEDGER_PERIOD_NAME IS NOT NULL
AND l.code_combination_id = CC.CODE_COMBINATION_ID
AND h.ledger_id =led.ledger_id
AND h.je_header_id = l.je_header_id
AND h.currency_code != 'STAT'
AND H.STATUS = 'P'
AND H.ACTUAL_FLAG                            ='A'
GROUP BY led.ledger_id,
l.code_combination_id,
h.period_name,
led.currency_code
UNION ALL
SELECT led.ledger_id,
b.code_combination_id code_combination_id,
b.period_name period_name,
b.currency_code currency_code,
NVL(B.PERIOD_NET_CR, 0) BALANCES_CR,
NVL(b.period_net_dr, 0) balances_dr,
0 lines_cr,
0 lines_dr
FROM GL.GL_BALANCES B,
GL_CODE_COMBINATIONS_KFV CC ,
GL_LEDGERS LED,
GL.GL_DATE_PERIOD_MAP gpm
WHERE b.period_name =gpm.period_name
AND to_date(gpm.accounting_date, 'DD-MON-YY')= to_date(sysdate-30, 'DD-MON-YY')
AND gpm.period_set_name =led.period_set_name
AND led.complete_flag ='Y'
AND led.FIRST_LEDGER_PERIOD_NAME IS NOT NULL
AND b.ledger_id = led.ledger_id
AND b.actual_flag = 'A'
AND b.currency_code != 'STAT'
AND b.currency_code = led.CURRENCY_CODE
AND b.translated_flag IS NULL
AND b.template_id IS NULL
AND CC.CODE_COMBINATION_ID =B.CODE_COMBINATION_ID
AND (NVL(B.PERIOD_NET_CR, 0) <>0
OR NVL(B.PERIOD_NET_DR, 0) <>0)
) T
GROUP BY T.ledger_id,
T.code_combination_id,
T.period_name ,
T.currency_code
HAVING SUM(NVL(T.balances_cr,0)) <> SUM(NVL(T.lines_cr,0))
OR SUM(NVL(T.balances_dr,0)) <> SUM(NVL(T.lines_dr,0))
) A WHERE rownum < 2",2745665.1,"Please implement the below Steps in a Test Instance. Please take help of DBA/System Administrator.

Note: Refer to Demo Video from Doc ID 2745665.1 for detailed instructions and demo of installing GLBALFIX automatically.


1. Download and unzip glbalfix_R12.zip and FTP to a UNIX directory in ASCII mode (Ex: $HOME/glbalfix_R12) from Doc ID 2745665.1

2. Login to UNIX server and change directory to path (Ex: $HOME/glbalfix_R12) where above files are placed

3. Request executable permissions for GLBALFIX for this directory from your DBA.
   If you or your DBA are not sure of the command for this, please log a SR with Support, reference this document, and request the appropriate command.

4. After being granted the appropriate permissions, execute XXGL_GLBALFIX_INSTALL.sh as follows:

        $HOME/glbalfix_R12> XXGL_GLBALFIX_INSTALL.sh

5. Provide below parameters when prompted for.
        a) APPS User (which is generally apps)
        b) APPS User password
        c) GL User (which is generally gl)
        d) GL User password
        e) Absolute path where the files are FTPed. Do not put a '/' at the end. (Ex: /global/oracle/xxxxxx/home/glbalfix_R12)
        
6. Add the concurrent program ""General Ledger  - Automated Balance Fix"" to request group using below navigation
        System Administrator(Responsibility)> Security> Responsibility> Request

7. Upload the RTF File ""XXGL_GLBALFIX_US_V1.rtf"" using the below Navigation:
    XML Publisher Administrator > Home > Templates
    Query for Template: General Ledger  - Automated Balance Fix
    Upload the XXGL_GLBALFIX_US_V1.rtf File using the ""Add File"" button under ""Template Files"" section and choose the language as ""English""  and click on Apply button.

8. Submit the concurrent program ""General Ledger  - Automated Balance Fix"" by passing below parameters:

   (N): General Ledger Responsibility > View > Requests> Submit New Request

A) Ledger Name:
Select Name of the ledger for which balances are to be checked and/or fixed.

B) Start Period:
Balances will be checked and/or fixed from this period through the latest opened period.
Balances before this period will not be checked and/or fixed, though the ending balances of the period
immediately before this one will be used to verify the opening balances for this period.

C) Account Range:
Enter the code combination ranges for which the corruption has to be identified. You can leave it blank, in which case
the program will run for all code combinations. Leaving this parameter as blank, may cause slight performance issue for the program.

D) Report Only: Yes/No (LOV)
Entering a value of 'Yes' runs the report in Report Only mode. It will produce a report indicating the problems with the gl_balances / gl_daily_balances table, but it will NOT resolve these problems.
Entering a value of 'No' runs the report in Fix Mode, in which it indicates the problems with gl_balances table and fixes the GL balances.

9. Review the output and migrate the solution to other environments.

Note: Please note that if program completes in error no output will be generated. Refer log file for detailed information on the errors.",SQLGL,Balances do not match posted journals for previous period,Balance corruption - The sum of posted transactions in gl_je_lines is not the same as the balance stored in gl_balance,2,Oracle General Ledger,BALANCES,,WEEK,SAT,Accounting to Financial Reports: Period Close,"Balances corruption: the sum of posted transactions in gl_je_lines is not the same as the balance stored in 
gl_balances. This may affect period closure as reporting cannot be done on corrupted balances.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JE_DIFF_PERIOD,"select ledger_id ledger_id,
period_name period_name,
batch_name batch_name,
batch_period batch_period,
header_period header_period,
line_period line_period
from (SELECT DISTINCT jh.ledger_id,
jb.name batch_name,
jb.je_batch_id,
jb.default_period_name batch_period,
jh.period_name period_name,
jb.default_effective_date batch_default_date,
jb.status batch_status,
jh.name Jnl_name,
jh.je_header_id,
jh.period_name header_period,
jh.default_effective_date header_default_date,
jh.status header_status,
jl.period_name line_period,
jl.effective_date line_effective_date,
jl.status line_status
FROM gl_je_batches jb,
gl_je_headers jh,
gl_je_lines jl
WHERE jb.je_batch_id = jh.je_batch_id
AND jh.je_header_id = jl.je_header_id
AND (jb.default_period_name != jh.period_name
OR jh.period_name != jl.period_name)) where rownum < 2",405261.1,"SYMPTOMS
============
Several journals were created on 01-DEC-20 for NOV-20 period. The headers have an effective date of 30-NOV-20 and the period name is NOV-20. The lines have a default effective date of 01-DEC-20 and period name DEC-20. The journal source is MANUAL.

The balances are updated in December there is no balances available in NOV-20 and drilling down on an account combination in the journal in DEC-20 shows the total for the journals does not add up to the balances

EXPECTED BEHAVIOR
The expectation is that the dates on the header and lines are the same.

DIAGNOSIS

This will also show up if you run glbalfix datafix in report mode as:

Error 18: The posted status or period for one of your lines doesn't match the in formation at batch or journal level.
Balance corruption fix program aborted.

CAUSE
============
The cause of the issue is invalid / incorrect data in gl_je_lines it could be that the Change period program was run and did not complete before the posting was run but this usually causes some lines in one period and some in another.

The most likely cause is an unsupported user update in an attempt to move the batch into other period, since you cannot use Change Periods button to change the period from the entered one to a past one. This is done through a wrong/incomplete Sql update or Help > Diagnostics > Examine. This only updates the Batch and the Header.


The following SQL identified the invalid / incorrect data:
SELECT DISTINCT jb.set_of_books_id,
jb.name batch_name,
jb.je_batch_id,
jb.default_period_name batch_period,
jb.default_effective_date batch_default_date,
jb.status batch_status,
jh.name Jnl_name,
jh.je_header_id,
jh.period_name header_period,
jh.default_effective_date header_default_date,
jh.status header_status,
jl.period_name line_period,
jl.effective_date line_effective_date,
jl.status line_status
FROM gl_je_batches jb,
gl_je_headers jh,
gl_je_lines jl
WHERE jb.je_batch_id = jh.je_batch_id
AND jh.je_header_id = jl.je_header_id
AND (jb.default_period_name != jh.period_name
OR jh.period_name != jl.period_name);
Also GL Analyzer would report it as:
Journal Header And Lines Have Different GL Period And Date
Error: Period for one or more of your journal lines doesn't match the period of the batch or journal that contains it.

SOLUTION
============
A data fix will be required from Support.  If you would like to correct these journals with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
Journal Header And Lines Have Different GL Period And Date (Doc ID 405261.1)",SQLGL,Journal Header And Lines Have Different GL Period And Date,Journal Header And Lines Have Different GL Period And Date. Balances could not be correct.,3,Oracle General Ledger,JE_ENTER,JENT,WEEK,SAT,Accounting to Financial Reports: Period Close,"Journal corruption: Header And Lines Have Different GL Period And Date.
This may affect period closure as balances could not be correct.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_ED01,"select
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%ED01%'
and rownum < 2) a
",2021085.1,"To implement the solution, please execute the following steps:

1. Download and review the readme and pre-requisites for Patch 20947938

2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment.

4. Confirm the following file versions meet or exceed:

       BneDFFColumnMapper.java 120.20.12020000.6.120240.2

   You may use the commands like the following:
   strings -a $JAVA_TOP/oracle/apps/bne/integrator/upload/BneDFFColumnMapper.class |grep '$Header'

5. Retest the issue.

6. Migrate the solution as appropriate to other environments.",SQLGL,Journal Import Ends With Error ED01,Journal Import Ends With Error ED01 The context and attribute values do not form a valid descriptive flexfield for Journals - Journal Entry Lines.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EP01,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EP01%'
and rownum < 2) a",461735.1,Apply the related solution from Doc ID 461735.1 to resolve the issue.,SQLGL,Journal Import Ends With Error EP01 This date is not in any open or future enterable period.,Journal Import Ends With Error EP01 This date is not in any open or future enterable period.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EM17,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EM17%'
and rownum < 2) a",205926.1,Implement the required solution from Doc ID 205926.1 to resolve your issue.,SQLGL,Journal Import Ends With Error EM17,Journal Import Ends With Error EM17 Sequential numbering is always used and there is no assignment for this set of books and journal entry category.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_GL_NEGATIVE_INTRACOMPANY_ACCOUNTS_V1,"SELECT
    template_id   template_id,
    ledger_name   ledger_name,
    dr_ccid       dr_bsv,
    cr_ccid       cr_bsv
FROM
    (
        SELECT
            fbc.template_id template_id,
            gl.name      ledger_name,
            fbc.dr_ccid   dr_ccid,
            fbc.cr_ccid  cr_ccid
        FROM
            fun_balance_accounts   fbc,
            fun_balance_options    fbo,
            gl_ledgers             gl
        WHERE
            (fbc.dr_ccid < 0
            OR fbc.cr_ccid < 0)
            AND fbc.template_id = fbo.template_id
            AND fbo.ledger_id = gl.ledger_id
            AND ROWNUM <= 10
    )",2732230.1,"SYMPTOMS
============
Error: The following required fields do not have values: << bsv segments names >>

CAUSE
============
Development investigated this in Bug 13595462 - INTRACOMPANY RULES CREATED FOR DISABLED BSV'S DURING UPGRADE-DATAFIX REQUIRED
The R12 issue is caused by negative code combinations created during the upgrade due to having diabled BSVs still used in Intercompany rules in 11i.

Such codes can be identified using this script:
Select *  from FUN_BALANCE_ACCOUNTS where CR_CCID < 0 or DR_CCID < 0

SOLUTION
============
A data fix will be required from Support.  If you would like to correct this issue with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
Monitoring Services: Negative Intracompany Balancing Accounts (Doc ID 2732230.1)",SQLGL,Negative Intracompany Balancing Accounts ,Rows returned by the query are invalid. A correction to these invalid rows is required to post the intracompany journals,2,Oracle General Ledger,AGIS_GL,GL_SETUP,WEEK,MON,Accounting to Financial Reports: Reporting,User unable to record required  financial transactions  in the ledger. Impacts the  generation of Financial statements like Balance sheet and Income statements. Delay in generation of these financial statements impacts Period Close and Audits,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_GL_DUPLICATE_SEGMENT_VALUES_V2,"SELECT
    ledger_name ledger_name,
    segment_value segment_value,
    duplicate_segment_values duplicate_segment_values from (
(SELECT
    gl.name ledger_name,
    gnv.segment_value,
    COUNT(1)  duplicate_segment_values
FROM
    gl_ledger_segment_values   gnv,
    gl_ledgers                 gl
WHERE
    gnv.ledger_id = gl.ledger_id
GROUP BY
    gl.name,
    gnv.segment_value
HAVING
    COUNT(1) > 1)
Union
(SELECT
    gl.name ledger_name,
    gnvs.segment_value,
    COUNT(1)  duplicate_segment_values
FROM
    gl_ledger_norm_seg_vals  gnvs,
    gl_ledgers                 gl
WHERE
    gnvs.ledger_id = gl.ledger_id
GROUP BY
    gl.name,
    gnvs.segment_value
HAVING
    COUNT(1) > 1))
where ROWNUM < = 10",1162585.1,"SYMPTOMS
============
When attempting to do ledger setups from Accounting Setup Manager,  the following error occurs.

ERROR
---------
>> GL_FLATTEN_LEDGER_SEG_VALS.Error_Check() 13-FEB-09 12:06:53
FLAT0003: Segment value 303 has been assigned to the ledger XXXX more than once for a given date range.
FLAT0003: Segment value 500 has been assigned to the ledger XXXX more than once for a given date range.
FLAT0003: Segment value 406 has been assigned to the ledger XXXX more than once for a given date range.
<x GL_FLATTEN_LEDGER_SEG_VALS.Error_Check() 13-FEB-09 12:06:53
FLAT0002: Fatal error encountered in routine GL_FLATTEN_LEDGER_SEG_VALS.Fix_By_Coa()
<x GL_FLATTEN_LEDGER_SEG_VALS.Fix_By_Coa() 13-FEB-09 12:06:53

CAUSE
============
Root Cause identified in unpublished Bug 8265487

The General Ledger Accounting Setup program was populating data for incomplete ledgers in GL_LEDGER_SEGMENT_VALUES.


SOLUTION
============
A data fix will be required from Support.  If you would like to correct this issue with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
GLSTFL FLAT0002 and FLAT0003 Error In General Ledger Accounting Setup Program (Doc ID 1162585.1)",SQLGL,Duplicate Segment Values Assigned to the Ledger ,Rows returned by the query indicate duplicate assignments.  A data fix may be required to remove the duplicate records.,2,Oracle General Ledger,SETUP,ASM,WEEK,MON,Accounting to Financial Reports: Reporting,Transactions cannot be entered using the required balancing segment values across the application. This can significantly impact the production instance and can delay period close and year end closure,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EC12,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EC12%'
and rownum < 2) a",98820.1,"Run the following select statement using SQL*Plus:
Select group_id, date_created, entered_dr, entered_cr, accounted_dr, accounted_cr
From gl_interface
Where group_id = <group id in question>
and user_je_source_name = '<source in question>'
and status = 'EC12';


For data from external source like Webadi (not standard sub ledgers data)
When you review the output from this statement you realize that the signs for the entered_dr(cr) and accounted_dr(cr) do not match.
Once you correct this problem you are then able to import the batch successfully.
Correct this by navigating to the Journal Import Correct form and correct the batch that is returning this error.

 

For data from the subledgers:
It is a possibility that a Purchase Order may have been created with a conversion rate, even though the transaction is in the functional currency.
The columns accounted_dr and accounted_cr in the GL_interface table should not be populated when the transaction is in the functional currency.
You should be able to delete the accounted amount in the Journal Import correct screen. Make sure this matches the original subledger transaction.
Also in some cases the Journal causing the error is using functional currency and the entered amount (DR or CR) is zero or null but the corresponding accounted amount is a significant value. In this case move the accounted amounts to the entered amount fields and mull the accounted amount fields.",SQLGL,Journal Import Ends With Error EC12,Journal Import Ends With Error EC12 The entered amount must equal the accounted amount in a functional or STAT currency journal line.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EF04,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EF04%'
and rownum < 2) a",235029.1,Apply the solution from Doc ID 235029.1 to resolve your issue.,SQLGL,Journal Import Ends With Error EF04,Journal Import Ends With Error EF04 This is an invalid Accounting Flexfield. Check your cross-validation rules and segment values.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_SUMMARY_ACCOUNTS_A,"Select ledger_id ledger_id,
TEMPLATE_NAME TEMPLATE_NAME,
SUMMARY_ACCOUNT SUMMARY_ACCOUNT,
period period,
SUMMARY_ACCOUNT_BALANCE SUMMARY_ACCOUNT_BALANCE,
DETAILED_ACCOUNTS_BAL_TOTAL DETAILED_ACCOUNTS_BAL 
from (
SELECT h.LEDGER_ID ledger_id ,
  MAX(st.template_name) TEMPLATE_NAME,
  max(ccs.concatenated_segments) SUMMARY_ACCOUNT,
  bs.period_name period,
  MAX((NVL(bs.BEGIN_BALANCE_DR,0) + NVL(bs.PERIOD_NET_DR,0)-NVL(bs.BEGIN_BALANCE_CR, 0) - NVL(bs.PERIOD_NET_CR,0))) SUMMARY_ACCOUNT_BALANCE,
  SUM(NVL(bd.BEGIN_BALANCE_DR,0)) + SUM(NVL(bd.PERIOD_NET_DR,0))-SUM(NVL(bd.BEGIN_BALANCE_CR,0)) -SUM(NVL(bd.PERIOD_NET_CR,0)) DETAILED_ACCOUNTS_BAL_TOTAL
FROM GL_SUMMARY_TEMPLATES st,
  GL_ACCOUNT_HIERARCHIES h,
  gl_code_combinations_kfv ccs,
  gl_balances bs,
  gl_code_combinations_kfv ccd,
  gl_balances bd, GL.GL_DATE_PERIOD_MAP gpm, gl_ledgers gl
WHERE H.TEMPLATE_ID         = ST.TEMPLATE_ID
AND ST.LEDGER_ID            = H.LEDGER_ID
and  to_date(gpm.accounting_date, 'DD-MON-YY')= to_date(sysdate, 'DD-MON-YY')
AND gpm.period_set_name= gl.period_set_name and gl.complete_flag='Y' and gl.FIRST_LEDGER_PERIOD_NAME is not null
AND BS.PERIOD_NAME          = gpm.period_name
AND h.LEDGER_ID             =  gl.ledger_id
AND ccs.code_combination_id =h.summary_code_combination_id
AND ccd.code_combination_id = h.DETAIL_CODE_COMBINATION_ID
AND bs.code_combination_id  = h.summary_code_combination_id
AND BD.CODE_COMBINATION_ID  = H.DETAIL_CODE_COMBINATION_ID
AND bd.ledger_id            =bs.ledger_id
AND bd.period_name          =bs.period_name
AND bd.period_year          =bs.period_year
AND bs.period_num           =bd.period_num
AND bd.actual_flag          =bs.actual_flag
AND BD.CURRENCY_CODE        =BS.CURRENCY_CODE
AND bs.actual_flag          = 'A'
AND bs.translated_flag     IS NULL
AND bd.translated_flag     IS NULL
GROUP BY h.LEDGER_ID , h.summary_code_combination_id,
bs.period_name, BS.CURRENCY_CODE
HAVING max(NVL(bs.BEGIN_BALANCE_DR,0)+ NVL(bs.PERIOD_NET_DR,0)-NVL( bs.BEGIN_BALANCE_CR,0) - NVL(bs.PERIOD_NET_CR,0)) !=(SUM( NVL( bd.BEGIN_BALANCE_DR,0)) + SUM(NVL(bd.PERIOD_NET_DR,0))-SUM(NVL( BD.BEGIN_BALANCE_CR,0)) -SUM(NVL(BD.PERIOD_NET_CR,0)) ))
WHERE rownum < 2",241090.1,"1. There are summary accounts with corrupted balances: the summary account balance do not match the detail account balances.
2. Drop and recreate the summary accounts.
3. Review Note Incorrect Balance Values in Summary Account",SQLGL,Balance corruption for summary accounts,Summary accounts balances do not match the related detail accounts balances,2,Oracle General Ledger,SUMMARY,SUMM,WEEK,SAT,Accounting to Financial Reports: Reporting,Summary accounts balances are not correctly summing the detail balances affecting the reporting,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EM30,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EM30%'
and rownum < 2) a",943582.1,"Apply the solution specific to your issue from Doc ID 943582.1
Then retest the issue",SQLGL,Journal Import Ends With Error EM30,Journal Import Ends With Error EM30 - This balancing segment value is not valid for this ledger.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BC_ERROR12_RECEIVABLES,"select h.ledger_id ledger_id,
h.period_name period_name,
b.je_batch_id je_batch_id,
b.budgetary_control_status budgetary_control_status,
h.je_source je_source,
h.je_category je_category
from gl_je_batches b, gl_je_headers h
where b.je_batch_id =h.je_batch_id
and b.budgetary_control_status = 'F'
and h.je_from_sla_flag = 'Y'
and h.je_source = 'Receivables'
and b.actual_flag='A'
and b.status<>'P'
and rownum >= 1 ",252049.1,"To prevent it happening again set Funds Checking Level for Receivables sources to None as follows:

Responsibility: General Ledger Super User GUI
GUI Navigation: Budgets/Define/Controls
GUI Form Name: GLXSTBCG (Budgetary Control Group)

1.  Enter the budget you use Funds Checking on.
2.  Enter the Source and Category.
3.  Enter None as the Funds Check Level.
4.  Save your work.
5.  Use the system administrator responsibility
6.  Navigate to Profiles > System
7.  Assign the control group to the site level, application General ledger or to individual responsibilities if its not already done
8.  Sign back into applications (you need to log out for the profile to take effect).
9.  Re-post the journal

It should post for the existing journal now. If not, please update the SR and Support will engage appropriately.",SQLGL,Error 12 During Funds Checking or Posting of Receivables Journals,Error 12 During Funds Checking or Posting of Receivables Journals,3,Oracle General Ledger,BUDGETS,,WEEK,SAT,Accounting to Financial Reports: Reporting,Journal fails with funds reservation error and would not allow users to Post the journals.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_LEAD_TRAIL_SPACES,"select a.Batch_Name Batch_Name,
a.Batch_Description Batch_Description,
a.Ledger_ID Ledger_ID,
a.period_name period_name,
a.je_batch_id je_batch_id
from
(select distinct REGEXP_REPLACE(REGEXP_REPLACE(gb.name, '\s+$', '~'), '^[ \t]+', '~') Batch_Name
, REGEXP_REPLACE(REGEXP_REPLACE(gb.description, '\s+$', '~'), '^[ \t]+', '~') Batch_Description
, gb.je_batch_id je_batch_id
, gh.ledger_id Ledger_ID
, gh.period_name period_name
from gl_je_batches gb,
gl_je_headers gh
where gb.je_batch_id = gh.je_batch_id
and (gb.description <> trim(gb.description) OR gb.name <> trim(gb.name)
)) a
where rownum < 2",1135903.1,"If the journal was from a subledger source - see the solution in: GLXJEENT: Enter Journals Using 'Edit Field' Throws Error FRM-40654 for Subledger Source Journals (Document 1143833.1)
See also the solution in: GLXJEENT When Try to Update an Imported Journal Get FRM-40654: Record has been updated.Requery block to see change. (Document 1501181.1)
If the journal was imported from WEBADI, then for R12 this is fixed in:
For R12.1  Bug:12618693 UPLOAD IS NOT CUTTING JAPANESE IDEOGRAPHIC SPACE CAUSING FRM-40564
Fixed in :
bne  java/utilities  BneStringUtils.java  120.6.12010000.3
bne  java/integrator/upload  BneSAXUploader.java  120.4.12010000.5
This fix is included in patch:19030202    Oracle E-Business Suite Release 12.1.3+ Recommended Patch Collection 2 [RPC2]

For R12.2 Bug:12747487 12618693 FORWARD PORT: UPLOAD IS NOT CUTTING JAPANESE IDEOGRAPHIC SPACE CAUSING
Fixed in :
bne java/utilities  BneStringUtils.java  120.6
bne  java/integrator/upload  BneSAXUploader.java  120.9
The fix is included in base R12.2 - no patch is needed.

 



Workaround.
Perform the following steps (in a TEST instance for verification) to resolve the issue:

1. Take a backup of GL_JE_BATCHES, GL_JE_HEADERS and GL_JE_LINES tables.

2. Run the following command in the database and re-test the issue.

    sqlplus @$FND_TOP/sql/afchrchk.sql

Run for the following tables:-
GL_JE_BATCHES
GL_JE_HEADERS
GL_JE_LINES
GL_IMPORT_REFERENCES

This script removes leading/trailing spaces and invalid characters from the specified tables and columns. These characters cause the 'FRM-40654: Record has been updated' error when the column is queried in a form.

3. If the script gives a buffer overflow error see note:1370235.1    AFCHRCHK.sql afchrchk.sql fails ORA-20000: ORU-10027: buffer overflow, limit of 1000000 bytes

4. Open journal enter form (GL Responsibility->Journals-Enter) and query the journal to be reversed

5. Reverse the journal

WARNING: afchrchk.sql should NEVER run against FND_FLEX_VALUES table for ALL columns as this will corrupt the COMPILED_VALUE_ATTRIBUTES column.
Always make sure value 2 is not left blank on submission.

If you prefer to have a data fix for this issue, then please update the SR and Support will engage appropriately.",SQLGL,Journal Batch Name has Leading and/or Trailing spaces,GLXJEENT: Journal Reversal gives Error FRM-40654: Record has been updated. Requery block to see change,4,Oracle General Ledger,JE_ENTER,JRNL_REV_AUTOREV,WEEK,SAT,Accounting to Financial Reports: Reporting,"Form error may occur when there are Leading or trailing spaces in journal name, description field",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_SUM_OVERLAP_CHILDREN_IN_HIERARCHY_LATEST,"SELECT DISTINCT flexset.segment_name Segment_Name,
fvh1.parent_flex_value Segment_w_Overlapping_Children,
fvh1.child_flex_value_low Overlapping_Child_Low_Value,
fvh1.child_flex_value_high Overlapping_Child_High_Value,
fvh2.child_flex_value_low Overlapped_By_Child_Low_Value,
fvh2.child_flex_value_high Overlapped_By_Child_High_Value
FROM fnd_flex_value_hierarchies fvh1,
fnd_flex_value_hierarchies fvh2,
(SELECT idfs.segment_num,
idfs.flex_value_set_id,
idfs.application_column_name,
idfs.segment_name
FROM gl_ledgers glsob,
fnd_id_flex_segments idfs,
fnd_flex_value_sets fvs
WHERE glsob.chart_of_accounts_id = idfs.id_flex_num
AND fvs.flex_value_set_id = idfs.flex_value_set_id
/* AND glsob.ledger_id = 1 */
AND idfs.application_id = 101
AND idfs.id_flex_code = 'GL#') flexset
WHERE fvh1.parent_flex_value = fvh2.parent_flex_value
AND fvh1.flex_value_set_id = flexset.flex_value_set_id
AND fvh1.rowid != fvh2.rowid
AND fvh1.flex_value_set_id = fvh2.flex_value_set_id
AND NVL(fvh2.CHILD_FLEX_VALUE_LOW,'X') <=
NVL(fvh1.CHILD_FLEX_VALUE_HIGH,'X')
AND NVL(fvh2.CHILD_FLEX_VALUE_HIGH,'X') >=
NVL(fvh1.CHILD_FLEX_VALUE_LOW,'X')
and rownum < 2
ORDER BY flexset.segment_name

",371580.1,"To implement the solution, please execute the following steps:

1. Run the General ledger Analyzer concurrent program from the EBS applications.
EBS General Ledger Analyzer (GL Analyzer) (Doc ID 2117528.1)
2. Review the ""Overlapping Child Accounts"" section in the output. This section will show if there are any Overlapping Child Accounts exist for the selected ledger. 
3. Review the results to identify the overlapping child ranges. For further information, refer to Doc ID 118130.1 and Doc ID 371580.1 for solution to fix any Ledger records having the problem.
4. Retest the issue.
5. Migrate the solution as appropriate to other environments.",SQLGL,Child Overlapping in the Hierarchy of a Valueset.,Overlapping segment values exists,2,Oracle General Ledger,SETUP,FLEX,WEEK,SAT,Accounting to Financial Reports: Reporting,Overlapping child accounts exists  that would affect the reporting,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BALANCES-VER-JOURNALS,"select A.ledger_id ledger_id,
A.code_combination_id ccid,
A.period_name period_name,
A.currency_code currency_code
from 
(
SELECT T.ledger_id,
  T.code_combination_id code_combination_id,
  T.period_name period_name,
  T.currency_code currency_code,
   SUM(NVL(T.BALANCES_CR, 0)) BALANCES_CR,
   SUM(NVL(T.balances_dr, 0)) balances_dr,
   SUM(NVL(T.lines_cr, 0)) lines_cr,
   SUM(NVL(T.lines_dr, 0)) lines_dr
FROM
  (SELECT led.ledger_id,
    l.code_combination_id code_combination_id,
    h.period_name period_name,
    led.currency_code currency_code,
    0 BALANCES_CR,
    0 balances_dr,
    SUM(NVL(l.accounted_cr, 0)) lines_cr,
    SUM(NVL(l.accounted_dr, 0)) lines_dr
  FROM gl.gl_je_headers h ,
    gl.gl_je_lines l ,
    GL_CODE_COMBINATIONS_KFV CC ,
    GL_LEDGERS LED,
    GL.GL_DATE_PERIOD_MAP gpm
  WHERE h.period_name                          =gpm.period_name
  AND to_date(gpm.accounting_date, 'DD-MON-YY')= to_date(sysdate, 'DD-MON-YY')
  AND gpm.period_set_name                      =led.period_set_name
  AND led.complete_flag                        ='Y'
  AND led.FIRST_LEDGER_PERIOD_NAME            IS NOT NULL
  AND l.code_combination_id                    = CC.CODE_COMBINATION_ID
  AND h.ledger_id                              =led.ledger_id
  AND h.je_header_id                           = l.je_header_id
  AND h.currency_code                         != 'STAT'
  AND H.STATUS                                 = 'P'
  AND H.ACTUAL_FLAG                            ='A'
  GROUP BY led.ledger_id,
    l.code_combination_id,
    h.period_name,
    led.currency_code
  UNION ALL
  SELECT led.ledger_id,
    b.code_combination_id code_combination_id,
    b.period_name period_name,
    b.currency_code currency_code,
    NVL(B.PERIOD_NET_CR, 0) BALANCES_CR,
    NVL(b.period_net_dr, 0) balances_dr,
    0 lines_cr,
    0 lines_dr
  FROM GL.GL_BALANCES B,
    GL_CODE_COMBINATIONS_KFV CC ,
    GL_LEDGERS LED,
    GL.GL_DATE_PERIOD_MAP gpm
  WHERE b.period_name                          =gpm.period_name
  AND to_date(gpm.accounting_date, 'DD-MON-YY')= to_date(sysdate, 'DD-MON-YY')
  AND gpm.period_set_name                      =led.period_set_name
  AND led.complete_flag                        ='Y'
  AND led.FIRST_LEDGER_PERIOD_NAME            IS NOT NULL
  AND b.ledger_id                              = led.ledger_id
  AND b.actual_flag                            = 'A'
  AND b.currency_code                         != 'STAT'
  AND b.currency_code                          = led.CURRENCY_CODE
  AND b.translated_flag                       IS NULL
  AND b.template_id                           IS NULL
  AND CC.CODE_COMBINATION_ID                   =B.CODE_COMBINATION_ID
   AND (NVL(B.PERIOD_NET_CR, 0)                <>0
  OR NVL(B.PERIOD_NET_DR, 0)                  <>0)
  ) T
GROUP BY T.ledger_id,
  T.code_combination_id,
 T.period_name ,
  T.currency_code   
HAVING SUM(NVL(T.balances_cr,0)) <> SUM(NVL(T.lines_cr,0))
OR SUM(NVL(T.balances_dr,0))     <> SUM(NVL(T.lines_dr,0))
) A WHERE  rownum < 2",2745665.1,"Please implement the below Steps in a Test Instance. Please take help of DBA/System Administrator.

Note: Refer to Demo Video from Doc ID 2745665.1 for detailed instructions and demo of installing GLBALFIX automatically.


1. Download and unzip glbalfix_R12.zip and FTP to a UNIX directory in ASCII mode (Ex: $HOME/glbalfix_R12) from Doc ID 2745665.1

2. Login to UNIX server and change directory to path (Ex: $HOME/glbalfix_R12) where above files are placed

3. Request executable permissions for GLBALFIX for this directory from your DBA.
   If you or your DBA are not sure of the command for this, please log a SR with Support, reference this document, and request the appropriate command.

4. After being granted the appropriate permissions, execute XXGL_GLBALFIX_INSTALL.sh as follows:

        $HOME/glbalfix_R12> XXGL_GLBALFIX_INSTALL.sh

5. Provide below parameters when prompted for.
        a) APPS User (which is generally apps)
        b) APPS User password
        c) GL User (which is generally gl)
        d) GL User password
        e) Absolute path where the files are FTPed. Do not put a '/' at the end. (Ex: /global/oracle/xxxxxx/home/glbalfix_R12)
        
6. Add the concurrent program ""General Ledger  - Automated Balance Fix"" to request group using below navigation
        System Administrator(Responsibility)> Security> Responsibility> Request

7. Upload the RTF File ""XXGL_GLBALFIX_US_V1.rtf"" using the below Navigation:
    XML Publisher Administrator > Home > Templates
    Query for Template: General Ledger  - Automated Balance Fix
    Upload the XXGL_GLBALFIX_US_V1.rtf File using the ""Add File"" button under ""Template Files"" section and choose the language as ""English""  and click on Apply button.

8. Submit the concurrent program ""General Ledger  - Automated Balance Fix"" by passing below parameters:

   (N): General Ledger Responsibility > View > Requests> Submit New Request

A) Ledger Name:
Select Name of the ledger for which balances are to be checked and/or fixed.

B) Start Period:
Balances will be checked and/or fixed from this period through the latest opened period.
Balances before this period will not be checked and/or fixed, though the ending balances of the period
immediately before this one will be used to verify the opening balances for this period.

C) Account Range:
Enter the code combination ranges for which the corruption has to be identified. You can leave it blank, in which case
the program will run for all code combinations. Leaving this parameter as blank, may cause slight performance issue for the program.

D) Report Only: Yes/No (LOV)
Entering a value of 'Yes' runs the report in Report Only mode. It will produce a report indicating the problems with the gl_balances / gl_daily_balances table, but it will NOT resolve these problems.
Entering a value of 'No' runs the report in Fix Mode, in which it indicates the problems with gl_balances table and fixes the GL balances.

9. Review the output and migrate the solution to other environments.

Note: Please note that if program completes in error no output will be generated. Refer log file for detailed information on the errors.",SQLGL,Balance corruption.Balances do not match posted journals,Balance corruption - The sum of posted transactions in gl_je_lines is not the same as the balance stored in gl_balance,2,Oracle General Ledger,BALANCES,DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Balances corruption: the sum of posted transactions in gl_je_lines is not the same as the balance stored in gl_balances for a period. This may affect period closure as reporting cannot be done on corrupted balances.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_APPROVAL_INPROCESS,"SELECT GJB.JE_BATCH_ID JE_BATCH_ID
, GJB.NAME NAME
, GJB.STATUS STATUS
, GJB.DEFAULT_PERIOD_NAME PERIOD_NAME
, GJB.APPROVAL_STATUS_CODE APPROVAL_STATUS_CODE
, GJH.LEDGER_ID LEDGER_ID
FROM GL.GL_JE_BATCHES GJB, GL.GL_JE_HEADERS GJH
WHERE GJB.JE_BATCH_ID = GJH.JE_BATCH_ID
AND GJB.STATUS <> 'P'
AND GJB.APPROVAL_STATUS_CODE = 'I'
AND (GJB.CREATION_DATE >= SYSDATE - 180 AND GJB.CREATION_DATE <= SYSDATE - 7)
AND ROWNUM < 2",161382.1,"To implement the solution, please execute the following steps:

1. Correct any setup issues that are causing the approval workflow to fail :

a. confirm that ALL the users involved (preparer and supervisors) are defined as employees
b. confirm that the hierarchy is correctly defined
c. ensure that the employee id is assigned to the application user
d. ensure Authorization Limits are defined.
e. ensure that the user definition does not contain spaces

Review Note 225815.1  for more information.

2. For R11i ensure the following patches are applied:
patch 4566493: JOURNAL APPROVAL ENH: BUSINESS EVENT FOR APPROVE & CANCEL REQUEST ON TIMEOUT
patch 4963300: JOURNAL APPROVAL ENH: REASSIGNMENT USER LIST BY BUSINESS GROUP

3. Run the concurrent program 'Workflow Background Process' from the System Administrator responsibility with the parameters Process Deferred, Process Timed Out, and Process Stuck parameters set to 'Yes'.
Check if the stuck batch is released.

4. Try to restart the workflow of the journal batch by following the solution in Note 415875.1.
Then you can reassign or resubmit it for approval.

5. If the above has still not released the journal then either:
Follow the steps in Note 1455955.1 How to Resend Journal Batch for Approval When it is Stuck in 'In Process' Status?
Or
Log a Service Request with Oracle Support for a datafix and provide the output of the following:

5.1 Verify the Workflow process does not exist
This can be verified in Workflow (monitor):

Workflow > Find Processes
Item Type = Journal Batch
Process Name = GL Journal Approval Process

Or:
select *
from wf_notifications b
where b.subject like '%ournal batch%'
or begin_date like to_date ('21082013','dd/mm/yyyy')
or b.recipient_role like '%Approver_name%'

You will need to substitute in the current date.

Results should look like:
budgetary_control_status = N
approval_status_code = I

5.2. Verify the journal has not been processed:
select je_batch_id, default_period_name
from gl_je_batches
where name like '&YOUR_BATCH_NAME%';

select b.approval_status_code, b.status, b.budgetary_control_status, b.posted_date,
  h.je_header_id, h.status, h.posted_date,h.accrual_rev_status, l.gl_sl_link_id
from gl_je_headers h, gl_je_batches b, gl_je_lines l
where b.je_batch_id = &batch_id
and b.je_batch_id=h.je_batch_id
and h.je_header_id=l.je_header_id;

6. If further debugging is required use the following documents:
    Document 166367.1 How to Find the Workflow Details in General Ledger Journal Approval
    Document 278369.1 How to Find the General Ledger Journal Approval Process In Workflow Builder
    Document 116375.1 Workflow How to Get Information Required to Run wfstatus/wfstat.sql

If you need any further assistance then please update the SR and Support will engage appropriately.",SQLGL,Journal Batch(es) Stuck In Process during Approval,"Journal Approval Workflow is Stuck with Batch Approval Status ""In Process"" Can not Delete, Modify or Approve it.",2,Oracle General Ledger,JE_ENTER,JRNL_APPROVAL,WEEK,SAT,Accounting to Financial Reports: Reporting,"Journals need to be approved successfully for it to be Posted. Otherwise, there will be an impact on Posting.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_CONSOL_CONV_RATE_EC03,"SELECT
    ledger_id ledger_id,
    je_header_id je_header_id,
    status status,
    je_line_num je_line_num,
    code_combination_id code_combination_id,
    period_name period_name
FROM
    (
        SELECT
            gjl.ledger_id ledger_id,
            gjl.je_header_id je_header_id,
            gjl.status status,
            gjl.je_line_num je_line_num,
            gjl.code_combination_id code_combination_id,
            gjl.period_name period_name
        FROM
            gl_je_lines gjl,
            gl_ledgers gl
        WHERE
            1 = 1
            AND   gjl.ledger_id = gl.ledger_id
            AND   gl.consolidation_ledger_flag = 'Y'
            AND   (
                (
                    gjl.accounted_dr IS NULL
                    AND   gjl.entered_dr IS NOT NULL
                )
                OR    (
                    gjl.accounted_cr IS NULL
                    AND   gjl.entered_cr IS NOT NULL
                )
            )
    ) 
    where rownum<2",402563.1,"SYMPTOMS
============
GLLEZL Import
Running consolidation fails on the journal import with error code :
EC03 ""A conversion rate type must be supplied when entering foreign currency journal lines"".

Running journal import again gives CCON0124: GLCMAI.RUN_POSTING() - Cannot post because the previous journal Import failed.

CAUSE
============
This is caused by a journal in the subsidiary set of books that has no entered_dr to match an
accounted_dr. The line is an intercompany line raised by journal post and the issue is :
bug 4517297 ERROR IN INTERCOMPANY JOURNALS CAUSES EC03 ERROR, WHEN THEY ARE IMPORTED BY CONSOLIDATION 

SOLUTION
============
A data fix will be required from Support.  If you would like to correct this issue with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
GLLEZL Cannot Complete Consolidation Due To EC03 Error (Doc ID 402563.1)",SQLGL,Journal Import Ends With Error EC03 While Running Consolidation,Should not pair null entered/accounted amount with zero or non-zero corresponding entered/accounted amount.Should both be either zero/value or null,4,Oracle General Ledger,GCS,CONS,WEEK,SAT,Accounting to Financial Reports: Legal Reporting,Journal with a non-zero entered amount and null converted amount  or vice versa coming from subledger/ gl_interface  will cause consolidation to be created incorrectly. This will delay period closing process.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JE_DIFF_STATUS,"SELECT DISTINCT  
  b_name batch_name,
  b_status batch_status,
  h_status header_status,
  l_status line_status,
  h_ledger_id header_ledger_id,
  h_period_name  header_period_name
FROM
  ( WITH ledger AS
  (SELECT UNIQUE gpm.period_name,
    gps.closing_status,
    led.*
  FROM gl_ledgers led,
    GL.GL_DATE_PERIOD_MAP gpm,
    gl_period_statuses gps
  WHERE extract(YEAR FROM gpm.accounting_date)= extract(YEAR FROM sysdate )
  AND gpm.period_set_name                     =led.period_set_name
  AND gpm.period_type                         =led.accounted_period_type
  AND led.complete_flag                       ='Y'
  AND led.FIRST_LEDGER_PERIOD_NAME           IS NOT NULL
  AND gps.ledger_id                           =led.ledger_id
  AND gpm.period_name                         =gps.period_name
  AND gps.application_id                      =101
  AND gps.closing_status                     IN ('C', 'O','P', 'F')
  )
SELECT jeb.je_batch_id ,
  jeb.name b_name,
  jel.je_header_id,
  jeh.name h_name,
  jeh.ledger_id h_ledger_id,
  jeh.period_name h_period_name,
  jeb.status b_status,
  jeh.status h_status,
  jel.status l_status
FROM gl_je_lines jel,
  gl_je_headers jeh,
  gl_je_batches jeb,
  ledger led
WHERE jeh.ledger_id                     =led.ledger_id
AND jeh.je_header_id                    = jel.je_header_id
AND jeb.je_batch_id                     = jeh.je_batch_id
AND jel.period_name                     =led.period_name
AND (DECODE(jeh.status, 'P', 'P', 'U') != DECODE(jel.status, 'P', 'P', 'U')
OR (DECODE(jeb.status, 'P', 'P', 'U')  != DECODE(jel.status, 'P', 'P', 'U')) )
  ) WHERE rownum < 2",1563019.2,"SYMPTOMS
============
Error 18: The posted status or period for one of your lines doesn't match the information at batch or journal level.

CAUSE
============
The posted status for one of the journal lines doesn't match the information at batch or journal or at line level.

SOLUTION
============
A data fix will be required from Support.  If you would like to correct these journals with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
GLBALFIX: GL Balances Corruption Datafix - Primary Note (Doc ID 1563019.2)",SQLGL,The posted status for journal lines do not match header,The posted status for one of your lines doesn't match the information at batch or journal level.,2,Oracle General Ledger,JE_ENTER,JENT,WEEK,SAT,Accounting to Financial Reports: Period Close,"The Status in gl_je_batches, gl_je_headers, gl_je_lines is inconsistent. This may affect period closure as balances could be corrupted.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_LATEST_OPEN_PERIOD,"SELECT ledger_id ledger_id, ledger_name ledger_name, latest_open_period_per_ledger latest_open_period_per_ledger, latest_open_period_should_be latest_open_period_should_be FROM
(SELECT gl.ledger_id,
gl.name ledger_name,
gl.latest_opened_period_name latest_open_period_per_ledger,
gps.period_name latest_open_period_should_be
FROM gl_ledgers gl,
gl_period_statuses gps
WHERE gl.ledger_id = gps.ledger_id
AND gl.latest_opened_period_name <> gps.period_name
AND gps.application_id = 101
AND gps.closing_status IN ('O','C')
AND gps.period_num = (SELECT MAX(gps2.period_num)
FROM gl_period_statuses gps2 
WHERE gps2.ledger_id = gl.ledger_id
AND gps2.closing_status IN ('O','C')
AND gps2.period_year = gps.period_year
AND gps2.application_id = 101)
AND gps.period_year = (SELECT MAX(gps1.period_year)
FROM gl_period_statuses gps1 
WHERE gps1.ledger_id = gl.ledger_id
AND gps1.closing_status IN ('O','C')
AND gps1.application_id = 101)
AND ROWNUM < 2)",2540305.1,"SYMPTOMS
============
Latest open period associated with Ledger is incorrect and is not same as the actual latest open period

CAUSE
============
The period was accidentally opened and then closed.

SOLUTION
============
A data fix will be required from Support.  If you would like to correct this issue with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
Monitoring Services: Latest Open Period In GL_LEDGERS Is Incorrect (Doc ID 2540305.1)",SQLGL,Latest open period in GL_LEDGERS is incorrect,Latest open period associated with Ledger is incorrect and is not same as the actual latest open period,2,Oracle General Ledger,SETUP,CALD,WEEK,SAT,Accounting to Financial Reports: Period Close,"By having latest open period in GL Ledgers different from the actual latest open period, opening of periods will get impacted. Can also cause balance corruption.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EM01,"select
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EM01%'
and rownum < 2) a",1242284.1,"To implement the solution, please execute the following steps:

1. Ledger id = -1 is not a valid id
Change the data in the  GL_INTERFACE table so the ledger_id is  valid.
Note: select * from GL_LEDGERS will return the valid ledgers (based on data entered in the accounting setup manager screen).

2. Rerun the journal import, to import data in the corrected GL_INTERFACE table.

3. Migrate the solution as appropriate to other environments.",SQLGL,Journal Import Ends With Error EM01 - Invalid journal entry category ,"Navigate to: General Ledger --> Journals --> Import --> Run
Journal Import Execution Report shows journal error out with error code:  EM01 Invalid journal",3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EM22,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EM22%'
and rownum < 2) a", 1071881.6,"Make sure the profile option GL:Dual Currency is not defined the same 
as your functional currency.

For example, if your functional currency is MXN and your foreign currency 
is USD, the dual currency profile option should be set to USD, which 
is your foreign currency.  

Also, make sure that the From Currency field has your functional currency 
listed in the Daily Rates form (Navigation = Setup..Currencies..Rates..Daily), 
for the date of the conversion. In the above example, this would be MXN.",SQLGL,Journal Import Ends With Error EM22,"Journal Import Ends With Error EM22 A conversion rate must be defined for this accounting date, your default conversion rate type, and your dual currency.",3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_EF01,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%EF01%'
and rownum < 2) a",859344.1,"Fix the invalid account issue.
a) Remove the end-date from the mentioned code combinations in GL. Review Note 2436302.1 for assistance in determining how to find the invalid account if it is not end dated.
b) Re-run Transfer Journal Entries to General Ledger in Payables with Journal Import.",SQLGL,Journal Import Ends With Error EF01,Journal Import Ends With Error EF01 This Accounting Flexfield is inactive for this accounting date.,3,Oracle General Ledger,JE_IMPORT,JIMP,MONTH,LAST,Accounting to Financial Reports: Reporting,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_IMPORT_PROCESSED_RECORDS,"select 
a.status status
, a.ledger_id ledger_id
, a.period_name period_name
, a.ccid_and_or_combination ccid_and_or_combination
, a.actual_flag actual_flag
, a.group_id group_id
from
(select 
gi.status status
, decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) ledger_id
, gp.period_name period_name
, decode (gi.code_combination_id, NULL, gi.segment1||'.'||gi.segment2||'.'||gi.segment3||'.'||gi.segment4||'.'||gi.segment5||'.'||gi.segment6||'.'||gi.segment7||'.'||gi.segment8||'.'||gi.segment9||'.'||gi.segment10, gi.code_combination_id ||' ('|| gcc.concatenated_segments ||')') ccid_and_or_combination
, gi.actual_flag actual_flag
, gi.group_id group_id
from
gl_interface gi,
gl_ledgers gll,
gl_code_combinations_kfv gcc,
gl_periods GP
where decode(gi.ledger_id, -1, gi.set_of_books_id, gi.ledger_id) = gll.ledger_id
AND gp.period_set_name = gll.period_set_name 
and gp.period_type = gll.accounted_period_type
/* AND gll.period_set_name = 'Accounting' */
and gi.accounting_date between gp.start_date and gp.end_date
and gi.code_combination_id = gcc.code_combination_id(+)
and gi.status like '%PROCESSED%'
and rownum < 2) a",262861.1,"To implement the solution, please execute the following steps:

1. For the issue with processed rows not being deleted from gl_interface, download and review the readme and pre-requisites for the current patch. Click the link with the file name to get a list of the patches providing the recent versions of that file and choose one (we suggest you install the latest version of the file):

    For R12.1.x: apply a patch that includes version 120.63.12010000.26 or higher of the file xlaaptrn.pkb (initially delivered by superseded Patch 14284509:R12.XLA.B).
    For R12.0.x: apply a patch that includes version 120.61.12000000.28 or higher of the file xlaaptrn.pkb (initially delivered by Patch 10234782:R12.XLA.A).

    Note: for R12 please also review Document 833986.1 to check any pre-requisite patches that are required in your environment.

    For R11i: One-off Patch:3087842 is available. This delivers fixed file gllaar.lpc version 115.12.

    Note: this fix is already included in 11i.FIN_PF.E and therefore in 11.5.10.2.


2. For the issue of the Period Close process warning please follow solution from Document 818906.1: GLOCPP: Close Period with Warning R_CLPR0003: Unprocessed Records Exist in GL_INTERFACE.

3. Apply the patch(s) in a test environment

4. Follow any post-installation requirements, including stopping and restarting Apache

5. Confirm the correct file versions were installed. You can use the commands like the following:
    strings -a $XLA_TOP/patch/115/sql/xlaaptrn.pkb |grep '$Header'

6. The undeleted rows in GL_INTERFACE need to be manually deleted, because the patch will work only for future imports (please ensure there is no journal import process running and make a backup of the gl_interface table before doing the deletion).
You can either use the sql from Note 262861.1 to delete the interface data or you can use the R11i Delete Journal Import Data form or the R12 GLLDEL Program - Delete Journal Import program.
See:How to Delete Data From The GL_INTERFACE Table in Oracle General Ledger R12 Document 560907.1

7. Retest the issue. If the issue is resolved, migrate the solution to other environments as appropriate.",SQLGL,GL_INTERFACE Rows with Status PROCESSED Remain in the Table.,GL_INTERFACE table has some rows with status PROCESSED even after running the Journal Import Process.,3,Oracle General Ledger,JE_IMPORT,JIMP,WEEK,SAT,Accounting to Financial Reports: Period Close,"Accounting transactions are originated as a result of normal business activities in Financial and Manufacturing modules of Oracle Applications, as well as in external modules. In order to register those transactions into the General Ledger, a process called Journal Import must complete successfully. Having rows in GL_INTERFACE table with error status may impact Period Close.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BC_ERROR12_PAYABLES,"select h.ledger_id ledger_id,
h.period_name period_name,
b.je_batch_id je_batch_id,
b.budgetary_control_status budgetary_control_status,
h.je_source je_source,
h.je_category je_category
from gl_je_batches b, gl_je_headers h
where b.je_batch_id =h.je_batch_id
and b.budgetary_control_status = 'F'
and h.je_from_sla_flag = 'Y'
and h.je_source = 'Payables'
and b.actual_flag='A'
and b.status<>'P'
and rownum < 2 ",885472.1,"To implement the solution, please execute the following steps:

1. Download and review the readme and pre-requisites for the patches relevant to your applications version.
for 12.0.x  Patch 16957784:R12.PSA.A
for 12.1.x  Patch 22850140:R12.PSA.B, Patch 25605480:R12.XLA.B
for 12.2.x  Patch 30861233:R12.PSA.C, Patch 25605480:R12.XLA.C

2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment.

4. Confirm the following file versions:
For 12.0.x: psaxlacb.pls 120.0.12000000.9

For 12.1.x: psaxlacb.pls 120.0.12010000.9
For 12.1.x: xlaaptrn.pkb 120.63.12010000.49

For 12.2.x: psafbcfb.pls 120.121.12020000.28
For 12.2.x: xlaaptrn.pkb 120.92.12020000.24

You can use the commands like the following:
        strings -a $XX_TOP/filename |grep '$Header'

5. Run the Period Map Maintenance program from the command line, pass the Ledger_ID parameter as follows:
$gl/bin/GLBCMP <apps_user>/<apps_password>@<instance> 0 Y <ledger_id>

6. Retest the issue.

7. Migrate the solution as appropriate to other environments.


However for Journal batches already transferred to GL, you may have to apply a data fix. If you still have an issue and would like to correct these transaction with a data fix, please update the SR and Support will engage appropriately.",SQLGL,Error 12 During Funds Checking or Posting of Payables Journals,Error 12 During Funds Checking or Posting of Payables Journals,2,Oracle General Ledger,BUDGETS,ENCUMB,WEEK,SAT,Accounting to Financial Reports: Reporting,Journal fails with funds reservation error and would not allow users to Post the journals.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_UNBALANCED_RECONCILIATION_ACCOUNTED_AMOUNT,"Select 
a.ledger_id ledger_id, 
a.ledger_name ledger_name,
a.Sum_CR Sum_CR,
a.Sum_DR Sum_DR,
a.Reconcilation_identifier Reconcilation_identifier
from
((SELECT l.ledger_id ledger_id, 
le.Name ledger_name,
SUM(nvl(entered_cr,   0))Sum_CR,
SUM(nvl(entered_dr,   0)) Sum_DR,
jgzz_recon_id Reconcilation_identifier
FROM gl_je_lines l,
gl_je_lines_recon r,
gl_ledgers le
WHERE l.je_header_id = r.je_header_id
AND l.je_line_num = r.je_line_num
AND le.ledger_id = l.Ledger_id
AND jgzz_recon_status = 'R'
GROUP BY r.jgzz_recon_id,l.ledger_id, le.Name
HAVING SUM(nvl(entered_cr,   0))<> SUM(nvl(entered_dr,   0))) 
UNION
(SELECT l.ledger_id ledger_id, 
le.Name ledger_name,
jgzz_recon_id Reconcilation_identifier,
SUM(nvl(accounted_cr, 0))Sum_CR,
SUM(nvl(accounted_dr, 0)) Sum_DR
FROM gl_je_lines l,
gl_je_lines_recon r,
gl_ledgers le
WHERE l.je_header_id = r.je_header_id
AND l.je_line_num = r.je_line_num
AND le.ledger_id = l.Ledger_id
AND jgzz_recon_status = 'R'
GROUP BY r.jgzz_recon_id,l.ledger_id, le.Name
HAVING SUM(nvl(accounted_cr, 0))<> SUM(nvl(accounted_dr, 0)))) a
where rownum < 2 ",1516180.1,"SYMPTOMS
============
GL Reconciliation was performed. The reconciliation seems to be unbalanced or missing journal lines were spotted in the problematic reconciliation.

CAUSE
============
The cause is undetermined.

SOLUTION
============
To implement the solution, please execute the following steps:

1. Please review this document, the patch would help if your case matches the one described:

Note 2051900.1 GLXRCENT GLXRCREV Journal Reconciliation/Reverse Reconciliation Forms Do Not Synchronize Totals When Lock Error Occurs

2. If the above does not seem to be your case and you would like to correct this data with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
R12: GL Reconciliation - Unbalanced (Datafix) (Doc ID 1516180.1)",SQLGL,R12: GL Reconciliation - Unbalanced Accounted Amounts,GL Reconciliation was performed. The reconciliation seems to be unbalanced or missing journal lines were spotted in the problematic reconciliation.,3,Oracle General Ledger,JE_ENTER,RECONCILIATION,WEEK,SAT,Accounting to Financial Reports: Reconciliation,If the GL Reconciliation was performed then the reconciliation seems to be unbalanced or missing journal lines were spotted in the problematic reconciliation.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_JOURNAL_BUDGETARY_INPROCESS,"SELECT GJB.JE_BATCH_ID JE_BATCH_ID
, GJB.NAME NAME
, GJB.STATUS STATUS
, GJB.DEFAULT_PERIOD_NAME PERIOD_NAME
,      GJB.BUDGETARY_CONTROL_STATUS BUDGETARY_CONTROL_STATUS
, GJH.LEDGER_ID LEDGER_ID
FROM GL.GL_JE_BATCHES GJB, GL.GL_JE_HEADERS GJH
WHERE GJB.JE_BATCH_ID = GJH.JE_BATCH_ID
AND GJB.BUDGETARY_CONTROL_STATUS = 'I'
AND ROWNUM < 2",1141794.1,"To implement the solution, please execute the following steps:

To resolve this issue and release the stuck batches, a new program 'Program - Restore Journals' has been released.
This program will list all the stuck GL Batches (with Budgetary Control status as 'In Progress';). Selecting the batch and running the program will change the funds check status of the batch to 'Required'. The new program is added to Standard General Ledger Request Group

1. Download and review the readme and pre-requisites

Patch 33336800:R12.GL.B
Patch 33336800:R12.GL.C

2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment first.

4. Verify the versions of the files:

Release 12.2:
gl  	patch/115/import/US  	b9958522.ldt  	120.1.12020000.5 
gl  	patch/115/sql  	glrjprb.pls  	120.2.12020000.3 
gl  	patch/115/sql  	glrjprs.pls  	120.5.12020000.3 

Release 12.1:
gl  	patch/115/import/US  	b9958522.ldt  	120.0.12010000.5 
gl  	patch/115/sql  	glrjprb.pls  	120.2.12010000.4 
gl  	patch/115/sql  	glrjprs.pls  	120.5.12010000.4 
 

For release 11i

1. Download and review the readme and pre-requisites for Patch 8975321

2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment first.

4. Verify the versions of the files:

    gl patch/115/sql glrjprb.pls 115.0.115103.2
    gl patch/115/sql glrjprs.pls 115.0.115103.4
 

Follow the steps below once the relevant patch has been applied:

-    Attach the 'Program - Restore Journals' to the responsibility where the program is to be run from. 
        The program must be submitted from the same General Ledger responsibility where the batch shows the issue, because it uses the GL Set Of books profile option to build the Batch Name LOV. Hence, if submitted from another GL responsibility pointing to another SOB, the batch will not be available for selection.
-    While submitting the program, it has Batch_Name as parameter. The Batch_Name parameter LOV shows all the batches which are stuck in the 'In-Process' status. Please select the batch you want to restore and then submit.
-    The corresponding batch is changed to 'Required' for funds reservation and the GL_BC_PACKET information is deleted if there was any.
-    The batch can be queried from the Enter Journals Screen and is ready to have funds reserved again.",SQLGL,Journal Entry Stuck In Process during Funds Reservation,"Journal Entry Stuck ""In Process"" during Funds Reservation. Unable to reserve or delete the journal.",2,Oracle General Ledger,BUDGETS,ENCUMB,WEEK,SAT,Accounting to Financial Reports: Reporting,"Journals need to be funds reserved successfully for it to be Posted. Otherwise, there will be an impact on Posting.",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BALANCES_1,"select a.ledger_id ledger_id, a.period period_name, 
a.currency currency, a.end_dr total_debit, a.end_cr total_credit
 from (SELECT  gl.ledger_id ledger_id
, max(gpm.period_name) period
, gb.currency_code currency 
, sum(gb.begin_balance_dr) + sum(period_net_dr) end_dr
, sum(gb.begin_balance_cr) + sum(period_net_cr) end_cr
FROM gl_balances gb, GL.GL_DATE_PERIOD_MAP gpm, gl_ledgers gl
WHERE gb.ledger_id=gl.ledger_id 
and gb.period_name=gpm.period_name
and to_date(gpm.accounting_date, 'DD-MON-YY')= to_date(sysdate, 'DD-MON-YY')
AND gpm.period_set_name= gl.period_set_name and gl.complete_flag='Y' and gl.FIRST_LEDGER_PERIOD_NAME is not null
AND gb.actual_flag = 'A'
AND gb.template_id is null
AND (gb.translated_flag <> 'Y' or gb.translated_flag is null)
AND gb.currency_code != 'STAT' 
group by gl.ledger_id,  gb.translated_flag ,gb.currency_code  
having sum(gb.begin_balance_dr) + sum(period_net_dr)<>sum(gb.begin_balance_cr) + sum(period_net_cr)) a
where rownum<1000",2745665.1,"Please implement the below Steps in a Test Instance. Please take help of DBA/System Administrator.

Note: Refer to Demo Video from Doc ID 2745665.1 for detailed instructions and demo of installing GLBALFIX automatically.


1. Download and unzip glbalfix_R12.zip and FTP to a UNIX directory in ASCII mode (Ex: $HOME/glbalfix_R12) from Doc ID 2745665.1

2. Login to UNIX server and change directory to path (Ex: $HOME/glbalfix_R12) where above files are placed

3. Request executable permissions for GLBALFIX for this directory from your DBA.
   If you or your DBA are not sure of the command for this, please log a SR with Support, reference this document, and request the appropriate command.

4. After being granted the appropriate permissions, execute XXGL_GLBALFIX_INSTALL.sh as follows:

        $HOME/glbalfix_R12> XXGL_GLBALFIX_INSTALL.sh

5. Provide below parameters when prompted for.
        a) APPS User (which is generally apps)
        b) APPS User password
        c) GL User (which is generally gl)
        d) GL User password
        e) Absolute path where the files are FTPed. Do not put a '/' at the end. (Ex: /global/oracle/xxxxxx/home/glbalfix_R12)
        
6. Add the concurrent program ""General Ledger  - Automated Balance Fix"" to request group using below navigation
        System Administrator(Responsibility)> Security> Responsibility> Request

7. Upload the RTF File ""XXGL_GLBALFIX_US_V1.rtf"" using the below Navigation:
    XML Publisher Administrator > Home > Templates
    Query for Template: General Ledger  - Automated Balance Fix
    Upload the XXGL_GLBALFIX_US_V1.rtf File using the ""Add File"" button under ""Template Files"" section and choose the language as ""English""  and click on Apply button.

8. Submit the concurrent program ""General Ledger  - Automated Balance Fix"" by passing below parameters:

   (N): General Ledger Responsibility > View > Requests> Submit New Request

A) Ledger Name:
Select Name of the ledger for which balances are to be checked and/or fixed.

B) Start Period:
Balances will be checked and/or fixed from this period through the latest opened period.
Balances before this period will not be checked and/or fixed, though the ending balances of the period
immediately before this one will be used to verify the opening balances for this period.

C) Account Range:
Enter the code combination ranges for which the corruption has to be identified. You can leave it blank, in which case
the program will run for all code combinations. Leaving this parameter as blank, may cause slight performance issue for the program.

D) Report Only: Yes/No (LOV)
Entering a value of 'Yes' runs the report in Report Only mode. It will produce a report indicating the problems with the gl_balances / gl_daily_balances table, but it will NOT resolve these problems.
Entering a value of 'No' runs the report in Fix Mode, in which it indicates the problems with gl_balances table and fixes the GL balances.

9. Review the output and migrate the solution to other environments.

Note: Please note that if program completes in error no output will be generated. Refer log file for detailed information on the errors.",SQLGL,GL balances corruptions,The total debit balances do not match the total credit balance,2,Oracle General Ledger,BALANCES,DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,GL Trial Balance - doesn't reconcile due to total debit not equaling total credit balances. Script returns ledger and period affected and requires data fix to address the unbalanced issue.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_BATCH_STATUS_ERROR28,"SELECT
    ledger_id ledger_id,
    ledger_name ledger_name,
    segment_type_code segment_type_code,
    segment_value segment_value,
    error_message error_message,
    record_id record_id
FROM
    (
        ( SELECT
            gl.ledger_id ledger_id,
            gl.name ledger_name,
            segment_type_code segment_type_code,
            segment_value segment_value,
            'Value Missing in gl_ledger_norm_seg_vals' error_message,
            parent_record_id record_id
        FROM
            gl_ledger_segment_values glsv,
            gl_ledgers gl
        WHERE
            gl.ledger_id = glsv.ledger_id
        MINUS SELECT
            gl.ledger_id,
            gl.name ledger_name,
            segment_type_code segment_type_code,
            segment_value segment_value,
            'Value Missing in gl_ledger_norm_seg_vals' error_message,
            record_id record_id
        FROM
            gl_ledger_norm_seg_vals glsv,
            gl_ledgers gl
        WHERE
            gl.ledger_id = glsv.ledger_id
        ) UNION ( SELECT
            gl.ledger_id ledger_id,
            gl.name ledger_name,
            segment_type_code segment_type_code,
            segment_value segment_value,
            'Value Missing in gl_ledger_segment_values' error_message,
            record_id record_id
        FROM
            gl_ledger_norm_seg_vals glsv,
            gl_ledgers gl
        WHERE
            gl.ledger_id = glsv.ledger_id
        MINUS SELECT
            gl.ledger_id ledger_id,
            gl.name ledger_name,
            segment_type_code segment_type_code,
            segment_value segment_value,
            'Value Missing in gl_ledger_segment_values' error_message,
            parent_record_id record_id
        FROM
            gl_ledger_segment_values glsv,
            gl_ledgers gl
        WHERE
            gl.ledger_id = glsv.ledger_id
        )
    )
    where rownum<2
ORDER BY
    1,
    3,
    5 ASC",2521761.1,"SYMPTOMS
============
When attempting to Post journals, the following error occurs:
ERROR:
Error28 - Showing invalid balancing or management segment value for the ledger.

CAUSE
============
There could be multiple causes for this issue. 
Development suggested missing data from GL_LEDGER_SEGMENT_VALUES table (different values in GL_LEDGER_SEGMENT_VALUES table comparing to GL_LEGAL_ENTITIES_BSVS and GL_LEDGER_NORM_SEG_VALS tables) etc.,

SOLUTION
============
A data fix will be required from Support.  If you would like to correct this issue with a data fix, please update the SR and Support will engage appropriately.

KNOWLEDGE MANAGEMENT 
=====================
Monitoring Services: GLPPOS:Posting Ends with ""Error28 - Showing invalid balancing or management segment value for the ledger"" (Doc ID 2521761.1)",SQLGL,Journal Posting Failed With Error28,Identified journal lines with invalid balancing and management segment value which causing Error28 while posting.,4,Oracle General Ledger,POST,POST,WEEK,SAT,Accounting to Financial Reports: Period Close,Invalid Balancing and Management Segments Values in Journal lines cannot post to General Ledger.,EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_FAHRCS_SPECIAL_CHARACTERS_SEG_DESCRIPTION,"SELECT
    ledger_name ledger_name,
    value_set_name value_set_name,
    flex_value flex_value,
    description description,
    error_message  error_message
FROM
    (
/*SPLIT_HERE*/
        SELECT
            lgr.name ledger_name,
            fvs.flex_value_set_name value_set_name,
            val.flex_value flex_value,
            val.description description,
            'Leading Space detected' error_message
        FROM
            gl_ledgers lgr,
            fnd_id_flex_segments flex_seg,
            fnd_flex_value_sets fvs,
            fnd_flex_values_vl val
        WHERE
            lgr.chart_of_accounts_id = flex_seg.id_flex_num
        AND
            flex_seg.application_id = 101
        AND
            flex_seg.id_flex_code = 'GL#'
        AND
            flex_seg.flex_value_set_id = fvs.flex_value_set_id
        AND
            fvs.flex_value_set_id = val.flex_value_set_id
        AND
            val.description LIKE ' %'
        UNION SELECT
            lgr.name ledger_name,
            fvs.flex_value_set_name value_set_name,
            val.flex_value flex_value,
            val.description description,
            'Trailing Space detected' error_message
        FROM
            gl_ledgers lgr,
            fnd_id_flex_segments flex_seg,
            fnd_flex_value_sets fvs,
            fnd_flex_values_vl val
        WHERE
            lgr.chart_of_accounts_id = flex_seg.id_flex_num
        AND
            flex_seg.application_id = 101
        AND
            flex_seg.id_flex_code = 'GL#'
        AND
            flex_seg.flex_value_set_id = fvs.flex_value_set_id
        AND
            fvs.flex_value_set_id = val.flex_value_set_id
        AND
            val.description LIKE '% '
        UNION SELECT
            lgr.name ledger_name,
            fvs.flex_value_set_name value_set_name,
            val.flex_value flex_value,
            val.description description,
            'Contains a CHARACTER NOT Allowed' error_message
        FROM
            gl_ledgers lgr,
            fnd_id_flex_segments flex_seg,
            fnd_flex_value_sets fvs,
            fnd_flex_values_vl val
        WHERE
            lgr.chart_of_accounts_id = flex_seg.id_flex_num
        AND
            flex_seg.application_id = 101
        AND
            flex_seg.id_flex_code = 'GL#'
        AND
            flex_seg.flex_value_set_id = fvs.flex_value_set_id
        AND
            fvs.flex_value_set_id = val.flex_value_set_id
        AND (
                val.description LIKE '%""%'
            OR
                val.description LIKE '%[%'
            OR
                val.description LIKE '%]%'
        ) UNION SELECT
            lgr.name ledger_name,
            fvs.flex_value_set_name value_set_name,
            val.flex_value flex_value,
            val.description description,
            'New Line CHARACTER detected' error_message
        FROM
            gl_ledgers lgr,
            fnd_id_flex_segments flex_seg,
            fnd_flex_value_sets fvs,
            fnd_flex_values_vl val
        WHERE
            lgr.chart_of_accounts_id = flex_seg.id_flex_num
        AND
            flex_seg.application_id = 101
        AND
            flex_seg.id_flex_code = 'GL#'
        AND
            flex_seg.flex_value_set_id = fvs.flex_value_set_id
        AND
            fvs.flex_value_set_id = val.flex_value_set_id
        AND
            val.description LIKE '%'
             ||  CHR(9)
             ||  '%'
/*SPLIT_HERE*/    
)
WHERE
    1 <= (
        SELECT
            COUNT(1)
        FROM
            ad_applied_patches
        WHERE
            patch_name = '19795559'
    )
and rownum<1000",2076459.1,"To implement the solution, please execute the following steps:

  1. To help determine which segment descriptions contain special characters, please review GL Setup: FRM-40654: Disabling a Value in Flexfields Values Form (Doc ID 1011217.7).
      Execute all of the scripts suggested to confirm which segment descriptions contain invalid characters.

      As well, please review Fusion Accounting Hub Reporting Cloud Service: Pre-Validation Procedures/Scripts for Existing EBS Data (Doc ID 2079075.1).
      Execute all of the scripts suggested in section 'Pre Validation for Special Characters' and 'Validate Segment Name for Essbase'.

  2. Navigate to the Accounting Setup Manager (ASM), query for the ledger, find and make note of the Chart of Accounts (COA) used.

  3. Then navigate to Setup > Financials > Flexfield > Key > Segments, query for the COA identified above, then click on Segments.
      Note the Value Set used for the segment identified in the log file (from the sample log file above - the Account segment).

  4. Then navigate to Setup > Financials > Flexfield > Key > Values, query for the Value Set noted in #3.

  5. Review all of the entries in the value segment descriptions - which is where the error is occurring.
      Remove all special characters. Be sure to check for leading and/or trailing spaces, quotes ("" ""), commas, ampersands (&), etc. A dash (-) should be fine

  6. Save the changes. Close the form. On closing the form, it will submit the concurrent program 'Compile Value Set Hierarchies'. Ensure the program completes successfully.

  7. Again execute the scripts from step 1 above to confirm there are no special characters.

  8. Navigate to the Submit Request window and execute the program 'Transfer Setups and Balances to Accounting Hub Reporting Cloud Service'. The Program should now complete successfully.",SQLGL,FAHRCS Segment Value Descriptions - Special Characters ,Rows returned by the query are invalid. A correction to these invalid rows is required to use  Fusion Accounting Hub,4,Oracle General Ledger,EBSGL,,WEEK,SAT,Accounting to Financial Reports: Reporting,"Balances from E-Business Suite ( EBS ) to Fusion Accounting Hub cannot be 
transferred when EBS segment values have special characters in their 
description. Transfer program submitted from EBS to transfer the 
balances to Fusion Accounting Hub will complete in error if 
there are special characters in segment value description. 
Balance transfer is mandatory for using reporting tools of 
Fusion Accounting Hub",EBS Financials,EBS - Financial Control
ME$EBS_FIN_GL_SUBLEDGER_LEVEL_SECONDARY_LEDGER_DUPLICATE_TRANS,"SELECT ledger_name ledger_name, relationship_type relationship_type, journal_source journal_source, journal_category journal_category, user_updatable_flag user_updatable_flag, create_journal_from_primary create_journal_from_primary
FROM 
(SELECT gllrs.target_ledger_name ledger_name,
gllrs.relationship_type_code relationship_type,
glir.je_source_name journal_source,
glir.je_category_name journal_category,
glir.user_updatable_flag user_updatable_flag,
decode(glir.include_flag,'Y','Yes',glir.include_flag) create_journal_from_primary
FROM gl_je_inclusion_rules glir,
gl_ledger_relationships gllrs
WHERE relationship_enabled_flag = 'Y'
AND relationship_type_code <> 'NONE'
AND gllrs.gl_je_conversion_set_id = glir.je_rule_set_id
AND gllrs.relationship_type_code = 'SUBLEDGER'
AND glir.include_flag = 'Y'
AND glir.je_source_name IN (
'Project Accounting','Inventory','Purchasing','Receivables','Cash Management','Assets','Payables'
)
AND ROWNUM <2
GROUP BY
gllrs.target_ledger_name,
gllrs.relationship_type_code,
glir.je_source_name,
glir.je_category_name,
glir.user_updatable_flag,
glir.include_flag)",784875.1,"To implement the solution, please execute the following steps:

1. Go to Accounting Setup Manager in General Ledger.

2. For the Reporting Currency in question, change the Journal Conversion Rules as follows:
Set the 'Convert Journals to this Reporting Currency' to No, for all Subledgers that use Subledger
Accounting (i.e., Receivables, Payables, etc.).    (Note that if you set Other/Other to No, then your General Ledger journals will not be converted either, unless those specific source/categories are listed there separately as Yes.)

Navigation:   Primary ledger - 'Reporting currencies' area > Update > Select the reporting currency > Update > 'Convert Journals to this Reporting Currency' area.

3. Retest the issue.
Note that the navigation for the Subledger Level Secondary Ledger setup is:
Accounting setups > Primary to Secondary Ledger Mapping > Update > 'Transfer Journals to this Secondary Ledger' area .",SQLGL,Transfer Journals to this Secondary Ledger set to Yes for Sub Ledger Level Secondary Ledger,"Due to incorrect Ledger setup, journals will be created in Secondary Ledger twice causing duplication.",2,Oracle General Ledger,BALANCES,BAL,WEEK,SAT,Accounting to Financial Reports: Period Close,"Due to incorrect Journal Conversion Rules for Sub-Ledger level secondary ledger, duplication of journals in Secondary Ledger occurs, which cause balance corruption.",EBS Financials,EBS - Financial Control
ME$EBS_HCM_PAY_ORPHAN_FPS_RECORDS,"select  fps_pay_act_id fps_pay_act_id ,fps_effective_date fps_effective_date, nr_records records_count
from
(
SELECT   fps_pay_act_id fps_pay_act_id ,fps_effective_date fps_effective_date, count(fps_asg_act_id) nr_records
FROM  pay_gb_fps_details 
WHERE  fps_pay_act_id NOT IN (SELECT ppa.payroll_action_id FROM  pay_payroll_actions ppa) 
group by fps_pay_act_id,fps_effective_date
having abs(extract (year from fps_effective_date) -extract (year from sysdate))<=1
)
where
exists (select 1 from hr_legislation_installations where substr(application_short_name,1,4)='PAY' and Legislation_code = 'GB' and status='I')
and rownum<100
order by 1",1589654.1,"There are corrupted rows in pay_gb_fps_details table
 The usual cause is: Rollback process has been used recently or in the past for the FPS Process. For the FPS process GB Rollback process has to be used.
Datafix is required, as documented in FPS Rolled Back Using ROLLBACK Not GB ROLLBACK - Datafix Required (Doc ID 1589654.1)
Please let us know if you want to fix corrupted records",PAY, UK Legislation FPS Rolled Back Using ROLLBACK Not GB ROLLBACK ,"Rollback has been used recently or in the past for the FPS Process. For the FPS process GB Rollback has to be used, as datafix might be required.",3,Oracle HRMS (UK),UKPAY,RTI,WEEK,SAT,People to Paycheck: Payroll,"When Rollback is used instead of the UK legislation specific Rollback process (GB Rollback), data corruption occurs and the next run of Full Payment Submission can end in error. Due to this, FPS file cannot be submitted in time to HMRC and HMRC issues penalties for delayed submissions.",EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_APPROVER_UK_EPS,"select hou.business_group_id business_group_id,
hoi.org_information_context org_information_context, ORG_INFORMATION18 approver_id
from hr_all_organization_units hou,
hr_organization_information hoi
where hou.organization_id=hou.business_group_id
and hou.organization_id=hoi.organization_id
and  hoi.org_information_context not in ('CLASS','Business Group Information')
and hoi.org_information_context ='Tax Details References' 
and ORG_INFORMATION18 is not null
and not exists ( select 1 from fnd_user where employee_id=ORG_INFORMATION18)
and rownum<100
order by 1",1550039.1,"SYMPTOMS: The approver of Employer Payment Summary cannot approve the EPS

CAUSE: The approver of Employer Payment Summary is defined at Business Group Level, Tax Details References, but the user does not have employee attached

SOLUTION: Please navigate to System Administrator responsibility>Security>User>Define. Query the user and attach the employee associated
Reference: RTI Workflow Notification (Doc ID 1550039.1)",PAY,UK Legislation Approver for Employer Payment Summary does not have employee attached to user,"The approver of Employer Payment Summary is defined at Business Group Level, Tax Details References, but the user does not have employee attached",2,Oracle HRMS (UK),UKPAY,RTI,MONTH,LAST,People to Paycheck: Payroll,Employer Payment Summary file cannot be submitted to HMRC without being approved. HMRC issues penalties for delayed submissions,EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_HMRC_LOGIN_CREDENTIALS,"select hou.name business_group,
hoi.org_information1 Paye_reference
from hr_all_organization_units hou,
hr_organization_information hoi
where hou.organization_id=hou.business_group_id
and hou.organization_id=hoi.organization_id
and  hoi.org_information_context not in ('CLASS','Business Group Information')
and hoi.org_information_context ='Tax Details References' 
and not exists
(select a.paye_reference from pay_gb_authentication_dtls a where a.paye_reference=hoi.org_information1)
and exists (select 1 from hr_legislation_installations  where substr(application_short_name,1,4)='PAY' and  Legislation_code = 'GB'  and status='I')
and rownum<100
order by 1,2
",2287642.1,"For some PAYE References the HMRC Login Credentials are not entered
For these PAYE References, RTI files cannot be submitted to HMRC and files cannot be retrieved
To add HMRC Login Credentials, follow steps from UK EDI Decommissioning changes effective from April 2018 (Doc ID 2287642.1):
Navigate to UK HRMS Responsibility-> HMRC Transactions-> HMRC Login Credentials
Users can login to record the HMRC Login Credentials. Users must register with HMRC and get the required login credentials.

Users can record the following fields:

    Employer PAYE Reference
    User Name (Sender ID)
    Password
    Connection Method",PAY,UK Legislation HMRC Login Credentials not entered,For some PAYE References the HMRC Login Credentials are not entered,2,Oracle HRMS (UK),EDI_DECOM,EDI_DECOM,MONTH,LAST,People to Paycheck: Payroll,"A new user interface has been provided for users to record the HMRC login credentials required for XML Channel of Submission.
This is mandatory setup.
Customer is eligible to receive penalties from authority.",EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_WRONG_PAYROLL_PAY_DATE,"select payroll_id payroll_id,
end_date end_date,
period_type period_type,
Start_date start_date, 
cut_off_date cut_off_date,
regular_payment_date regular_payment_date
from per_time_periods a
where a.regular_payment_date< a.start_date
and exists (select 1 from hr_legislation_installations where substr(application_short_name,1,4)='PAY' and Legislation_code = 'GB' and status='I')
and rownum<100
order by 1
",2319553.1,"SYMPTOMS: When enter Absence on Absence screen and then click statutory payments button and next screen shows average earnings of zero

CAUSE:Normal Payment date incorrect in Payroll Period Dates

SOLUTION:
Follow UK: Cannot Derive New Emps Pay on Statutory Payments (Doc ID 2319553.1)

 Navigate to UK HRMS Responsibility>Payroll>Description

Query the payroll name and go to Period Dates

Search for relevant period (where the error occurs) and make sure Normal Payment date is correctly set",PAY,UK Legislation Wrong payroll date,Wrong payroll date,4,Oracle HRMS (UK),UKPAY,PREPAYMENTS,WEEK,SAT,People to Paycheck: Payroll,Wrong payments for employees.,EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_UKXML_SENDER,"select hou.business_group_id business_group_id,
hoi.org_information_context org_information_context, hoi.org_information1 PAYE_Reference,hoi.org_information4 xml_sender
from hr_all_organization_units hou,
hr_organization_information hoi
where hou.organization_id=hou.business_group_id
and hou.organization_id=hoi.organization_id
and  hoi.org_information_context not in ('CLASS','Business Group Information')
and hoi.org_information_context ='Tax Details References Cont' 
and hoi.org_information4 is null
and exists (select 1 from hr_legislation_installations  where substr(application_short_name,1,4)='PAY' and  Legislation_code = 'GB'  and status='I')
and rownum<100
order by 1",2287642.1,"XML Sender is not set at Business Group level. 
This will cause RTI processes to error
In order to enter XML Sender, use below steps:
1. Navigation: Work Structures-> Organization-> Description-> Business Group
2. Context: Tax Details References Cont.
3. XML Sender

Users can enter the sender details. The field is mandatory for XML submission. A sender can be:

    Individual
    Company 
    Agent 
    Bureau 
    Partnership 
    Trust 
    Employer 
    Government 
    Acting in Capacity 
    Other
Reference: UK EDI Decommissioning changes effective from April 2018 (Doc ID 2287642.1)",PAY,UK Legislation XML sender is not set,RTI processes in xml mode will error out if xml sender is not set for a specific PAYE Reference. XML Sender should be added at Business Group level,2,Oracle HRMS (UK),UKPAY,RTI,WEEK,SAT,People to Paycheck: Payroll,"xml sender is mandatory for submitting an RTI file to HMRC. If xml sender is not set, all the RTI xml processes (Full Payment Submission, Earlier Year Update, Employer Payment Summary) are ending in error and cannot be submitted to HMRC. HMRC can issue delay penalties",EBS HCM,EBS - Payroll
ME$EBS_HCM_HR_INCORRECT_PROFILE_SHARED,"select PROFILE_OPTION_NAME Profile_name, Context_profile Context_profile,Level_profile Level_profile,Value_profile Value_profile from
( 
Select fpotl.PROFILE_OPTION_NAME,
decode(to_char(fpov.level_id),
'10001', 'Site',
'10002', 'Application') Context_profile,
fpo.APPLICATION_ID,
fpov.LEVEL_VALUE,
decode(to_char(fpov.level_id),
'10001', 'Site',
'10002', nvl(app.application_short_name,to_char(fpov.level_value))) Level_profile,
DECODE(fpov.PROFILE_OPTION_VALUE,'Y','Yes',
DECODE(fpov.PROFILE_OPTION_VALUE,'N','No',
fpov.PROFILE_OPTION_VALUE)) Value_profile
from FND_PROFILE_OPTIONS fpo,
FND_PROFILE_OPTIONS_TL fpotl,
FND_PROFILE_OPTION_VALUES fpov,
FND_APPLICATION app
where fpotl.PROFILE_OPTION_NAME = fpo.PROFILE_OPTION_NAME
and app.application_id (+) = fpov.level_value
and fpo.PROFILE_OPTION_ID = fpov.PROFILE_OPTION_ID
and fpotl.LANGUAGE = 'US'
and
((fpo.PROFILE_OPTION_NAME like 'DATETRACK:ENABLED'
and fpotl.PROFILE_OPTION_NAME like 'DATETRACK:ENABLED'
and fpov.PROFILE_OPTION_ID = 1208
and fpov.LEVEL_ID IN (10001,10002)
and fpov.LEVEL_VALUE != '804')
or
(fpotl.PROFILE_OPTION_NAME = 'PER_ENABLE_DTW4'
and fpo.PROFILE_OPTION_NAME = 'PER_ENABLE_DTW4'
and fpov.LEVEL_ID IN (10001,10002)
and fpo.APPLICATION_ID = 800)
)
AND exists (select 1 from FND_PRODUCT_INSTALLATIONS where APPLICATION_ID = 800 and status='S')
)",1075831.1,"SYMPTOM:   HR FULL Profiles set in a SHARED HR environment

CAUSE:         Profiles 'DateTrack:Enabled' and 'HR: Enable DTW4' are active in a shared HR environment

SOLUTION:  Profiles 'DateTrack:Enabled' and 'HR: Enable DTW4 defaulting' are to be activated and used ONLY
in 'fully installed Oracle Human Resources' environments.  For 'shared HR installed Oracle Human Resources' 
implementations, profiles 'DateTrack:Enabled' and 'HR: Enable DTW4 defaulting' MUST be deactivated.",PER,"Shared HR Profiles DateTrack:Enabled, HR: Enable DTW4 not allowed to be active in shared HR",These profiles are only allowed to be active and used within fully installed Oracle Human Resources environments.,3,Oracle Human Resources,DATETRACK,DATETRACK,MONTH,LAST,Employment Lifecycle: Human Resources,Incorrect date track records created and impossible to process. This is causing corruption for the employee records.,EBS HCM,EBS - HR
ME$EBS_HCM_HR_OVERLAPPING_PER_ALL_ASSIGNMENTS_F,"SELECT person_id person_id
FROM per_all_assignments_f p1
WHERE EXISTS
(SELECT 1 FROM per_all_assignments_f p2
WHERE p1.ROWID != p2.ROWID
AND p1.assignment_id = p2.assignment_id
and p1.effective_start_date <= p2.effective_end_date
and p1.effective_end_date >= p2.effective_start_date) 
and rownum<100
order by 1",2306872.1,"SYMPTOM:   Employee data cannot be manipulated

CAUSE:     Overlapping records in HCM tables due to incorrect manipulation of data or direct updates in tables

SOLUTION:  A data fix will be required to address this issue. 

If you would like to correct this, please update the SR and Support will engage appropriately.",PER,Overlapping records in assignments for employee data,"There is data corruption in per_all_assignments_f, there are overlapping records. Errors might happen on payroll processes",2,Oracle Human Resources,Data_fix,Fix_assign,WEEK,SAT,Employment Lifecycle: Human Resources,"Due to data corruption, employee data cannot be manipulated. 
Payroll processes might throw errors and employee payments could be 
delayed.The errors in payroll processes cannot directly point to specific data corruption in per_all_assignments_f table, therefore, the script should be used to identify this before payroll closing period.",EBS HCM,EBS - HR
ME$EBS_HCM_HR_LOOP_IN_SUPERVISOR_HIERARCHY,"select PERSON_ID PERSON_ID,
SUPERVISOR_ID SUPERVISOR_ID,
level1 level1,
top_supervisor top_supervisor,
top_supervisor_id top_supervisor_id,
PATH PATH from
(
SELECT
a.""PERSON_ID"",
a.""SUPERVISOR_ID"", 
LEVEL level1,
CONNECT_BY_ROOT supervisor_emp_no top_supervisor,
CONNECT_BY_ROOT supervisor_id as top_supervisor_id,
SYS_CONNECT_BY_PATH (supervisor_emp_no, '/') PATH
FROM (SELECT
papf.business_group_id,
papf.person_id,
paaf.assignment_id,
papf.employee_number,
papf.full_name,
paaf.supervisor_id,
papf1.employee_number supervisor_emp_no,
papf1.full_name supervisor,
paaf.organization_id,
hr_general.DECODE_POSITION(paaf.position_id) position
FROM per_all_people_f papf,
per_all_assignments_f paaf,
per_all_people_f papf1
WHERE papf.person_id = paaf.person_id
AND papf1.person_id = paaf.supervisor_id
and papf.CURRENT_EMPLOYEE_FLAG = 'Y'
AND paaf.primary_flag = 'Y'
AND papf.business_group_id = paaf.business_group_id
AND papf1.business_group_id = papf.business_group_id
AND TRUNC(SYSDATE) BETWEEN papf.effective_start_date
AND papf.effective_end_date
AND TRUNC(SYSDATE) BETWEEN paaf.effective_start_date
AND paaf.effective_end_date
AND TRUNC(SYSDATE) BETWEEN papf1.effective_start_date
AND papf1.effective_end_date
) a
where CONNECT_BY_ISCYCLE > 0
CONNECT BY NOCYCLE PRIOR a.person_id = a.supervisor_id
ORDER SIBLINGS BY a.person_id
)
where rownum<100
order by 1",1627030.1,"SYMPTOM:   Approval Management Engine (AME) is not able to process the approval list if any loop are identified in the approval hierarchy

CAUSE:     Loop Found in Supervisor Hierarchy

SOLUTION:  Execute SQL in 'How to Identify a Loop in the Supervisor Hierarchy? (Doc ID 1627030.1)'

Verify the output full_name and supervisor column this will show the loop.

Login to core application:

    Navigate: People -> Enter and Maintain
    Query the employee that is returned from the SQL above
    Click the Assignment button
    Click the Supervisor Tab
    Fix the Supervisor to remove the loop",PER,AME Loop Found in Supervisor Hierarchy,Loop Found in Supervisor Hierarchy.,3,Oracle Human Resources,PERASSGT,PERASSGT,WEEK,SAT,Employment Lifecycle: Human Resources,"Approval Management Engine (AME) is not able to process the approval list if any loop are identified in the approval hierarchy. Payables, Procurement, Self Service and any other business flows may be impacted by this incorrect approval setup.",EBS HCM,EBS - HR
ME$EBS_HCM_HR_OVERLAPPING_PER_ALL_PEOPLE_F,"select person_id person_id
from per_all_people_f p1
where exists (select 1 from per_all_people_f p2
where p1.rowid != p2.rowid
and p1.person_id = p2.person_id
and p1.effective_start_date <= p2.effective_end_date
and p1.effective_end_date >= p2.effective_start_date )
and rownum<100
order by 1


",2306872.1,"SYMPTOM:   Data corruption ( overlapping records) in the PER_ALL_PEOPLE_F table

CAUSE:          Incorrect manipulation of data or direct updates in tables

SOLUTION:  A data fix will be required to address this issue. 

                       If you would like to correct this, please update the SR and Support will engage appropriately.",PER,Overlapping records in employee data,"There is data corruption in per_all_people_f, there are overlapping records. Errors might happen on payroll processes",2,Oracle Human Resources,Data_fix,Fix_person,WEEK,SAT,Employment Lifecycle: Human Resources,"Due to data corruption, employee data cannot be manipulated. 
Payroll processes might throw errors and employee payments could be 
delayed.The errors in payroll processes cannot directly point to specific data corruption in per_all_people_f table, therefore, the script should be used to identify this before payroll closing period.",EBS HCM,EBS - HR
ME$EBS_HCM_HR_INVALID_SUPERVISOR,"SELECT 
psn.person_id employee_Person_ID,
sup.PERSON_ID supervisor_Person_ID,
Sup.person_type_id supervisor_Person_Type_ID
FROM 
per_all_assignments_f asg
, per_assignment_status_types ast
, per_all_people_f psn
, per_all_people_f sup
WHERE 
asg.person_id = psn.person_id
AND asg.assignment_status_type_id = ast.assignment_status_type_id
AND asg.supervisor_id = sup.person_id(+)
and psn.CURRENT_EMPLOYEE_FLAG ='Y'
AND  asg.assignment_type = 'E'
AND TRUNC(sysdate) BETWEEN psn.effective_start_date AND psn.effective_end_date
AND TRUNC(sysdate) BETWEEN asg.effective_start_date AND asg.effective_end_date
AND TRUNC(sysdate) BETWEEN sup.effective_start_date AND sup.effective_end_date
AND TRUNC(sysdate) BETWEEN sup.effective_start_date AND sup.effective_end_date
And asg.supervisor_id IS NOT NULL
AND sup.current_employee_flag IS NULL
AND sup.current_npw_flag IS NULL
AND sup.current_applicant_flag IS NULL  
and rownum<100
order by 1", 2366327.1,"Please execute  the below steps and verify/correct the Supervisor details.

1. Login with Any HRMS Manager responsibility

2. Navigate to People --> Enter and Maintain form --> Query the employee whose supervisor need to check.

3. Click on Assignment Button

4. Click/ Go to Supervisor Tab.

5. Verify the supervisor and choose correct and active supervisor.

    How to check the if the supervisor is invalid...

        a. Follow the same above step 1 and step2 and query the supervisor instead of employees.

        b. Check the if the employee is terminated/ex-employee.


6. If the supervisor is invalid or ex-employee then change the valid supevisor and Save changes Either Update or Correction mode per your requirements.

(If we update using 'Correction' mode then it updates changes in the same record/If we update using 'Update' mode, it creates new records by end dating previous record)",PER,Invalid supervisor for employees,Invalid supervisor for an employee,3,Oracle Human Resources,Data_fix,Fix_assign,WEEK,SAT,Employment Lifecycle: Human Resources,"Supervisor Approval Transactions might not be routed properly and workflows might end up in error. Breakage of Supervisor Hierarchy will have an impact on the performance management module, where the appraisal is done by the supervisor and his manager. As per the HR functionality each employee/assignment should have a Valid Supervisor in the System.",EBS HCM,EBS - HR
ME$EBS_MFG_INV_SERIAL_INVALID_MARK_IDS,"SELECT msn.serial_number SERIAL_NUMBER,
  msn.inventory_item_id ITEM_ID,
  msn.current_organization_id ORG_ID,
  msn.current_subinventory_code SUBINV_CODE
FROM mtl_serial_numbers msn
WHERE(msn.group_mark_id IS NOT NULL
 AND msn.group_mark_id <> -1)
AND msn.group_mark_id <> Nvl(msn.reservation_id,-2)
AND msn.group_mark_id <> Nvl(msn.wip_entity_id,-2)
 AND NOT EXISTS
  (SELECT 1
   FROM mtl_serial_numbers_temp msnt
   WHERE msn.group_mark_id = msnt.transaction_temp_id OR msn.group_mark_id = msnt.group_header_id)
AND NOT EXISTS
  (SELECT 1
   FROM wsh_delivery_details wdd
   WHERE wdd.inv_interfaced_flag <> 'Y'
   AND wdd.released_status IN('Y',    'C')
   AND wdd.transaction_temp_id IS NOT NULL
   AND msn.group_mark_id = wdd.transaction_temp_id)
AND NOT EXISTS
  (SELECT 1
   FROM wsh_delivery_details wdd
   WHERE wdd.inv_interfaced_flag <> 'Y'
   AND wdd.released_status IN('Y',    'C')
   AND msn.inventory_item_id = wdd.inventory_item_id
   AND msn.serial_number = wdd.serial_number)
AND NOT EXISTS
  (SELECT 1
   FROM mtl_cycle_count_entries mcce
   WHERE mcce.cycle_count_header_id = msn.group_mark_id
   AND mcce.cycle_count_entry_id = msn.line_mark_id
   AND mcce.entry_status_code IN(1,    2))
and rownum < 2",1472005.1,"ISSUE:
Monitoring Sensor detected Serial Numbers are LOCKED preventing users from transacting the serials. The serial number table MTL_SERIAL_NUMBERS (MSN) uses columns called ""marks"" to lock serial.

CAUSE:
Data corruption
SOLUTION:
Follow the Solution details in note 1472005.1.",INV,Serial Numbers Unable To Be Processed,Serial Numbers are LOCKED preventing users from transacting the serials.,2,Oracle Inventory Management,LOTSERATT,CTRL-SER,WEEK,SAT,Accounting to Financial Reports: Period Close,"Serial Numbers are locked, preventing users from transacting the serials. The serial number table MTL_SERIAL_NUMBERS (MSN) uses columns called ""marks"" to lock serial. These ""mark"" columns point to the related transaction that is using the serial. The ""mark"" columns sometimes get incorrect data or point to transactions that no longer exist.
This can cause serial numbers to be unusable, create problems for on-hand quantity calculations, and/or prevent transactions from completing for serialized items.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_ORPHAN_MOVE_ORDER_LINES,"select explanation explanation, 
MMTT_Trx_Source_Line_ID MMTT_Trx_Source_Line_ID,
MMTT_Transaction_Source_ID_A MMTT_Transaction_Source_ID_A,
MMTT_Transaction_Temp_ID_A MMTT_Transaction_Temp_ID_A,
MMTT_Move_Order_Header_ID_A MMTT_Move_Order_Header_ID_A,
MMTT_Move_Order_Line_ID_A MMTT_Move_Order_Line_ID_A
from (
select 'a. Orphan move order allocations' explanation, 
mmtt.trx_source_line_id MMTT_Trx_Source_Line_ID,
mmtt.transaction_source_id MMTT_Transaction_Source_ID_A,
mmtt.transaction_temp_id MMTT_Transaction_Temp_ID_A,
mmtt.move_order_header_id MMTT_Move_Order_Header_ID_A,
mmtt.move_order_line_id MMTT_Move_Order_Line_ID_A,
mmtt.organization_id MMTT_Organization_ID_A,
mmtt.inventory_item_id MMTT_Inventory_Item_ID_A,
mmtt.transaction_type_id MMTT_Transaction_Type_ID_A,
mmtt.primary_quantity MMTT_Primary_Quantity_A
from mtl_material_transactions_temp mmtt
where mmtt.move_order_line_id is not null
and not exists (
select null
from mtl_txn_request_lines mtrl
where mtrl.line_id = mmtt.move_order_line_id
and rownum < 10
)
UNION 
select 'b. Move order allocations for closed move order lines' explanation, 
mtrl.txn_source_line_id MTRL_Source_Line_ID_B,
mtrl.txn_source_id MTRL_Source_ID_B,
mmtt.transaction_temp_id MTRL_Transaction_Temp_ID_B,
mtrl.header_id MTRL_Header_ID_B,
mtrl.line_id MTRL_Line_ID_B,
mmtt.organization_id MMTT_Organization_ID_B,
mmtt.inventory_item_id MMTT_Inventory_Item_ID_B,
mmtt.transaction_type_id MMTT_Transaction_Type_ID_B,
mmtt.primary_quantity MMTT_Primary_Quantity_B
from mtl_txn_request_lines mtrl,mtl_material_transactions_temp mmtt
where mmtt.move_order_line_id = mtrl.line_id
and mtrl.line_status = 5
and rownum < 10
UNION 
select 'c. Sales order move order allocations with no pending shipping' explanation, 
mtrl.txn_source_line_id MTRL_Source_Line_ID_C,
mtrl.txn_source_id MTRL_Source_ID_C,
mmtt.transaction_temp_id MMTT_Transaction_Temp_ID_C,
mtrl.header_id MTRL_Header_ID_C,
mtrl.line_id MTRL_Line_ID_C,
mmtt.organization_id MMTT_Organization_ID_C,
mmtt.inventory_item_id MMTT_Inventory_Item_ID_C,
mmtt.transaction_type_id MMTT_Transaction_Type_ID_C,
mmtt.primary_quantity MMTT_Primary_Quantity_C
from mtl_txn_request_headers mtrh, mtl_txn_request_lines mtrl, mtl_material_transactions_temp mmtt
where mmtt.move_order_line_id is not null
and mmtt.move_order_line_id = mtrl.line_id
and mtrl.line_status = 7
and mtrl.header_id = mtrh.header_id
and mtrh.move_order_type = 3
and not exists (
select null
from wsh_delivery_details wdd
where wdd.move_order_line_id = mtrl.line_id
and wdd.released_status = 'S'
and rownum < 10
)
UNION 
select 'd. Open sales order move order lines with no pending shipping' explanation, 
mtrl.txn_source_line_id MTRL_Source_Line_ID_D,
mtrl.txn_source_id MTRL_Source_ID_D,
to_number('') transaction_temp_id,
mtrl.header_id MTRL_Header_ID_D,
mtrl.line_id MTRL_Line_ID_D,
mtrl.organization_id MTRL_Organization_ID_D,
mtrl.inventory_item_id MTRL_Inventory_Item_ID_D,
to_number('') transaction_type_id,
mtrl.primary_quantity MTRL_Primary_Quantity_D
from mtl_txn_request_headers mtrh, mtl_txn_request_lines mtrl
where mtrl.line_status = 7
and mtrl.header_id = mtrh.header_id
and mtrh.move_order_type = 3
and not exists (
select null
from wsh_delivery_details wdd
where wdd.move_order_line_id = mtrl.line_id
and wdd.released_status = 'S'
and rownum < 10
)
)
order by 2,6",1471606.1,"ISSUE:
Monitoring Sensor detected orphan Move Orders exist. Orphan Move Orders can cause errors like An Error Occurred While Relieving Reservations or Negative Balances Not Allowed because old source objects have material locked up even though they are no longer using the material.

CAUSE:
Old move orders existing can prevent users from using stock quantities. An orphaned move order can be caused by move order data existing for a shipped sales order which closed.

SOLUTION:
Follow the datafix steps detailed in note 1471606.1.",INV,Orphan move orders exist and need to be cleared,Orphan move orders exist which can cause transactions errors like An Error Occurred While Relieving Reservations or Negative Balances Not Allowed.,2,Oracle Inventory Management,MOVE_ORDER,TRXN-MVO,WEEK,SAT,Accounting to Financial Reports: Period Close,"Orphaned move orders can cause errors like An Error Occurred While Relieving Reservations or Negative Balances Not Allowed, because old source objects have material locked up even though they are no longer using the material.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_LOCATOR_MTL_ONHAND_CORRUPT,"select message data_issue, ORGANIZATION_ID ORGANIZATION_ID, SUBINVENTORY_CODE SUBINVENTORY_CODE, INVENTORY_ITEM_ID INVENTORY_ITEM_ID, LOCATOR_ID LOCATOR_ID, count count 
from (
/*SPLIT_HERE*/
select '#1: Bug 4264604: Datafix: subloc_moqmismatch.sql: Non-matching locators in the onhand quantity' message,
moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOT_NUMBER, moqd.REVISION, moqd.LOCATOR_ID, count(*) count
from MTL_ONHAND_QUANTITIES_DETAIL moqd
where moqd.LOCATOR_ID is not null
and not exists (select 1 from MTL_ITEM_LOCATIONS mil
where mil.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and mil.SUBINVENTORY_CODE = moqd.SUBINVENTORY_CODE
and mil.INVENTORY_LOCATION_ID = moqd.LOCATOR_ID)
and exists (select 1 from MTL_SECONDARY_INVENTORIES
where SECONDARY_INVENTORY_NAME = moqd.subinventory_code
and ORGANIZATION_ID = moqd.ORGANIZATION_ID
and LOCATOR_TYPE in (2, 3) )
and exists (select 1 from MTL_PARAMETERS
where ORGANIZATION_ID = moqd.ORGANIZATION_ID
and STOCK_LOCATOR_CONTROL_CODE = 4
and NOT (WMS_ENABLED_FLAG = 'Y' OR PROCESS_ENABLED_FLAG = 'Y'))
and exists (select 1 from MTL_SYSTEM_ITEMS msit
where msit.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and msit.INVENTORY_ITEM_ID = moqd.INVENTORY_ITEM_ID
and msit.SERIAL_NUMBER_CONTROL_CODE in (1, 6) )
and rownum < 10
group by moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOT_NUMBER, moqd.REVISION, moqd.LOCATOR_ID
UNION
select '#2: Bug 4264580: Datafix: subnoloc_moq_loc.sql: Organization locator control is None or Determined at subinventory level' message,
moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOT_NUMBER, moqd.REVISION, moqd.LOCATOR_ID, count(*) count
from MTL_ONHAND_QUANTITIES_DETAIL moqd
where LOCATOR_ID is not null
and exists (select 1 from MTL_SECONDARY_INVENTORIES msi
where msi.SECONDARY_INVENTORY_NAME = moqd.SUBINVENTORY_CODE
and msi.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and msi.LOCATOR_TYPE = 1)
and exists (select 1 from MTL_PARAMETERS
where ORGANIZATION_ID = moqd.ORGANIZATION_ID
and STOCK_LOCATOR_CONTROL_CODE in (1, 4)
and NOT (WMS_ENABLED_FLAG = 'Y' OR PROCESS_ENABLED_FLAG = 'Y'))
and exists (select 1 from MTL_SYSTEM_ITEMS msit
where msit.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and msit.INVENTORY_ITEM_ID = moqd.INVENTORY_ITEM_ID
and msit.SERIAL_NUMBER_CONTROL_CODE in (1, 6) )
and rownum < 10
group by moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOCATOR_ID, moqd.LOT_NUMBER, moqd.REVISION
UNION
select '#3a: Bug 4264563: Datafix: subloc_moqdnoloc.sql: Onhand records with Null Locator when Subinventory is locator controlled' message,
moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOT_NUMBER, moqd.REVISION, moqd.LOCATOR_ID, count(*) count 
from MTL_ONHAND_QUANTITIES_DETAIL moqd
where LOCATOR_ID is null
and exists (select 1 from MTL_SECONDARY_INVENTORIES msi
where msi.SECONDARY_INVENTORY_NAME = moqd.SUBINVENTORY_CODE
and msi.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and msi.LOCATOR_TYPE in (2,3) )
and exists (select 1 from MTL_PARAMETERS
where ORGANIZATION_ID = moqd.ORGANIZATION_ID
and STOCK_LOCATOR_CONTROL_CODE = 4
and NOT (WMS_ENABLED_FLAG = 'Y' OR PROCESS_ENABLED_FLAG = 'Y'))
and exists (select 1 from MTL_SYSTEM_ITEMS msit
where msit.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and msit.INVENTORY_ITEM_ID = moqd.INVENTORY_ITEM_ID
and msit.SERIAL_NUMBER_CONTROL_CODE in (1, 6) )
and rownum < 10
group by moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOT_NUMBER, moqd.REVISION, moqd.LOCATOR_ID
UNION
SELECT
'#3b: Bug 4264563: Datafix: subloc_moqdnoloc_itm.sql: Onhand records with Null Locator when when the locator control is enabled' message,
moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOT_NUMBER, moqd.REVISION, moqd.LOCATOR_ID, count(*) count 
from MTL_ONHAND_QUANTITIES_DETAIL moqd
where LOCATOR_ID is null
AND PLANNING_ORGANIZATION_ID = ORGANIZATION_ID
AND OWNING_ORGANIZATION_ID = ORGANIZATION_ID
AND PLANNING_TP_TYPE = 2
AND OWNING_TP_TYPE = 2
AND NVL(SECONDARY_TRANSACTION_QUANTITY,0) = 0
and exists (select 1 from MTL_SECONDARY_INVENTORIES msi
where msi.SECONDARY_INVENTORY_NAME = moqd.SUBINVENTORY_CODE
and msi.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and msi.LOCATOR_TYPE = 5 )
and exists (select 1 from MTL_PARAMETERS
where ORGANIZATION_ID = moqd.ORGANIZATION_ID
and STOCK_LOCATOR_CONTROL_CODE = 4
AND NOT (WMS_ENABLED_FLAG = 'Y' OR PROCESS_ENABLED_FLAG = 'Y'))
and exists (select 1 from MTL_SYSTEM_ITEMS msit
where msit.ORGANIZATION_ID = moqd.ORGANIZATION_ID
and msit.INVENTORY_ITEM_ID = moqd.INVENTORY_ITEM_ID
and msit.SERIAL_NUMBER_CONTROL_CODE in (1, 6)
and msit.LOCATION_CONTROL_CODE in (2,3) )
and rownum < 10
group by moqd.ORGANIZATION_ID, moqd.SUBINVENTORY_CODE, moqd.INVENTORY_ITEM_ID, moqd.LOT_NUMBER,moqd.REVISION,moqd.LOCATOR_ID
/*SPLIT_HERE*/
)",282480.1,"ISSUE:
Monitoring Sensor has identified Onhand quantity records that have a mismatch with the item locator controls.

CAUSE:
Data corruption

SOLUTION:
Follow the Solution details in note 282480.1.",INV,Locator Onhand Quantity Does Not Match Locator Control,"Corrupt onhand quantity was found where the on-hand quantity does not match the locator control of the related item, subinventory and organization.",2,Oracle Inventory Management,ONHAND,TRXN-OHQ,WEEK,SAT,Accounting to Financial Reports: Period Close,Locator issues related to mismatches of locator controlled items and onhand quantity prevent processing of locators.,EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_DUPES_LOCATOR_MTL_ITEM_LOCATIONS,"select organization_id organization_id, subinventory_code subinventory_code, concatenated_segments concatenated_segments, count count
from (SELECT A.organization_id, A.subinventory_code, A.concatenated_segments, count(*) count
FROM mtl_item_locations_kfv A
GROUP BY A.organization_id, A.subinventory_code, A.concatenated_segments
HAVING COUNT(*) > 1)",,"ISSUE:
Monitoring Sensor has detected duplicate locators exist with the same definition in the MTL_ITEM_LOCATIONS (MIL) table.

CAUSE:
The cause of the issue is duplicate records with the same segments in MTL_ITEM_LOCATIONS table.

SOLUTION:
To remove the duplicated locators, please respond to this Service Request (SR) to get a specific datafix from support.",INV,Duplicate Locators exist in MTL_ITEM_LOCATIONS,Duplicate locators were identified in MTL_ITEM_LOCATIONS. Duplicate locators can cause multiple errors and prevent locator processing.,2,Oracle Inventory Management,ONHAND,TRXN-OHQ,WEEK,SAT,Accounting to Financial Reports: Period Close,"Duplicate Locators causes errors like Exact Fetch Returns More Than Requested Number Rows, which can prevent period close.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_TRANS_MMT_LOT_QUANTITY_MISMATCH,"SELECT mmt.inventory_item_id ITEM_ID, 
mmt.organization_id ORG_ID, 
mmt.TRANSACTION_QUANTITY MMT_TRANSACTION_QUANTITY, 
mmt.PRIMARY_QUANTITY MMT_PRIMARY_QUANTITY, 
mtln.PRIMARY_QUANTITY MTLN_PRIMARY_QUANTITY, 
mtln.LOT_NUMBER LOT_NUMBER
FROM mtl_material_transactions mmt, mtl_transaction_lot_numbers mtln
WHERE mmt.transaction_id = mtln.transaction_id
  AND mmt.TRANSACTION_QUANTITY = mmt.PRIMARY_QUANTITY
  AND mmt.TRANSACTION_QUANTITY = mtln.TRANSACTION_QUANTITY
  AND mtln.TRANSACTION_QUANTITY != mtln.PRIMARY_QUANTITY
  and rownum < 10",1547106.1,"ISSUE:
A Monitoring Sensor has detected a mismatch exists between transaction quantity and primary quantity for lot controlled items.

CAUSE:
Data corruption

SOLUTION:
Please respond to this SR to receive a support provided datafix.",INV,A mismatch exists between transaction quantity and primary quantity for lot controlled items,A mismatch has been identified between transaction quantity in MTL_MATERIAL_TRANSACTIONS and primary quantity in MTL_TRANSACTION_LOT_NUMBERS for lot items.,2,Oracle Inventory Management,ONHAND,TRXN-OHQ,MONTH,"15,28",Accounting to Financial Reports: Period Close,"A mismatch between transaction quantity and primary quantity for lot controlled items can affect transaction processing and on-hand availability. 
This can prevent lot-enabled items from being usable in Sales Orders and other transactions.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_DUPES_MTI_MMTT_MMT,"select Duplicate_Count Duplicate_Count,
organization_id organization_id
from
(select 'MMT(1) vs. MTI(2)' Duplicate_Count, b.transaction_id id1, a.transaction_interface_id id2, a.inventory_item_id, a.organization_id organization_id, a.picking_line_id, a.trx_source_line_id, b.transaction_type_id, b.transaction_source_type_id
 from mtl_material_transactions b, mtl_transactions_interface a
where a.picking_line_id = b.picking_line_id
and a.trx_source_line_id = b.trx_source_line_id
and a.inventory_item_id = b.inventory_item_id
and b.transaction_type_id = a.transaction_type_id
and b.transaction_source_type_id in (2,8)
and b.picking_line_id is not null
and rownum < 10
UNION
select 'MMTT(1) vs. MTI(2)' Duplicate_Count, b.transaction_temp_id id1, a.transaction_interface_id id2, a.inventory_item_id, a.organization_id organization_id, a.picking_line_id, a.trx_source_line_id, b.transaction_type_id, b.transaction_source_type_id
from mtl_material_transactions_temp b, mtl_transactions_interface a
where a.picking_line_id = b.picking_line_id
and a.trx_source_line_id = b.trx_source_line_id
and a.inventory_item_id = b.inventory_item_id
and b.transaction_type_id = a.transaction_type_id
and b.transaction_source_type_id in (2,8)
and b.picking_line_id is not null
and rownum < 10
UNION 
select 'MMT(1) vs. MMTT(2)' Duplicate_Count, b.transaction_id id1, a.transaction_temp_id id2, a.inventory_item_id, a.organization_id organization_id, a.picking_line_id, a.trx_source_line_id, b.transaction_type_id, b.transaction_source_type_id
from mtl_material_transactions b, mtl_material_transactions_temp a
where a.picking_line_id = b.picking_line_id
and a.trx_source_line_id = b.trx_source_line_id
and a.inventory_item_id = b.inventory_item_id
and b.transaction_type_id = a.transaction_type_id
and b.transaction_source_type_id in ( 2,8)
and b.picking_line_id is not null
and rownum < 10)",1472074.1,"ISSUE:
Monitoring Sensor detected Sales Order Issue transactions will not process leaving unprocessed shipping transactions. Typically they leave stuck transactions in the Transactions Open Interface with the below error.
-- Error --
Oracle Error

CAUSE:
A data corruption exists where one or more transactions are duplicates comparing the transaction open interface to the pending transactions to the transaction history. Inventory is attempting to insert another transaction that already exists. As a result, a unique key violation is raised and the transaction fails to process (sometimes giving only a message like ""oracle error"").

SOLUTION:
Follow the data fix steps in note 1472074.1.",INV,Duplicate Sales Order Transactions Exist,"Duplicate sales order transactions between the inventory transaction tables MTI, MMTT, and MMT.",2,Oracle Inventory Management,TRNSACTION,,WEEK,SAT,Accounting to Financial Reports: Period Close,"Duplicate sale order transactions existing in any of the Inventory transactions tables, can consume onhand availability, and prevent the Inventory accounting period from being closed.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_ORPHAN_SERIAL_NUMBER_TEMP_RECORDS,"SELECT msnt.fm_serial_number 
From_Serial, 
msnt.to_serial_number To_Serial, 
msnt.TRANSACTION_TEMP_ID Txn_Temp_ID
FROM mtl_serial_numbers_temp msnt
WHERE NOT EXISTS (SELECT 1 FROM mtl_material_transactions_temp mmtt
WHERE mmtt.transaction_temp_id = msnt.transaction_temp_id)
AND NOT EXISTS (SELECT 1 FROM MTL_TRANSACTION_LOTS_TEMP mtlt
WHERE mtlt.SERIAL_TRANSACTION_TEMP_ID = msnt.transaction_temp_id)
AND NOT EXISTS (SELECT 1 FROM wsh_delivery_details wdd
WHERE wdd.transaction_temp_id IS NOT NULL
AND wdd.transaction_temp_id = msnt.transaction_temp_id
AND wdd.released_status in ('Y','C')
AND wdd.inv_interfaced_flag <> 'Y')
AND NOT EXISTS (SELECT 1 FROM rcv_transactions_interface rti
WHERE interface_transaction_id = msnt.transaction_temp_id)
AND ROWNUM <= 1",1472005.1,"ISSUE:
Monitoring Sensor detected orphaned Serial Temp records exist in the MTL_SERIAL_NUMBERS_TEMP (MSNT) table.

CAUSE:
Data corruption

SOLUTION:
Follow the datafix steps detailed in note 1472005.1.",INV,Orphaned Pending Serial Temp (MSNT) Records Exist,Orphaned Serial Temp records exist in the MTL_SERIAL_NUMBERS_TEMP (MSNT) table.,2,Oracle Inventory Management,TRNSACTION,TRXN-STK,WEEK,SAT,Accounting to Financial Reports: Period Close,"There are one or more orphaned pending serial number without related inventory transactions, deliveries, or receiving transactions using the serial. Orphan pending serials may prevent users from selecting or transacting the listed serial numbers. The serials may not be related to your organization and item because the serial temporary table does not have columns for organization and item, but they are serials needing resolution for serial processing. This could prevent sales order processing, and could cause delays in Production environments.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_RECORDS_STUCK_IN_RTI_VALIDATION_FLAG_NO,"select Interface_Transaction_ID Interface_Transaction_Id,
Group_Id Group_ID,
Transaction_Type Transaction_Type,
Transaction_Status_Code Transaction_Status_Code,
Po_Line_Location_Id PO_Shipment_ID
from 
(select * from rcv_transactions_interface
where (processing_status_code in ('ERROR','PENDING','RUNNING') or (processing_status_code = 'COMPLETED' and transaction_status_code = 'ERROR'))
and lcm_shipment_line_id is null   /* LCM shipment receipt */
and unit_landed_cost is null          /* LCM shipment receipt */
and (header_interface_id is NULL OR mobile_txn = 'Y')
and validation_flag <> 'Y'
and rownum < 10)",303544.1,"ISSUE:
Monitoring Sensor detected there is at least one row that needs to be reviewed and processed in the RCV_TRANSACTIONS_INTERFACE (RTI).

CAUSE:
One of several possible conditions has caused data to be stuck in the table.

SOLUTION:
Follow the Solution details in note 303544.1.",INV,There are records stuck in RCV_TRANSACTIONS_INTERFACE(RTI)table.VALIDATION_FLAG not Y,"Receiving records stuck in RTI table having VALIDATION_FLAG null, which means they are not coming from a Receiving Open Interface (ROI) process.",2,Oracle Inventory Management,RECEIVING,ROI,MONTH,1,P2P: Purchasing,Records stuck in RECEIVING_TRANSACTIONS_INTERFACE RTI Table can prevent period close and items from being Received into Inventory.,EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_MTI_TRANS_ERRORS,"SELECT inventory_item_id ITEM_ID,
ORGANIZATION_ID ORG_ID, 
TRANSACTION_TYPE_ID TXN_TYPE_ID,
TRANSACTION_ACTION_ID TXN_ACTION_ID,
ERROR_CODE ERROR_CODE,
ERROR_EXPLANATION ERROR_EXPLANATION
FROM MTL_TRANSACTIONS_INTERFACE
where (error_code is not null or error_explanation is not null)
and last_update_date > sysdate - 90
and rownum < 10",1063689.1,"ISSUE:
Monitoring Sensor detected at least one errored row, updated within the last 30 days, in the MTI table.

CAUSE:
One of several possible error conditions has caused data to be stuck in the table.

SOLUTION:
Check the errors against Note 1063689.1 - Transactions Interface MTL_TRANSACTIONS_INTERFACE MTI Error Messages, Meanings, and Solutions and take necessary corrective action(s).",INV,Errors are present in the Material Transactions Interface table,"There is at least one errored row, updated within the last 90 days, in the MTI table.",2,Oracle Inventory Management,TRNSACTION,TRXN-STK,MONTH,26,Accounting to Financial Reports: Period Close,"Errors in the MTL_TRANSACTIONS_INTERFACE (MTI) table can prevent Inventory Accounting period from being closed, and may cause discrepancies with on-hand quantity information, leading to problems with reserving / shipping material.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_CORRUPT_LOTS_ONHAND,"select moq.inventory_item_id Item_ID
from inv.mtl_onhand_quantities_detail moq,inv.mtl_system_items_b msi
where moq.organization_id = msi.organization_id
and moq.inventory_item_id = msi.inventory_item_id
and msi.LOT_CONTROL_CODE = 2
and moq.LOT_NUMBER IS NULL
and nvl(moq.containerized_flag,2) = 2
and project_id is null
Union
select moq.inventory_item_id Item_ID
from inv.mtl_onhand_quantities_detail moq,inv.mtl_system_items_b msi
where moq.organization_id = msi.organization_id
and moq.inventory_item_id = msi.inventory_item_id
and msi.LOT_CONTROL_CODE = 1
and moq.LOT_NUMBER IS NOT NULL
and nvl(moq.containerized_flag,2) = 2
and project_id is null
and rownum < 10",1538728.1,"ISSUE:
Monitoring Sensor detected there are corrupt on-hand records in the mtl_onhand_quantities_detail table.

CAUSE:
Data corruption

SOLUTION:
Follow the Solution details in note 1538728.1.",INV,Onhand data corruption exists for lot numbers,"Either the Item is not lot controlled and onhand quantity has a Lot populated, or the Item is lot controlled but onhand quantity does not have a Lot.",2,Oracle Inventory Management,LOTSERATT,CTRL-LOT,WEEK,SAT,Accounting to Financial Reports: Period Close,On-hand corruption of lot data can cause on-hand availability issues and transaction processing issues. This can delay period close activities as well as cause delays in production and shipping operations.,EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_SUP_CONS_NO_BPO_EXISTS,"SELECT error_code error_code, count count 
from (
SELECT a.error_code error_code, count(*) count 
FROM mtl_consumption_transactions a
WHERE a.consumption_processed_flag = 'E'
AND a.error_code = 'INV_SUP_CONS_NO_BPO_EXISTS'
and rownum < 10
GROUP BY error_code)",394123.1,"ISSUE:
Monitoring Sensor has detected records where no blanket exists error (INV_SUP_CONS_NO_BPO_EXISTS) in the MTL_CONSUMPION_TRANSACTIONS (MCT) table exists.

CAUSE:
Data corruption

SOLUTION:
Follow the Solution details in note 394123.1.",INV,Consignment Transactions exist associated with a closed blanket Purchase Order,Consignment Transactions exist associated with a closed blanket Purchase Order.,2,Oracle Inventory Management,CONSIGNED,INVTTMTX_MISC,WEEK,SAT,Accounting to Financial Reports: Period Close,Consignment transactions associated with a closed blanket Purchase Order can prevent processing of consignment transactions.,EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_LOT_NUMBER_LEADING_TRAILING_RLT,"select the_table the_table, item_id item_id, org_id org_id, lot_number lot_number 
from (select 'MTL_LOT_NUMBERS' the_table, INVENTORY_ITEM_ID item_id, ORGANIZATION_ID org_id, LOT_NUMBER lot_number
from mtl_lot_numbers where lot_number<> ltrim(rtrim(lot_number
))
and rownum < 10
UNION
select 'MTL_ONHAND_QUANTITIES_DETAIL' the_table, INVENTORY_ITEM_ID item_id, ORGANIZATION_ID org_id, LOT_NUMBER lot_number
from mtl_onhand_quantities_detail where lot_number <> ltrim(rtrim(lot_number
))
and rownum < 10)",1451566.1,"ISSUE:
Monitoring Sensor detected lot numbers with Trailing and/or Leading Spaces. 

CAUSE:
Data corruption

SOLUTION:
Follow the Solution steps detailed in note 1451566.1.",INV,Lot Numbers exist with Trailing and/or Leading Spaces,Lot number data has been identified that has Trailing and/or Leading Spaces.,2,Oracle Inventory Management,LOTSERATT,CTRL-LOT,WEEK,SAT,Accounting to Financial Reports: Period Close,"Lot numbers with leading and/or trailing spaces, can prevent a lot number from being available for processing, which can prevent transactions from processing successfully.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_EBS_MFG_INV_ERROR_OCCUR_RESERV3,"select EXPLANATION EXPLANATION, LINE_NUMBER LINE_NUMBER, ORDER_NUMBER ORDER_NUMBER, MR_RESERVATION_ID_A MR_RESERVATION_ID_A, MR_ORGANIZATION_ID_A MR_ORGANIZATION_ID_A, MR_INVENTORY_ITEM_ID_A MR_INVENTORY_ITEM_ID_A
from
(select explanation explanation,
(SELECT line_number from oe_order_lines_all ool where ool.line_id= OOLA_Line_ID_A) LINE_NUMBER,
(SELECT order_number from oe_order_headers_all ooh where ooh.header_id= OOLA_Header_ID_A) ORDER_NUMBER,
MR_Reservation_ID_A MR_Reservation_ID_A,
MR_Organization_ID_A MR_Organization_ID_A,
MR_Inventory_Item_ID_A MR_Inventory_Item_ID_A
from (
select 'a. Extraneous reservations but order line canceled' explanation,
l.line_id OOLA_Line_ID_A,
l.header_id OOLA_Header_ID_A,
m.reservation_id MR_Reservation_ID_A,
m.organization_id MR_Organization_ID_A,
m.inventory_item_id MR_Inventory_Item_ID_A,
m.primary_reservation_quantity MR_Primary_Res_Qty_A
from
oe_order_lines_all l,
mtl_reservations m
where m.demand_source_line_id = l.line_id
and m.demand_source_type_id in (2,8)
and m.primary_reservation_quantity > 0
and nvl(l.cancelled_flag,'N')='Y'
and l.cancelled_quantity is not null
and not exists
(select null
from mtl_transactions_interface mti
where mti.trx_source_line_id = l.line_id
and mti.source_header_id = l.header_id
and mti.source_code = 'ORDER ENTRY'
and rownum < 10)
UNION
select 'b. Extraneous reservations but order line has been closed or delivery detail is canceled' explanation,
l.line_id OOLA_Line_ID_B,
l.header_id OOLA_Header_ID_B,
m.reservation_id MR_Reservation_ID_B,
m.organization_id MR_Organization_ID_B,
m.inventory_item_id MR_Inventory_Item_ID_B,
m.primary_reservation_quantity MR_Primary_Res_Qty_B
from
oe_order_lines_all l,
mtl_reservations m
where m.demand_source_line_id = l.line_id
and m.demand_source_type_id in (2,8)
and m.primary_reservation_quantity > 0
and nvl(l.open_flag,'Y')='N'
and not exists (
select null
from mtl_transactions_interface mti
where mti.trx_source_line_id = l.line_id
and mti.source_header_id = l.header_id
and mti.source_code = 'ORDER ENTRY'
)
and not exists (
select null
from wsh_delivery_details wdd
where wdd.source_line_id = l.line_id
and wdd.source_code ='OE'
and wdd.inv_interfaced_flag in ('N','P')
and wdd.released_status <> 'D'
and rownum < 10
)
UNION
select 'c. Extraneous reservations but order line is deleted' explanation,
m.demand_source_line_id MR_Demand_Source_Line_ID_C,
m.demand_source_header_id MR_Demand_Source_Header_ID_C,
m.reservation_id MR_Reservation_ID_C,
m.organization_id MR_Organization_ID_C,
m.inventory_item_id MR_Inventory_Item_ID_C,
m.primary_reservation_quantity MR_Primary_Res_Qty_C
from
mtl_sales_orders mso,
mtl_reservations m
where m.demand_source_header_id = mso.sales_order_id
and m.demand_source_type_id in (2,8)
and not exists (
select null
from oe_order_lines_all l
where l.line_id = m.demand_source_line_id
and rownum < 10
))
)",1471606.1,"ISSUE:
Monitoring Sensor detected orphan Reservations exist. Orphan Reservations can cause errors like An Error Occurred While Relieving Reservations or Negative Balances Not Allowed because old source objects have material locked up even though they are no longer using the material.

CAUSE:
Old reservations existing can prevent users from using stock quantities. An orphaned reservation can be caused by reservation data existing for a shipped sales order which closed.

SOLUTION:
Follow the datafix steps detailed in note 1471606.1.",INV,Stuck transactions with orphaned reservations,"The material sourcing process failed to create picking suggestions for line, An error occurred while relieving reservations, Error code: INV_RSV_RLF_FAILED",2,Oracle Inventory Management,RSV,TRXN-RSV,WEEK,SAT,Accounting to Financial Reports: Period Close,"There are stuck transactions with a error message that reservations cannot be relieved due to incorrect or negative availability. This may include one of the following errors:
The material sourcing process failed to create picking suggestions for line
An error occurred while relieving reservations
Error code: INV_RSV_RLF_FAILED",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_MMTT_TRANS_ERRORS,"SELECT inventory_item_id ITEM_ID, 
ORGANIZATION_ID ORG_ID,
TRANSACTION_TYPE_ID TXN_TYPE_ID,
ERROR_CODE ERROR_CODE,
ERROR_EXPLANATION ERROR_EXPLANATION,
transaction_temp_id TEMP_ID
FROM MTL_MATERIAL_TRANSACTIONS_TEMP
where (error_code is not null or error_explanation is not null or process_flag='E')
and last_update_date > sysdate - 90
and rownum < 10",1070343.1,"ISSUE:
Monitoring Sensor detected at least one error record from within the last 30 days in the table MTL_MATERIAL_TRANSACTIONS_TEMP.

CAUSE:
Data corruption

SOLUTION:
Check the errors against Note 1070343.1 - Pending Transactions MTL_MATERIAL_TRANSACTIONS_TEMP MMTT Error Messages, Meanings and Solutions and take necessary corrective action(s). Follow the instructions in Note 1472074.1 - Inventory Standard Datafix Instruction #17: HowTo Find and Fix Duplicate Sales Order Transactions In MTI, MMTT and MMT to backup and correct the data in the ssytem.",INV,Errors are present in the Material Transactions Temp table,There is at least one error record from within the last 30 days in the table MTL_MATERIAL_TRANSACTIONS_TEMP.,2,Oracle Inventory Management,TRNSACTION,TRXN-STK,MONTH,25,Accounting to Financial Reports: Period Close,"Transactions stuck in MTL_MATERIAL_TRANSACTIONS_TEMP (MMTT) can interfere with Period Close and cause onhand quantity discrepancies, making products potentially unavailable for reservation, shipment, or delivery.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_SERIAL_NUMBER_LEADING_TRAILING_MSN_1,"select msn.serial_number serial_number, msn.current_status current_status, msn.inventory_item_id inventory_item_id, msn.current_organization_id current_organization_id, msn.current_subinventory_code current_subinventory_code, msn.current_locator_id current_locator_id
from mtl_serial_numbers msn
where length(serial_number) != length(trim(serial_number))
and rownum < 10",1376548.1,"ISSUE:
Monitoring Sensor detected serials records have Trailing and/or Leading Spaces in the MTL_SERIAL_NUMBERS (MSN) table.

CAUSE:
Data corruption

SOLUTION:
Follow the Solution steps detailed in note 1376548.1.",INV,Serial Numbers exist with Trailing and/or Leading Spaces.,Serial number data has been identified that has Trailing and/or Leading Spaces.,2,Oracle Inventory Management,LOTSERATT,CTRL-SER,MONTH,1,Accounting to Financial Reports: Period Close,"Serial numbers with leading and/or trailing spaces, can prevent a serial number from being available for processing, which can prevent transactions from processing successfully.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_MSO_SALES_ORDER_MISSING,"SELECT distinct a.order_number Order_Number, a.header_id Header_ID, a.order_type_id Order_Type_ID
FROM oe_order_headers_all a
WHERE a.OPEN_FLAG = 'Y'
and a.creation_date > sysdate-90
AND a.FLOW_STATUS_CODE != 'DRAFT'
and rownum < 10
and NOT EXISTS
(SELECT 1
FROM mtl_sales_orders b
WHERE b.segment1 = to_char(a.order_number))
AND not exists (select 1 from mtl_sales_orders b where b.segment1 = to_char(a.order_number))",281836.1,"ISSUE:
Monitoring Sensor detected a sales order is missing from the MTL_SALES_ORDERS table.

CAUSE:
There are two possible causes:
1. Case #1: The 'Order Type' (SEGMENT2) from the Key flexfield 'Sales Orders'
had the Format Validation checkbox 'Uppercase Only (A-Z)' set to yes.
The setting caused the issue as order type was actually in mixed case
but the value was saved into the MTL_SALES_ORDERS table as uppercase.

2. Case #2: The data could simply be missing from the MTL_SALES_ORDERS table. This could be a result of a migration issue, database failure, etc. An exact cause has not been determined.

SOLUTION:
Follow the Solution steps detailed in note 281836.1.",INV,Pick Release Process Completes In Warning: No Sales Order Id Found in MTL_SALES_ORDERS,"When running Pick Release, it fails with a warning that 'No Sales Order Id Found in MTL_SALES_ORDERS'.",2,Oracle Inventory Management,PICKRELEAS,TRXN-PICK,WEEK,SAT,Accounting to Financial Reports: Period Close,"Pick release not completing successfully prevents sales order processing, which will prevent period close from completing.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_ITEM_ORPHAN_RECORDS_STATUS,"select distinct inventory_item_id Item_ID
from Mtl_Pending_Item_Status mpis
where not exists (select 'X' from mtl_system_items_b item 
where item.inventory_item_id = mpis.inventory_item_id 
and item.organization_id = mpis.organization_id)
and rownum < 10",1065107.1,"ISSUE:
Monitoring Sensor detected orphaned records exist in the MTL_PENDING_ITEM_STATUS table that are not present in the MTL_SYSTEM_ITEMS_B table.

CAUSE:
Data Corruption

SOLUTION:
Follow the datafix steps detailed in note 1065107.1.",INV,Item orphan records in MTL_PENDING_ITEM_STATUS table but not in MTL_SYSTEM_ITEMS_B,Item orphan records present in the MTL_PENDING_ITEM_STATUS table but not present in the MTL_SYSTEM_ITEMS_B table.,2,Oracle Item Master,ITEMS,ITEM-SET,MONTH,1,O2C: Inventory Items Lifecycle,"Because of the issue, Users are not be able to assign orphaned items to a child organization, preventing item processing. This will impact the ability to plan, build and ship these items.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_ITEM_ORPHAN_RECORDS_CATEGORY,"select distinct inventory_item_id Item_ID
from mtl_item_categories cat
where not exists (select 'X' from mtl_system_items_b item 
where item.inventory_item_id = cat.inventory_item_id 
and  item.organization_id = cat.organization_id)
and rownum < 10",1065107.1,"ISSUE:
Monitoring Sensor detected orphaned records exist in the MTL_ITEM_CATEGORIES table that are not present in the MTL_SYSTEM_ITEMS_B table.

CAUSE:
Data Corruption

SOLUTION:
Follow the datafix steps detailed in note 1065107.1.",INV,Item orphan records are present in the MTL_ITEM_CATEGORIES table but not present in MTL_SYST,Item orphan records are present in the MTL_ITEM_CATEGORIES table but not present in MTL_SYSTEM_ITEMS_B table.,2,Oracle Item Master,ITEMS,ITEM-CAT,MONTH,1,O2C: Inventory Items Lifecycle,"Because of the issue, Users are not be able to assign orphaned items to a child organization, preventing item processing. This will impact the ability to plan, build and ship these items.",EBS MFG,EBS - Inventory
ME$EBS_MFG_INV_ITEM_ORPHAN_RECORDS_REV_B,"select distinct inventory_item_id Item_ID
from mtl_item_revisions_b rev
where not exists (select 'X' from mtl_system_items_b item 
where item.inventory_item_id =  rev.inventory_item_id 
and  item.organization_id = rev.organization_id)
and rownum < 10",1065107.1,"ISSUE:
Orphaned records exist in the MTL_ITEM_REVISIONS_B table that are not present in the MTL_SYSTEM_ITEMS_B table.

CAUSE:
Data Corruption

SOLUTION:
Follow the datafix steps detailed in note 1065107.1.",INV,Item orphan records exist in MTL_ITEM_REVISIONS_B table but not in MTL_SYSTEM_ITEMS_B,Item orphan records present in MTL_ITEM_REVISIONS_B table but not present in MTL_SYSTEM_ITEMS_B table.,2,Oracle Item Master,ITEMS,ITEM-SET,MONTH,1,O2C: Inventory Items Lifecycle,"Because of the issue, Users are not be able to assign orphaned items to a child organization, preventing item processing. This will impact the ability to plan, build and ship these items.",EBS MFG,EBS - Inventory
ME$EBS_MFG_OM_DUPLICATED_DROPSHIP_SOURCES_DETAILS,"select drop_ship_source_id drop_ship_source_id,
header_id header_id,
line_id line_id
from
(SELECT drop_ship_source_id,
header_id,
line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_drop_ship_sources ods1
WHERE ods1.last_update_date between sysdate-30 and sysdate
and drop_ship_source_id in (
SELECT ods.DROP_SHIP_SOURCE_ID
FROM OE_DROP_SHIP_SOURCES ods
GROUP BY ods.DROP_SHIP_SOURCE_ID
HAVING count(*) > 1))",2352131.1,"SYMPTOM: Duplicated dropship source(s) have been found

CAUSE: Data corruption or setup issue.

SOLUTION: Review Note 566616.1 How to Diagnose Issues Related to the Drop Shipment Process and the Interface Between Order Management and Purchasing.

If you would like assistance in furthered diagnoses, please update the SR and Support will engage appropriately.",ONT,Duplicated dropship source(s).,Dropship(s) should be single sourced.  Possible problems have been found which may require a datafix.,2,Oracle Order Management,FULFILL,DROP_SHIPMENT,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, No need to create the new Sales Order Line for the same item if there exists an open Sales Order Line which is yet to be shipped if users are able to change the quantity. 

Customer does not require the material and hence, user wants these lines to be cancelled. If not cancelled, It will keep on appearing in open order report and that may impact the statistics of actual Sales. This can be avoided if these are identified and fixed.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_COUNT_WORKFLOW_JOBS_ERRORED_STATUS,"select item_type item_type,
activity_result_code activity_result_code,
process_name process_name
from
(SELECT s.item_type,
s.activity_result_code,
p.process_name,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wf_process_activities p, wf_item_activity_statuses s
WHERE s.activity_status = 'ERROR'
AND s.item_type in ('OEOH', 'OEOL', 'OMERROR', 'OEOI', 'OECOGS', 'OEOA', 'OECHGORD', 'OEBH', 'OENH')
AND s.process_activity = p.instance_id
AND rownum < 2)",2352594.1,"SYMPTOM: OE Workflow Activities are showing in a Status of ERROR.

CAUSE: The workflow is in error due to data corruption or setup issue.

SOLUTION: Go into the responsibility: Order Management Super User
    Navigate to Requests,Reports
    Run Retry Activities in Error concurrent program Doc ID 376040.1 in 'Execute' mode with debug profile 'OM:Debug Level' set to 5.

Verify that the line(s) progressed or not. If not, you can review the Debug for additional details and/or refer to Doc ID 255045.1 for details on reviewing Workflow Errors, resolving, and progressing them.

If you require further assistance, please update the SR and Support will engage appropriately.",ONT,WorkFlow Jobs in Errored Status.,Errored Workflow will cause transactions to not process.  One transaction has been returned but more could exist.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these workflow jobs in error status, they will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_CLOSED_SO_LINES_PENDING_WF_ACTIVITY_DETAILS,"select header_id header_id,
line_id line_id
from
(SELECT h.header_id,
l.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wf_items wi,
oe_order_headers_all h,
oe_order_lines_all l,
hr_operating_units hou
WHERE h.org_id = hou.organization_id
AND l.last_update_date between sysdate-30 and sysdate
AND l.header_id = h.header_id
AND to_number(wi.item_key) = l.line_id
AND wi.END_DATE is null
AND wi.item_type = 'OEOL'
AND l.open_flag = 'N')",2352590.1,"SYMPTOM:  Closed Sales Order Line(s) with pending Workflow Activity Details have been found.

CAUSE: Workflow stalled.

SOLUTION: Try running the Concurrent Process ""Workflow Background Process"" for the Pending Workflow Activities.  If you require further assistance, please update the SR and Support will engage appropriately.",ONT,Closed Sales Order Line(s) with pending Workflow Activity Details.,Review the Pending Workflow Activities. Datafix might be needed.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these sales order line(s) with pending workflow, they will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_RMA_RECEIVING_STUCK,"select header_id header_id,
line_id line_id
from
(SELECT oh.header_id,
ol.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_headers_all oh,
oe_order_lines_all ol,
rcv_transactions rcv,
hr_operating_units hou
WHERE oh.last_update_date between sysdate-30 and sysdate
AND oh.header_id = ol.header_id
AND ol.line_id = rcv.oe_order_line_id
AND oh.org_id = hou.organization_id
AND ol.open_flag = 'Y'
AND (( ol.ordered_quantity =
(SELECT Sum(rcv.quantity) FROM rcv_transactions rcv
WHERE rcv.transaction_type = 'DELIVER'
AND rcv.oe_order_line_id=ol.line_id)
AND ol.flow_status_code in ('AWAITING_RETURN_DISPOSITION','AWAITING_RETURN'))
OR ( rcv.quantity = ol.ordered_quantity
and rcv.transaction_type = 'RECEIVE'
and ol.flow_status_code in ('AWAITING_RETURN'))))",2351965.1,"SYMPTOM:   There are open SO Lines which are related to Receiving Transactions that are stuck.

CAUSE: Stalled workflow.

SOLUTION:  Use the script ontd0015.sql from Patch 18307579:R12.ONT.B. This script progress progress RMA Lines against which material has been received, but the Lines are stuck in AWAITING_RETURN_DISPOSITION status.

Use the script ontd0018.sql from Patch 13829525:R12.ONT.B. This script progress RMA lines that are fully received and delivered in Inventory. However still showing AWAITING_RETURN in Order Management. 

You can review Note 378221.1 RMA Line stuck in AWAITING_RETURN or AWAITING_RETURN_DISPOSITION.",ONT,Received RMA Lines not progressing to Fulfilled.,RMA order line received but workflow status has not progessed to Fulfilled.,2,Oracle Order Management,FULFILL,RETURN_RCV,WEEK,SAT,O2C: Order Management,"These lines stuck at this status and will not progress further. 

In identifying and quickly resolving these transactions, these lines will be received and invoiced without any delay.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_MODEL_COMPONENTS_REMANTS_NOT_FLAGGED_DETAILS,"select header_id header_id,
line_id line_id
from
(SELECT l.header_id,
l.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all l,
oe_order_headers_all h,
hr_operating_units hou
WHERE h.last_update_date between sysdate-30 and sysdate
AND h.header_id = l.header_id
AND h.org_id = hou.organization_id
AND l.open_flag = 'Y'
AND nvl(l.shipped_quantity,0) = 0
AND nvl(l.cancelled_quantity,0) = 0
AND nvl(l.model_remnant_flag,'N')='N'
AND l.top_model_line_id IS NOT NULL
AND exists ( select 'Other component already shipped'
from oe_order_lines_all oel2
where oel2.top_model_line_id = l.top_model_line_id
and nvl(oel2.shipped_quantity,0) > 0
and nvl(oel2.cancelled_quantity,0) = 0
and nvl(oel2.model_remnant_flag,'N') = 'N'))",2352092.1,"SYMPTOM:   Model Components which are Remnants, but not flagged as Details

CAUSE:  Data corruption 

SOLUTION:  A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,"Model Components which are Remnants, but not flagged as Details.",Datafix is needed.,2,Oracle Order Management,FULFILL,CTO,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, future delay in processing of these model lines can be avoided as these transactions may stuck at some place in future (If these are not yet shipped and fulfilled) as these model items will wait for entire model to get fulfilled in one go.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_MODELS_STATUS_CREATE_CONFIG_ITEM_EXISTS_DETAILS,"select header_id header_id,
line_id line_id
from
(SELECT l.header_id,
l.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all l,
oe_order_headers_all h,
hr_operating_units hou
WHERE h.last_update_date between sysdate-30 and sysdate
AND h.header_id (+) = l.header_id
AND l.org_id = hou.organization_id
AND l.open_flag = 'Y'
AND l.item_type_code = 'MODEL'
AND l.line_category_code = 'ORDER'
AND l.ato_line_id is not null
AND exists ( select 1 from oe_order_lines_all l2
where l2.ato_line_id = l.line_id
and nvl(l2.cancelled_flag, 'N') = 'N'
and l2.item_type_code = 'CONFIG')
AND not exists ( select 'Exist'
from wf_item_activity_statuses was
, wf_process_activities wpa
where was.item_type = 'OEOL'
and was.item_key = to_char(l.line_id)
and wpa.activity_item_type = was.item_type
and wpa.activity_name = 'CREATE_CONFIG_ITEM'
and wpa.instance_id = was.process_activity
and was.activity_status = 'COMPLETE'
and was.activity_result_code = 'COMPLETE'))",2352095.1,"SYMPTOM:   Models in Status Create Config, but Config Item already exists.

CAUSE:  Data corruption 

SOLUTION:  A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,"Models in Status Create Config, but Config Item already exists.","Model has item created, but workflow is at Create Config.  Datafix is needed.",2,Oracle Order Management,ENTRY,CONFIG,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, future delay in processing of these model lines can be avoided as these transactions may stuck at some place in future (If these are not yet shipped and fulfilled).  This issue has a direct impact on revenue as invoice may not be generated for the material which is shipped.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_TAX_UNIQUE_RECORD,"select entity_code entity_code
from (select entity_code,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM zx_lines_det_factors WHERE application_id = 660
AND rownum < 100 )",2352611.1,"SYMPTOM: While mass updating Unit Selling Price for lines from multiple orders, record(s) were being retained for the line(s) of the order causing a unique constraint error.

CAUSE:  Data corruption 

SOLUTION:   Confirm the following file versions:
R12.1.3: Patch 19842774:R12.ONT.B (also included in the RPC5 patch)
  ont     patch/115/sql     OEXUTAXB.pls     120.20.12010000.14
  ont     patch/115/sql     OEXUTAXS.pls     120.1.12010000.2
R12.2: Patch 23283259:R12.ONT.C
  ont     patch/115/sql     OEXUTAXB.pls     120.32.12020000.16
  ont     patch/115/sql     OEXUTAXS.pls     120.2.12020000.1

Apply above patch if needed.

Run the following data fix script (NOTE: script can be run prior to patch application, but patch application must be completed so this does not happen again.)
  DELETE FROM zx_lines_det_factors
  WHERE application_id = 660
  AND entity_code = 'OE_ORDER_HEADERS'
  AND event_class_code = 'SALES_TRANSACTION_TAX_QUOTE';
  COMMIT;

Review Note 2003560.1 A Mandatory Constraint to Generate Unique Record in zx_lines_det_factors is Violated with Error",ONT,Unique Tax Record.,"While mass updating Unit Selling Price for multiple orders, record being retained for a line causing a unique constraint error.",2,Oracle Order Management,EBTAXOM,EBTAX_INTG,WEEK,SAT,O2C: Order Management,"Unable to do mass updating of Unit Selling Price for lines from multiple orders, record(s).  Unit selling price updates will error with error code ORA-00001.  Will delay any sales order pricing updates.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_OPEN_ORDER_LINES_DELIVERY_DETAILS_MISSING_DETAILS,"select header_id header_id, line_id line_id from (select l.header_id , l.line_id, TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate FROM oe_order_lines_all l, oe_order_headers_all oeh WHERE oeh.header_id (+) = l.header_id AND l.last_update_date between sysdate-30 and sysdate AND l.open_flag = 'Y' AND nvl(l.shipping_interfaced_flag,'N')='Y' AND not exists (select 'associated delivery' from wsh_delivery_details wsh where wsh.source_line_id = l.line_id and wsh.source_code = 'OE'))",2804643.1,"SYMPTOM:   The order line(s) is open, but no associated delivery detail exists for the line(s).

CAUSE:  Data corruption 

SOLUTION:  A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,Open Order Lines Where Delivery Details Are Missing.,"In order to ship the line(s), an associated delivery detail must exist. A datafix is needed.",2,Oracle Order Management,ENTRY,PROCESSING,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, these Sales Orders will be corrected and progressed to shipping in such a manner as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_OPEN_SO_HEADERS_WF_FLOW_INIT_NOT_STARTED_DTLS,"select header_id header_id
from
(SELECT h.header_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wf_items wi, oe_order_headers_all h, hr_operating_units hou
WHERE h.org_id = hou.organization_id
AND h.last_update_date between sysdate-30 and sysdate
AND to_number(wi.item_key) = h.header_id
AND wi.item_type = 'OEOH'
AND h.open_flag = 'Y'
AND not exists (select 'WF is pending' from
wf_item_activity_statuses wias
where to_number(wias.item_key) = h.header_id
and wias.item_type = 'OEOH')
AND nvl(h.transaction_phase_code, 'F') = 'F'
AND rownum < 100 )",2352585.1,"SYMPTOM:   All Sales Order Headers must have associated workflow and the workflow must be started in order to progress the sales order.

CAUSE:  Workflow did not start.

SOLUTION:  Download <Patch17001338> and run ont00166.sql to start the Workflow.",ONT,Open SO Headers Where WF is Initiated But Not Started.,Headers will not be able to successfully progress. Datafix might be needed.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these sales order(s) that their workflow has not started, they will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_OPEN_SO_HEADERS_WF_FLOW_MISSING_CLOSED_DETAILS,"select header_id header_id
from
(SELECT h.header_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_headers_all h, hr_operating_units hou
WHERE h.org_id = hou.organization_id
AND h.open_flag = 'Y'
AND h.last_update_date between sysdate-30 and sysdate
AND nvl(h.cancelled_flag, 'N') = 'N'
AND not exists (select 'WF is pending' from wf_items wi
where to_number(wi.item_key) = h.header_id
and wi.item_type = 'OEOH'
and wi.END_DATE is null)
AND nvl(h.transaction_phase_code, 'F') = 'F')",2352591.1,"SYMPTOM:   There are open Sales Order Header(s) which should have a Workflow Close Activity. 

CAUSE:  Data corruption.  The Workflow Close Activity was not found.

SOLUTION:  A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,Open SO Headers where Workflow is Missing or Closed.,"Headers will not be able to successfully close, a datafix is needed.",2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these missing workflow closure details, the sales order(s) will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_OPEN_SO_HEADERS_WF_FLOW_PEND_NO_OPEN_LINES_DTLS,"select header_id header_id
from
(SELECT h.header_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wf_item_activity_statuses was,
wf_process_activities p,
oe_order_headers_all h,
hr_operating_units hou
WHERE h.org_id = hou.organization_id
AND h.last_update_date between sysdate-30 and sysdate
AND to_number(was.item_key) = h.header_id
AND was.process_activity = p.instance_id
AND p.activity_item_type = 'OEOH'
AND p.activity_name = 'CLOSE_WAIT_FOR_L'
AND was.activity_status = 'NOTIFIED'
AND was.item_type = 'OEOH'
AND not exists (
select /*+ NO_INDEX (l oe_order_lines_n15) */1 from oe_order_lines_all
where header_id = to_number(was.item_key)
and open_flag = 'Y'))",2352588.1,"SYMPTOM:   Sales Order Headers having pending Workflow but do not have any open sales order line(s).

CAUSE:  Data corruption 

SOLUTION:  Run the Concurrent Program ""Workflow Background Process"" to progress the Workflow.",ONT,Open SO Headers with Pending WF Flow but no Open Lines.,Sales Order Header is waiting on workflow activity even though all lines closed.  Header needs to be progressed.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these pending workflows associated with sales order headers with no open lines, will allow the sales orders to properly close allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_OPEN_SO_LINES_WF_FLOW_MISSING_CLOSED_DETAILS,"select header_id header_id,
line_id line_id
from
(select l.header_id,
l.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_headers_all h,
oe_order_lines_all l,
hr_operating_units hou
WHERE l.header_id = h.header_id(+)
AND l.org_id = hou.organization_id
AND l.open_flag = 'Y'
AND l.last_update_date between sysdate-30 and sysdate
AND nvl(l.cancelled_flag, 'N') = 'N'
AND not exists (select 'WF is pending' from wf_items wi
where to_number(wi.item_key) = l.line_id
and wi.item_type = 'OEOL'
and wi.END_DATE is null)
AND nvl(l.transaction_phase_code, 'F') = 'F')",2352583.1,"SYMPTOM: There are open Sales Order Line(s) which should have a Workflow Activity, the Workflow Activity was not found.

CAUSE: Data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,Open SO Lines where Workflow is Missing or Closed.,"Lines will not be able to successfully progress, a datafix is needed.",2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these sales order lines that do not have an associated open workflow, they will be corrected allowing the normal progression of their process through their business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_RECEIVED_DROPSHIP_LINES_STUCK_IN_AWAITING,"select header_id header_id,
line_id line_id
from
(SELECT h.header_id,
l.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all l,
oe_order_headers_all h,
OE_DROP_SHIP_SOURCES SRC,
rcv_shipment_lines shl,
hr_operating_units hou
WHERE l.last_update_date between sysdate-30 and sysdate
AND h.header_id = l.header_id
AND h.org_id = hou.organization_id
AND l.source_type_code = 'EXTERNAL'
AND SRC.line_id = l.line_id
AND SRC.po_line_id = shl.po_line_id
AND shipment_line_status_code <> 'EXPECTED'
AND l.flow_status_code = 'AWAITING_RECEIPT'
AND l.last_update_date > (sysdate-30))",2352137.1,"SYMPTOM: Received Dropship Line(s) Stuck in Awaiting Receipt have been found.

CAUSE: Data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,Received Dropship Lines Stuck in Awaiting Receipt.,Received Dropship line(s) should be Fulfilled.  Possible problems have been found which may require a datafix.,2,Oracle Order Management,FULFILL,DROP_SHIPMENT,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, Lines will be progressed further i.e. shipped and invoiced on desired time without any delay.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_CANCELLED_DROPSHIP_LINES_OPEN_PO_LINES_DETAILS,"select header_id header_id,
line_id line_id
from
(SELECT oel1.header_id,
oel1.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all oel1,oe_order_headers_all oeh, hr_operating_units hou
WHERE oeh.last_update_date between sysdate-30 and sysdate
AND oeh.header_id = oel1.header_id
AND oeh.org_id = hou.organization_id
AND oel1.source_type_code= 'EXTERNAL'
AND nvl(oel1.cancelled_flag,'N') = 'Y'
AND exists ( select 'open po link'
from oe_drop_ship_sources oed,po_line_locations_all pol
where oed.line_id = oel1.line_id
and oed.line_location_id = pol.line_location_id
and nvl(cancel_flag,'N')='N')
AND rownum < 100 )",2352089.1,"SYMPTOM: There are cancelled Dropship Line(s) that have associated open PO Line(s).

CAUSE: The associated PO Line(s) did not process due to data corruption or setup issue.

SOLUTION: Review Doc ID 566616.1 How to Diagnose Issues Related to the Drop Shipment Process and the Interface Between Order Management and Purchasing.

If you would like assistance in furthered diagnoses, please update the SR and Support will engage appropriately.",ONT,Cancelled Dropship Line(s) have associated open PO Line(s).,Cancelled Dropship Lines(s) should have cancelled PO Lines.  Possible problems have been found which may require a datafix.,2,Oracle Order Management,CHG_CANCEL,PROCESSING,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, future escalations may be avoided because this issue may cause the audit issues (while reconciling the data between products) and undesired processing of PO Lines.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_CANCELLED_CLOSED_SO_HEADERS_OPEN_LINES_DETAILS,"select header_id header_id
from
(SELECT h.header_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_headers_all h,
oe_order_lines_all l,
hr_operating_units ou
WHERE h.last_update_date between sysdate-30 and sysdate
AND l.header_id = h.header_id
AND h.org_id = ou.organization_id
AND h.open_flag = 'N'
AND l.open_flag = 'Y'
AND rownum < 100 )",2351653.1,"SYMPTOM: There are closed Sales Order Header(s) with open Sales Order Line(s).

CAUSE: These line(s) should be progressed to status closed like their associated header.  Sales Order Lines owned by a Closed Sales Order Header can still be processed. 

SOLUTION: Try progressing the line(s) through their workflow to Closure, or if no longer needed try cancelling the line(s).

Review Doc ID 2009351.1 Order Header is Closed and Order Line is Open in Awaiting Shipping Status

Please verify if there is any issue in progressing the line further.

If you require further assistance, please update the SR and Support will engage appropriately.",ONT,Cancelled or Closed SO Headers with Open Lines.,Sales Order Lines owned by a Closed Sales Order Header can still be processed.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these closed sales orders with open lines, the open lines will be allowed to progress through and complete their the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_CANCELLED_MODEL_LINES_NONCANCELLED_CHILDREN_DTLS,"select header_id header_id,
line_id line_id
from
(SELECT l.header_id,
l.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all l,
oe_order_headers_all h,
hr_operating_units hou
WHERE h.last_update_date between sysdate-30 and sysdate
AND h.header_id = l.header_id
AND h.org_id = hou.organization_id
AND l.item_type_code in ('MODEL','CLASS','KIT')
AND nvl(l.cancelled_flag,'N') = 'Y'
AND exists ( select 'open options exists'
from oe_order_lines_all oel2
where oel2.top_model_line_id = l.top_model_line_id
and nvl(oel2.cancelled_flag,'N')='N'
and oel2.open_flag = 'Y'))",2352090.1,"SYMPTOM: There are cancelled ATO or PTO Models, where at least one child line is not cancelled.

CAUSE: The associated child line(s) where not cancelled due to data corruption or setup issue.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,"Model Lines Cancelled, but where at least one Child Line is not Cancelled.",All child lines should be cancelled.  Possible problems have been found which may require a datafix.,2,Oracle Order Management,CHG_CANCEL,PROCESSING,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, future unwanted processing of these child lines can be avoided as these transactions may stuck at some place or processed (which is undesired)  in future (If these are open transactions) as child items must have been cancelled for the cancelled model lines.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_CANCELLED_SO_HEADER_INVALID_OPEN_FLAG_DETAILS,"select header_id header_id
from
(SELECT ooh.header_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_headers_all ooh,
hr_operating_units ou
WHERE ooh.org_id = ou.organization_id
AND ooh.last_update_date between sysdate-30 and sysdate
AND ((nvl(ooh.cancelled_flag,'N') = 'Y'
AND (ooh.open_flag = 'Y' or ooh.flow_status_code <> 'CANCELLED'))
OR (ooh.flow_status_code = 'CANCELLED'
AND (nvl(ooh.cancelled_flag,'N') = 'N' or ooh.open_flag = 'Y'))))",2351652.1,"SYMPTOM: Cancelled Sales Order(s) located with improperly set Open Flag.

CAUSE: The Open Flag was not set properly due to data corruption.

SOLUTION: This data corruption would require a data fix.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,Cancelled Sales Order(s) with an improperly set Open Flag.,Cancelled Sales Orders with their Open Flag still set to Yes may cause issues during Month End closing.,2,Oracle Order Management,CHG_CANCEL,PROCESSING,WEEK,SAT,O2C: Order Management,"By identifying and quickly resolving the issue in these transactions, these order will not keep on appearing Open Order report. Also, if this data corruption is not addressed, these orders cannot be purged in future.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_CANCELLED_SO_LINES_INVALID_OPEN_FLAG_DETAILS,"select header_id header_id,
line_id line_id
from
(select oel1.header_id,
oel1.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all oel1,
oe_order_headers_all h,
hr_operating_units ou
WHERE oel1.last_update_date between sysdate-30 and sysdate
AND (oel1.open_flag = 'Y' and nvl(oel1.cancelled_flag,'N') ='Y')
AND oel1.header_id = h.header_id
AND h.org_id = ou.organization_id)",2351648.1,"SYMPTOM: Sales Order Line(s) with improperly set Cancelled and Open Flags

CAUSE: The flag(s) were not set properly due to data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,Sales Order Line(s) with improperly set Cancelled and Open Flags.,Order Line Cancelled and Open Flags are not set properly.  A datafix is required.,2,Oracle Order Management,CHG_CANCEL,PROCESSING,WEEK,SAT,O2C: Order Management,Invalid Sales Order Line(s) status which will cause Month / Year End Period Closure issues. Line(s) need to have proper Open / Cancelled flags in order for the lines to properly close. A Datafix script from Oracle Support / Development will be required to correct the data.,EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_CLOSED_SO_HEADERS_PENDING_WF_ACTIVITY_DETAILS,"select header_id header_id
from
(SELECT h.header_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wf_items wi,
oe_order_headers_all h,
hr_operating_units hou
WHERE h.org_id = hou.organization_id
AND to_number(wi.item_key) = h.header_id
AND wi.END_DATE is null
AND wi.item_type = 'OEOH'
AND h.open_flag = 'N'
AND rownum < 100 )",2352153.1,"SYMPTOM:  Closed Sales Order(s) with pending Workflow Activity Details have been found.

CAUSE:  Stalled workflow.

SOLUTION: Try running the Concurrent Process ""Workflow Background Process"" for the Pending Workflow Activities..  If you require further assistance, please update the SR and Support will engage appropriately.",ONT,Closed Sales Order(s) with pending Workflow Activity Details.,"Sales Order Header is closed, however, workflow is active.  A datafix is needed.",2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these workflow jobs in error status, they will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_BOOKED_DROPSHIP_LINES_NULL_SCHED_SHIP_DATE_DTLS,"select header_id header_id,
line_id line_id
from
(SELECT oel1.header_id,
oel1.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all oel1,
oe_order_headers_all oeh,
hr_operating_units hou
WHERE oeh.last_update_date between sysdate-30 and sysdate
AND oeh.header_id = oel1.header_id
AND oeh.org_id = hou.organization_id
AND oel1.open_flag = 'Y'
AND oel1.source_type_code='EXTERNAL'
AND oel1.flow_status_code = 'AWAITING_RECEIPT'
AND oel1.schedule_ship_date is null)",2352135.1,"SYMPTOM: Booked Line(s) without a Schedule Ship Date.

CAUSE: NULL Scheduled Ship Dates will not allow the line(s) to progress, due to data corruption or setup issue.

SOLUTION: Review Doc ID 566616.1 How to Diagnose Issues Related to the Drop Shipment Process and the Interface Between Order Management and Purchasing.

If you would like assistance in furthered diagnoses, please update the SR and Support will engage appropriately.",ONT,Booked Dropship Line(s) With Null Scheduled Ship Dates.,Booked lines should have Schedule Ship Date.  Possible problems have been found which may require a datafix.,2,Oracle Order Management,FULFILL,DROP_SHIPMENT,WEEK,SAT,O2C: Order Management,"Since these lines will stuck at this status and would not get progressed further. 

In identifying and quickly resolving these transactions, Logical Material Transaction can be generated on time and hence, Lines will be shipped and invoiced on desired time without any delay.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_ONT_DELIVERY_SEQUENCE,"select
Sequence Sequence,
Max_Value Max_Value,
Percent_Used Percent_Used
from
(SELECT 'WSH_NEW_DELIVERIES_S' Sequence,
  ( SELECT to_char(MAX(delivery_id), '999,999,999,999')
    FROM wsh_new_deliveries ) ""Last ID"",
  ( SELECT to_char(max_value, '999,999,999,999')
    FROM dba_sequences
    WHERE sequence_name = 'WSH_NEW_DELIVERIES_S') Max_Value,
  to_char( (( SELECT MAX(delivery_id) FROM wsh_new_deliveries) / ( SELECT max_value FROM dba_sequences WHERE sequence_name = 'WSH_NEW_DELIVERIES_S' ) * 100 ), '999.99') Percent_Used
FROM dual
UNION ALL
SELECT 'WSH_DELIVERY_DETAILS_S' ""Sequence"",
  ( SELECT to_char(MAX(delivery_detail_id), '999,999,999,999')
    FROM wsh_delivery_details ) ""Last ID"",
  ( SELECT to_char(max_value, '999,999,999,999')
    FROM dba_sequences
    WHERE sequence_name = 'WSH_DELIVERY_DETAILS_S') Max_Value,
  to_char( (( SELECT MAX(delivery_detail_id) FROM wsh_delivery_details) / ( SELECT max_value FROM dba_sequences WHERE sequence_name = 'WSH_DELIVERY_DETAILS_S' ) * 100 ), '999.99') Percent_Used
FROM dual
UNION ALL
SELECT 'WSH_DELIVERY_ASSIGNMENTS_S' Sequence,
  ( SELECT to_char(MAX(delivery_assignment_id), '999,999,999,999')
    FROM wsh_delivery_assignments ) ""Last ID"",
  ( SELECT to_char(max_value, '999,999,999,999')
    FROM dba_sequences
    WHERE sequence_name = 'WSH_DELIVERY_ASSIGNMENTS_S') Max_Value,
  to_char( (( SELECT MAX(delivery_assignment_id) FROM wsh_delivery_assignments) / ( SELECT max_value FROM dba_sequences WHERE sequence_name = 'WSH_DELIVERY_ASSIGNMENTS_S' ) * 100 ), '999.99') Percent_Used
FROM dual)
where Percent_Used >= .9",2914493.1,"SYMPTOM: 
ONT_DELIVERY_SEQUENCE returned rows showing ID is getting close (>90%) to Max Value defined in sequence.  This can cause creation issues and/or numeric overflow errors.

CAUSE: 
WSH_NEW_DELIVERIES_S sequence, Max Value, will soon be reached.

SOLUTION: 
To implement solution, please execute the following steps:

For NON-OTM Environment:

There should be no impact on the code with a sequence increase to the new max value, if there is no OTM integration.
You can use following statement to increase sequence MAX_VALUE:

ALTER SEQUENCE WSH_NEW_DELIVERIES_S MAX_VALUE ( 9999999999) 
Reaching maximum value can also happen for the following sequences : Example - WSH_DELIVERY_DETAILS_S, WSH_DELIVERY_ASSIGNMENTS_S

 
For OTM Enabled Environment:

1. Apply Patch 34599809:R12.WSH.C
Fixed file versions:
OutboundInterface.java | 120.9.12020000.15
OutboundChild.java | 120.11.12020000.8

For further details please reference the following document :
Shipping Outbound Errors - java.sql.SQLException: Numeric Overflow (Doc ID 2897469.1)

2. After patch is successfully applied you can use following statement to increase sequence MAX_VALUE:
ALTER SEQUENCE WSH_NEW_DELIVERIES_S MAX_VALUE ( 9999999999)


***NOTE- Always perform the previous action in a TEST/CLONE environment FIRST once satisfied with results then move to production environment.***",ONT,WSH_NEW_DELIVERIES_S sequence Max Value,"WSH_NEW_DELIVERIES_S sequence, Max Value, will soon be reached.  ID is getting close (=>90%) to Max Value defined in sequence.  This can cause creation iss",2,Oracle Order Management,CONTROL,NUMBERING,WEEK,SUN,O2C: Order Management,In identifying and quickly resolve sequence issues for normal progression of transactions as to not disrupt the business flow.,EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SHIP_SET_STUCK_ONE_LINE_SHIPPED_ONE_NOT_DETAILS,"select header_id header_id,
line_id line_id
from
(SELECT l.header_id,
l.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_lines_all l,
oe_order_headers_all h,
hr_operating_units hou
WHERE h.header_id = l.header_id
AND h.org_id = hou.organization_id
AND l.open_flag = 'Y'
AND l.last_update_date between sysdate-30 and sysdate
AND l.ship_set_id is not null
AND nvl(l.shipped_quantity,0)>0
AND exists (select 'Other line in the ship set not yet shipped'
from oe_order_lines_all oel2
where oel2.ship_set_id = l.ship_set_id
and nvl(oel2.shipped_quantity,0) = 0))",2352096.1,"SYMPTOM: Ship Set(s) found that have one line(s) shipped and one line(s) not shipped.

CAUSE: Data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",ONT,"Ship Set stuck. Part of Set Shipped, Part of Set Not Shipped.","In order for lines in a Ship Set to progress, all lines within the Ship Set must be shipped at the same time.  A datafix is needed.",2,Oracle Order Management,FULFILL,SETS,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, these Sales Orders lines belonging to the stuck ‘Ship Set’ will be corrected and progressed in such a manner as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_OMERROR,"select item_key item_key, parent_item_type parent_item_type, parent_item_key parent_item_key from (
select e.item_key item_key, e.parent_item_type parent_item_type, e.parent_item_key parent_item_key, TO_DATE (sysdate-30, 'DD-MON-YYYY') startdate
from wf_items e
where e.item_type= 'OMERROR'
and e.end_date is null
and e.begin_date >= sysdate-60
and not exists (select 1 from wf_item_activity_statuses s
where s.item_type = e.parent_item_type
and s.item_key = e.parent_item_key
and s.activity_status = 'ERROR')
AND rownum < 100 )",2352642.1,"SYMPTOM:   Lines in OMERROR status. 

CAUSE:  Workflow error.

SOLUTION:  Run the ""Retry Activities in Error"" concurrent process –
Responsibility: Order Management Super User
Navigation: Reports, Requests--Run Requests Query for ""Retry Activities in Error""

The program has the following Parameters:

Order Number: The list of values contains all the Open orders.  If an order number is selected, the program retries both header and line erred flows for that order. The rest of the parameters except for the Mode are ignored.

Item Type: OMERROR

Activity in Error: The list of values contains all activities pertaining the selected Item Type.

Activity Error Date From: Start date to select erred activities.

Activity Error Date To: End date to select erred activities.

Mode: Valid values are Preview or Execute. The default is Preview.

Refer to Doc ID 2352642.1 Lines In OMERROR found",ONT,Lines In OMERROR found.,Lines in OMERROR will cause transactions to not process.  These stuck transactions need to be resolved.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these workflow jobs in error status, they will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_OE_WFERROR,"select item_key item_key, parent_item_type parent_item_type, parent_item_key parent_item_key from (
select e.item_key item_key,
e.parent_item_type parent_item_type, 
e.parent_item_key parent_item_key,
TO_DATE (sysdate-30, 'DD-MON-YYYY')startdate
from   wf_items e 
where  e.item_type = 'WFERROR' 
and    e.parent_item_type in ('OEOH','OEOL') 
and    e.end_date is null 
and    not exists( select 1 
                   from   wf_item_activity_statuses s  
                   where  s.item_type =  e.parent_item_type  
                   and   s.item_key = e.parent_item_key 
                   and   s.activity_status = 'ERROR')
AND rownum < 100 )",2352644.1,"SYMPTOM:   Lines in WFERROR will cause transactions to not process.  

CAUSE:  Workflow error.

SOLUTION:  Run the ""Retry Activities in Error"" concurrent process –
Responsibility: Order Management Super User
Navigation: Reports, Requests--Run Requests

Query for ""Retry Activities in Error""
The program has the following Parameters:

Order Number: The list of values contains all the Open orders.  If an order number is selected, the program retries both header and line erred flows for that order. The rest of the parameters except for the Mode are ignored.

Item Type: The list of values contains all the supported workflow item types as given above.

Activity in Error: The list of values contains all activities pertaining the selected Item Type.

Activity Error Date From: Start date to select erred activities.

Activity Error Date To: End date to select erred activities.

Mode: Valid values are Preview or Execute. The default is Preview.

Refer to Doc ID 2352644.1 Lines in Workflow Error",ONT,Lines in Workflow Error.,Lines in WFERROR will cause transactions to not process.  These stuck transactions need to be resolved.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these workflow lines in error status, they will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_MISSING_WF,"select order_number order_number
from
(SELECT h.order_number,
TO_DATE (sysdate-7,'DD-MON-YYYY') startdate
from oe_order_headers_all h
where h.open_flag = 'Y'
and nvl(h.cancelled_flag, 'N') = 'N'
and not exists (select 'WF is pending' from wf_items wi
where to_number(wi.item_key) = h.header_id
and wi.item_type = 'OEOH'
and wi.end_date is null)
and nvl(h.transaction_phase_code, 'F') = 'F'
and rownum < 2)",2352632.1,"SYMPTOM:  Order Lines in BOOKED status that are missing Workflow Assignment/Activity.

CAUSE: Data corruption or setup issue.

SOLUTION:  The best and quickest solution is to request the order(s) to be Cancelled and then the creation of a new Sales Order and progress the new Sales Order.

Before trying cancellation, you may try to use the script ont00166.sql from Patch 17001338:R12.ONT.B.  This patch delivers the script to start the line/header workflows
whose workflow has been created but not started. This script will only start the headers which are in status 'ENTERED' (not yet Booked),and lines which are in status either 'ENTERED' or 'BOOKED'.

If you decide with option of Cancelling the lines, then the you will need to apply another script to close the order.  

Please apply Patch 18512724 which contains script ontd0060.sql -Data Fix: Close Eligible Sales Order Headers, Purge Erred and Orphan Workflows.

If neither cancellation nor the use of script ont00166.sql resolve the issue, a Data Fix bug will need to be logged.  Please update the SR and Support will engage appropriately.",ONT,Order Lines in BOOKED status that are missing Workflow Assignment/Activity.,One order has been returned but more could exist. Need to create the workflow activity that is missing.,2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these workflow jobs in error status, they will be corrected allowing the normal progression of the process as to not disrupt the business flow.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SHIPPABLE_KITS_MODELS_NOT_OM_INTERFACED,"select source_header_id source_header_id,
line_id line_id
from
(SELECT wdd.source_header_id,
l.line_id ,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wsh_delivery_details wdd, oe_order_lines_all l, hr_operating_units hou
WHERE l.last_update_date between sysdate-30 and sysdate
AND l.org_id = hou.organization_id
AND wdd.source_code = 'OE'
AND wdd.source_line_id = wdd.top_model_line_id
AND wdd.oe_interfaced_flag in ('N','P')
AND wdd.source_line_id = l.line_id
AND l.open_flag = 'N'
AND exists (select 'x'
from wsh_delivery_details wdd1
where wdd.top_model_line_id = wdd1.top_model_line_id
and wdd1.source_code = 'OE'
and wdd1.released_status <> 'D'
and wdd1.oe_interfaced_flag = 'Y'
and wdd1.released_status = 'C'
and wdd1.source_line_id <> wdd.top_model_line_id)
AND rownum < 100 )",2352560.1,,ONT,"Shippable Kit Models not OM Interfaced, but its components are interfaced",Shipped Kit should have all components interfaced.  Datafix may be needed.,2,Oracle Order Management,ENTRY,CONFIG,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, future delay in processing of these model lines can be avoided as for these shipped transactions, invoice would not get generated.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_BOOKED_SO_HEADERS_NONBOOKED_LINES_DETAILS,"select header_id header_id,
booked_flag booked_flag,
line_id line_id
from
(select oel1.header_id,
h.booked_flag,
oel1.line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM oe_order_headers_all h,
oe_order_lines_all oel1,
hr_operating_units ou
WHERE h.open_flag = 'Y'
AND h.org_id = ou.organization_id
AND h.last_update_date between sysdate-30 and sysdate
AND h.header_id = oel1.header_id
AND oel1.open_flag = 'Y'
AND oel1.booked_flag <> h.booked_flag)",2350846.1,"SYMPTOM: Non-booked sales order lines were located.  

CAUSE: These line(s) cannot progress. Their workflow is stalled.

SOLUTION: The best and quickest solution is to request the line(s) to be Cancelled and then create the lines on a new Order and progress the new Order.

However if cancellation is not possible, try to use the script ont00166.sql from Patch 17001338:R12.ONT.B.  This script can start the line/header workflows whose workflow has been created but not started. This script will only start the headers which are in status 'ENTERED' (not yet booked), and lines which are in status either 'ENTERED' or 'BOOKED'.

If you decide with option of Cancelling the lines then you will need to apply another script to close the order, apply Patch 18512724 which provides script ontd0060.sql, Data Fix : Close Eligible Sales Order Headers, Purge Erred and Orphan Workflows.

Review Note 2226124.1 Missing Order Header Or Order Line Workflows that are missing Workflow assignment / activity

If neither cancellation nor use of script ont00166.sql resolve the issue, a Data Fix bug will need to be logged.

If you would like to correct these lines with a Data Fix, please update the SR and Support will engage appropriately.",ONT,Booked SO Headers with non-booked Lines.,Non-booked sales order lines cannot progress. Workflow is stalled.,2,Oracle Order Management,BOOKING,BOOKING,WEEK,SAT,O2C: Order Management,"In identifying and quickly resolving these transactions, Lines will be progressed further i.e. shipped and invoiced on desired time without any delay.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SALES_ORDER_LINES_NO_INVOICE,"select header_id header_id,
line_id line_id
from
(SELECT oeh.header_id, oel.line_id, oel.fulfillment_date
   FROM OE_ORDER_LINES_ALL oel,
        OE_ORDER_HEADERS_ALL oeh
   WHERE oeh.header_id=oel.header_id
   AND oel.line_category_code in ('ORDER', 'RETURN') 
   AND oel.flow_status_code ='CLOSED'  
   AND oel.open_flag='N'
   AND oel.cancelled_flag='N'
   AND Nvl(oel.INVOICE_INTERFACE_STATUS_CODE,'N') ='YES'
   AND oel.invoiced_quantity IS NOT NULL
   AND oel.fulfillment_date >= (sysdate -7)
   AND not exists(select 1
                from ra_customer_trx_lines_all ral
                where ral.interface_line_context='ORDER ENTRY'
                  and   ral.line_type = 'LINE'
                   and   ral.sales_order_line IS NOT NULL
                and ral.interface_line_attribute6 = TO_CHAR(oel.line_id))
   AND not exists(select 1
                from ra_interface_lines_all rai
                where rai.interface_line_context='ORDER ENTRY'
                and rai.line_type = 'LINE'
                and rai.interface_line_attribute6 = TO_CHAR(oel.line_id))
   AND rownum < 2)",2431559.1,"SYMPTOM: No Invoice(s) were generated for shipment(s).  Due to this issue, incurring loss of revenue.

CAUSE: Data corruption or setup issue.

SOLUTION:  Use Doc ID 1951677.1 Closed Sales Order Line Not Interfaced To AR Yet INVOICE_INTERFACE_STATUS_CODE = YES to determine if lines should have been invoiced.

If you would like assistance in furthered diagnoses, please update the SR and Support will engage appropriately.",ONT,Sales Order Lines Shipped but not Invoiced,"Lines are closed, open flag = N, cancelled flag = N, invoiced quantity is not NULL; however lines do not exist in AR Interface, nor AR tables.",2,Oracle Order Management,ACCOUNTING,INVOICING_CR,WEEK,SAT,O2C: Order Management,"Shipped lines have not been invoiced.  In identifying these transactions, these lines will be interfaced to AR for Invoicing.  Making sure to obtain revenue for items shipped.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_ORDER_MGMT_BOOKED_HDR_BOOKED_LIN_PROGRESSED_WF,"select header_id header_id,
line_id line_id
from
(	
SELECT
    h.header_id ,
    l.line_id 
FROM
    oe_order_lines_all l,
    oe_order_headers_all h
WHERE
    l.flow_status_code = 'BOOKED'
    AND h.flow_status_code='BOOKED'
    AND l.header_id = h.header_id
    AND h.last_update_date between sysdate-30 and sysdate
    AND nvl(l.shipped_quantity,0) = 0
    AND l.open_flag = 'Y'
    AND l.shipping_interfaced_flag = 'Y'
    AND EXISTS (
        SELECT
            1
        FROM
            wsh_delivery_details wdd
        WHERE
            wdd.source_line_id = l.line_id
    )
    AND EXISTS (
        SELECT
            1
        FROM
            wf_item_activity_statuses wias,
            wf_process_activities wpa
        WHERE
            item_type = 'OEOL'
            AND item_key = TO_CHAR(l.line_id)
            AND wias.process_activity = wpa.instance_id
            AND wpa.activity_name = 'SHIP_LINE'
            AND wias.activity_status = 'NOTIFIED'
            AND wpa.process_name = 'SHIP_CONFIRM'
    )
)",2813956.1,"SYMPTOM: Order Line(s) are stuck as Booked not Awaiting Shipping.  The Order Line(s) are interfaced to Shipping, but their Workflow status is 'BOOKED'.

CAUSE: Data corruption.

SOLUTION:   Solution is dependent upon workflow status of the Order / Line.

Review the Workflow Status of the Order / Line by going to Tools > Workflow Status.

If none of the following assist in progressing the order(s) / line(s), update the SR and an engineer will provide instructions on how to correct the data after they review your data and Note 2173870.1

Workflow is Deferred, run the Workflow Background Process with Differed = Y or manually progress the order / line:
1) Order Management Super User Responsibility
2) Order Organizer > Query Order
3) If the Order Header is not progressing, open the order, click in the order
    If the line is not progressing, open the Lines Tab, place cursor on affected order line
4) Select Actions LOV > Progress Order / Order line

Workflow is in Error:
1) Correct the error (for example, table space issue)
2) Run concurrent request 'Retry Activities in Error'

Workflow is missing:
1) The best and quickest solution is to request the order(s) to be Cancelled and then the creation of a new Sales Order and progress the new Sales Order.
2) Before trying cancellation, you may try to use the script ont00166.sql from Patch 17001338:R12.ONT.B. This patch delivers the script to start the line/header workflows whose workflow has been created but not started. This script will only start the headers which are in status 'ENTERED' (not yet Booked), and lines which are in status either 'ENTERED' or 'BOOKED'.
3) If you decide with option of Cancelling the lines, then the you will need to apply another script to close the order. Please apply Patch 18512724 which contains script ontd0060.sql -Data Fix: Close Eligible Sales Order Headers, Purge Erred and Orphan Workflows.",ONT,Order(s) and Order Line(s) stuck as Booked,"Order Line(s) are stuck as Booked not Awaiting Shipping.  The Order Line(s) are interfaced to Shipping, but their Workflow status is 'BOOKED'.",2,Oracle Order Management,CONTROL,WORKFLOW,WEEK,SAT,O2C: Order Management,"Lines will not progress past BOOKED, resulting in inability to ship and/or invoice.  Resulting in Month End Closure errors and/or loss of revenue.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_RMA_LINES_STUCK_AT_AWAITING_RETURN_DISPOSITION,"select order_number order_number, header_id header_id,
line_number line_number
from
(select oh.order_number, oh.header_id, ol.line_number, TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
from oe_order_headers_all oh,
oe_order_lines_all ol,
rcv_transactions rcv,
mtl_material_transactions mmt
where oh.header_id = ol.header_id
and ol.line_id = rcv.oe_order_line_id
and ol.line_id = mmt.trx_source_line_id
and mmt.transaction_type_id = 15
and mmt.rcv_transaction_id = rcv.transaction_id
and ol.flow_status_code in ('AWAITING_RETURN_DISPOSITION','AWAITING_RETURN')
AND rownum < 100 )",2352616.1,"SYMPTOM: RMA Lines against which material has been received are stuck in AWAITING_RETURN_DISPOSITION status.

CAUSE: Stalled workflow.

SOLUTION:  Use the script ont0015.sql from Patch 18307579:R2.ONT.B for R12.  

This patch delivers the script that will progress RMA Lines against which material has been received, but the Line(s) are stuck in AWAITING_RETURN_DISPOSITION status.

Refer to Doc ID 2352616.1 Order lines after full receipt of goods are not Fulfilled",ONT,Order lines after full receipt of goods are not Fulfilled.,"Full Receipt of lines at 'Awaiting Return' or 'Awaiting Return Disposition' and 'Inspect' = 'Y', are at incorrect status.",2,Oracle Order Management,FULFILL,RETURN_RCV,DAY,1,O2C: Order Management,"These lines are stuck at this status and will not progressed further. 

In identifying and quickly resolving these transactions, these lines will be returned and credited without any delay.",EBS MFG,EBS - Order Management
ME$EBS_FIN_AP_MISSING_ACCOUNTINGEVENT_INVOICE,"SELECT
    invoice_id invoice_id
FROM
    (
        WITH invs AS (
            SELECT /*+ materialize */ DISTINCT
                invoice_id
            FROM
                ap_invoice_distributions_all
            WHERE
                accounting_date BETWEEN ( trunc(sysdate) - 7 ) AND ( trunc(sysdate) + 3 )
        )
        SELECT
            ai.invoice_id,
            ai.org_id
        FROM
            invs,
            ap_invoices_all              ai,
            ap_suppliers                 asu,
            ap_supplier_sites_all        assi,
            ap_invoice_distributions_all aid,
            financials_system_params_all fsp
        WHERE
                ai.invoice_id = invs.invoice_id
            AND aid.invoice_id = ai.invoice_id
            AND ai.vendor_id = asu.vendor_id (+)
            AND ai.vendor_site_id = assi.vendor_site_id (+) 
       /*   AND nvl(ai.historical_flag,   'N') <> 'Y' */
            AND fsp.org_id = aid.org_id
            AND ( ( fsp.purch_encumbrance_flag = 'Y'
                    AND aid.match_status_flag = 'A' )
                  OR ( fsp.purch_encumbrance_flag = 'N'
                       AND aid.match_status_flag IN ( 'A', 'T' ) ) )
            AND nvl(aid.posted_flag, 'N') <> 'Y'
            AND aid.accounting_event_id IS NULL 
       /* bug 18484204 */
       and rownum < 10000 
            AND NOT EXISTS (
                SELECT
                    1
                FROM
                    ap_holds_all  ah,
                    ap_hold_codes ahc
                WHERE
                        ah.invoice_id = ai.invoice_id
                    AND ah.hold_lookup_code = ahc.hold_lookup_code
                    AND ah.release_lookup_code IS NULL
                    AND nvl(ahc.postable_flag, 'N') = 'N'
            )
            AND aid.awt_invoice_payment_id IS NULL
            and rownum < 10000 
        UNION
        SELECT
            ai.invoice_id,
            ai.org_id
        FROM
            invs,
            ap_invoices_all               ai,
            ap_suppliers                  asu,
            ap_supplier_sites_all         assi,
            ap_self_assessed_tax_dist_all asad,
            financials_system_params_all  fsp
        WHERE
                ai.invoice_id = invs.invoice_id
            AND asad.invoice_id = ai.invoice_id
            AND ai.vendor_id = asu.vendor_id (+)
            AND ai.vendor_site_id = assi.vendor_site_id (+) 
       /*   AND nvl(ai.historical_flag,   'N') <> 'Y' */
            AND fsp.org_id = asad.org_id
            AND ( ( fsp.purch_encumbrance_flag = 'Y'
                    AND asad.match_status_flag = 'A' )
                  OR ( fsp.purch_encumbrance_flag = 'N'
                       AND asad.match_status_flag IN ( 'A', 'T' ) ) )
            AND nvl(asad.posted_flag, 'N') <> 'Y'
            AND asad.accounting_event_id IS NULL 
       /* bug 21916712 */
            AND asad.prepay_distribution_id IS NULL 
       /* bug 18484204 */
       and rownum < 10000 
            AND NOT EXISTS (
                SELECT
                    1
                FROM
                    ap_holds_all  ah,
                    ap_hold_codes ahc
                WHERE
                        ah.invoice_id = ai.invoice_id
                    AND ah.hold_lookup_code = ahc.hold_lookup_code
                    AND ah.release_lookup_code IS NULL
                    AND nvl(ahc.postable_flag, 'N') = 'N'
            )
            AND asad.awt_invoice_payment_id IS NULL
    )
ORDER BY
    invoice_id",972261.1,"Follow the instructions provided in Doc ID 972261.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Approved Invoice Distributions Missing ACCOUNTING_EVENT_ID.,Approved invoice distributions are missing accounting_event_id's.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing accounting events will prevent accounting on affected transactions from being processed. Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ORPHAN_XDL,"select invoice_id invoice_id,
org_id org_id
from
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
FROM ap_invoice_distributions_all
WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
(trunc(sysdate) + 3)
)
/*SPLIT_HERE*/
     SELECT /*+ leading(invs) use_nl(ai, xte, xe, xah, xll, xdl) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          xla_transaction_entities_upg xte,
          xla_events xe,
          xla_ae_headers xah,
          xla_ae_lines xll,
          xla_distribution_links xdl
     WHERE xe.application_id = 200
     AND   xdl.application_id = 200
     AND   xll.application_id = 200
     AND   xah.application_id = 200
     AND   xte.application_id = 200
     AND   xe.event_status_code = 'P'
     AND   nvl(xe.budgetary_control_flag, 'N') = 'N'
     AND   xe.event_type_code NOT IN ('PREPAYMENT APPLIED',
                'PREPAYMENT UNAPPLIED',
                'PREPAYMENT APPLICATION ADJ')
     AND   xe.event_id = xah.event_id
     AND   xe.entity_id = xte.entity_id
     AND   xte.entity_code = 'AP_INVOICES'
     AND   xte.ledger_id = ai.set_of_books_id
     AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id
     AND   xah.ae_header_id = xll.ae_header_id
     AND   xah.balance_type_code = 'A'
     AND   (xah.upg_batch_id is null OR
            xah.upg_batch_id = -9999)
     AND   xll.accounting_class_code = 'LIABILITY'
     AND   xdl.ae_header_id = xll.ae_header_id
     AND   xdl.ae_line_num = xll.ae_line_num
     AND   xdl.source_distribution_type LIKE 'AP_INV_DIST'
     AND   xe.event_type_code <> 'MANUAL'
     AND   EXISTS (
             SELECT 1 FROM ap_invoice_distributions_all AID
             WHERE aid.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'inv dist' FROM ap_invoice_distributions_all aid
             WHERE aid.invoice_distribution_id = xdl.source_distribution_id_num_1
             AND   aid.accounting_event_id = xe.event_id)
     AND   ai.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ leading(invs) use_nl(ai, xte, xe, xah, xll, xdl) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          xla_transaction_entities_upg xte,
          xla_events xe,
          xla_ae_headers xah,
          xla_ae_lines xll,
          xla_distribution_links xdl
     WHERE xe.application_id = 200
     AND   xdl.application_id = 200
     AND   xll.application_id = 200
     AND   xah.application_id = 200
     AND   xte.application_id = 200
     AND   xe.event_status_code = 'P'
     AND   nvl(xe.budgetary_control_flag, 'N') = 'N'
     AND   xe.event_type_code NOT IN ('PREPAYMENT APPLIED',
             'PREPAYMENT UNAPPLIED', 'PREPAYMENT APPLICATION ADJ')
     AND   xe.event_id = xah.event_id
     AND   xe.entity_id = xte.entity_id
     AND   xte.ledger_id = ai.set_of_books_id
     AND   xte.entity_code = 'AP_INVOICES'
     AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id
     AND   xah.ae_header_id = xll.ae_header_id
     AND   xah.balance_type_code = 'A'
     AND   (xah.upg_batch_id is null OR xah.upg_batch_id = -9999)
     AND   xll.accounting_class_code = 'SELF_ASSESSED_TAX_LIAB'
     AND   xdl.ae_header_id = xll.ae_header_id
     AND   xdl.ae_line_num = xll.ae_line_num
     AND   xdl.source_distribution_type LIKE 'AP_INV_DIST'
     AND   xe.event_type_code <> 'MANUAL'
     AND   EXISTS (
             SELECT  1 FROM ap_self_assessed_tax_dist_all aid
            WHERE aid.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'inv dist' FROM ap_self_assessed_tax_dist_all aid
             WHERE aid.invoice_distribution_id = xdl.source_distribution_id_num_1
             AND   aid.accounting_event_id = xe.event_id)
     AND   ai.invoice_id = invs.invoice_id
/*SPLIT_HERE*/
)
where rownum < 11
order by invoice_id",1291521.1,"Follow Doc ID 1291521.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Orphan Distribution in Subledger Accounting.,Orphan accounting distributions are no longer linked to a Payables transaction.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,"Affected transactions not tied to a valid record will have incorrect accounting entries created, may be reported with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ORPHAN_ACCTG_EVENTS_INVOICE,"select invoice_id invoice_id,
org_id org_id
from
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
FROM ap_invoice_distributions_all
WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
(trunc(sysdate) + 3)
)
/*SPLIT_HERE*/
     SELECT /*+ ordered no_unnest use_nl(ai xte xe xah) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          xla_transaction_entities_upg xte,
          xla_events xe,
          xla_ae_headers xah
     WHERE xe.application_id = xte.application_id
     AND   xe.event_status_code <> 'P'
     AND   xe.event_id = xah.event_id (+)
     AND   xah.application_id(+) = xe.application_id
     AND   xte.entity_id = xe.entity_id
     AND   xte.application_id = 200
     AND   xte.entity_code = 'AP_INVOICES'
     AND   xte.ledger_id = ai.set_of_books_id
     AND   NOT EXISTS (
             SELECT 'No Invoice rows exist for this event'
             FROM ap_invoice_distributions_all aid
             WHERE aid.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No Distributions exist for the bc_event_id'
             FROM ap_invoice_distributions_all aid
             WHERE aid.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment rows exist for this event'
             FROM ap_invoice_payments_all aip
             WHERE aip.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment history rows exists for this event'
             FROM ap_payment_history_all aph
             WHERE aph.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows exists for this event'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows exists for the bc_event_id'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepay history rows exists for this event'
             FROM ap_prepay_history_all aprh
             WHERE aprh.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepayment history rows exists for the bc_event_id'
             FROM ap_prepay_history_all apph
             WHERE apph.bc_event_id = xe.event_id)
     AND   xe.event_type_code NOT IN
             ('MANUAL', 'REVERSAL','PREPAYMENT APPLICATION ADJ','INVOICE_BURDEN_VALIDATED','INVOICE_BURDEN_CANCELLED')
     AND   (xe.upg_batch_id is NULL OR
            xe.upg_batch_id = -9999)
     AND   NOT EXISTS (
             SELECT 'No final accounted headers'
             FROM xla_ae_headers xah
             WHERE xah.event_id = xe.event_id
             AND   xah.application_id = 200
             AND   xah.entity_id = xte.entity_id
             AND   xah.accounting_entry_status_code = 'F'
             AND   xah.gl_transfer_status_code = 'Y')
     AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id
     AND   ai.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ ordered no_unnest use_nl(ai xte xah) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          xla_transaction_entities_upg xte,
          xla_ae_headers xah
     WHERE xah.application_id = xte.application_id
     AND   xte.entity_id = xah.entity_id
     AND   xte.application_id = 200
     AND   xte.entity_code = 'AP_INVOICES'
     AND   xte.ledger_id = ai.set_of_books_id
     AND   NOT EXISTS (
             SELECT 'No Invoice rows exist for this event'
             FROM ap_invoice_distributions_all aid
             WHERE aid.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No Distributions exist for the bc_event_id'
             FROM ap_invoice_distributions_all aid
             WHERE aid.bc_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment rows exist for this event'
             FROM ap_invoice_payments_all aip
             WHERE aip.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment history rows exists for this event'
             FROM ap_payment_history_all aph
             WHERE aph.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows exists for this event'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows exists for the bc_event_id'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.bc_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepay history rows exists for this event'
             FROM ap_prepay_history_all aprh
             WHERE aprh.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepayment history rows exists for the bc_event_id'
             FROM ap_prepay_history_all apph
             WHERE apph.bc_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT ' Event for this header does not exist'
             FROM xla_events xe
             WHERE xe.application_id = xah.application_id
             AND   xe.event_id = xah.event_id)
     AND   xah.event_type_code NOT IN
             ('MANUAL', 'REVERSAL', 'PREPAYMENT APPLICATION ADJ','INVOICE_BURDEN_VALIDATED','INVOICE_BURDEN_CANCELLED')
     AND   (xah.upg_batch_id is NULL OR
            xah.upg_batch_id = -9999)
     AND   nvl(xah.gl_transfer_status_code, 'X') <> 'Y'
     AND   nvl(xah.accounting_entry_status_code, 'X') <> 'F'
     AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id
     AND   ai.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ ordered no_unnest use_nl(ai xte xe xah) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          xla_transaction_entities_upg xte,
          xla_events xe,
          xla_ae_headers xah
     WHERE xe.application_id = 200
     AND   xe.event_status_code = 'P'
     AND   xah.event_id = xe.event_id
     AND   xah.application_id = 200
     AND   xte.entity_id = xe.entity_id
     AND   xte.application_id = 200
     AND   xte.entity_code = 'AP_INVOICES'
     AND   xte.ledger_id = ai.set_of_books_id
     AND   NOT EXISTS (
             SELECT 'No Invoice rows exist for this event'
             FROM ap_invoice_distributions_all aid
             WHERE aid.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No Distributions exist for the bc_event_id'
             FROM ap_invoice_distributions_all aid
             WHERE aid.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment rows exist for this event'
             FROM ap_invoice_payments_all aip
             WHERE aip.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment history rows exists for this event'
             FROM ap_payment_history_all aph
             WHERE aph.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows exists for this event'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows exists for the bc_event_id'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepay history rows exists for this event'
             FROM ap_prepay_history_all aprh
             WHERE aprh.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepayment history rows exists for the bc_event_id'
             FROM ap_prepay_history_all apph
             WHERE apph.bc_event_id = xe.event_id)
     AND   xe.event_type_code NOT IN
             ('MANUAL', 'REVERSAL', 'PREPAYMENT APPLICATION ADJ','INVOICE_BURDEN_VALIDATED','INVOICE_BURDEN_CANCELLED')
     AND   (xe.upg_batch_id is NULL OR
            xe.upg_batch_id = -9999)
     AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id
     AND   ai.invoice_id = invs.invoice_id
/*SPLIT_HERE*/
)
where rownum < 11
order by invoice_id",788135.1,"Follow Doc ID 1317827.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice with Orphan Accounting Event.,All events referenced in the xla_events table should have corresponding transaction data referencing that event.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Orphan accounting events that are not tied to a Payables transaction cannot be processed. Any unaccounted events resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ORPHAN_ACCTG_EVENTS_PAYMENT,"select check_id check_id,
org_id org_id
from
(WITH chks AS  ( SELECT /*+ materialize */ DISTINCT ph.check_id FROM ap_payment_history_all ph
WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3) )
/*SPLIT_HERE*/
     SELECT ac.check_id,
            ac.org_id
     FROM chks,
          ap_checks_all ac,
          ap_system_parameters_all asp,
          xla_transaction_entities_upg xte,
          xla_events xe,
          xla_ae_headers xah
     WHERE xe.application_id = xte.application_id
     AND   xe.event_status_code <> 'P'
     AND   xe.event_id = xah.event_id (+)
     AND   xah.application_id(+) = xe.application_id
     AND   xte.entity_id = xe.entity_id
     AND   xte.application_id = 200
     AND   xte.entity_code = 'AP_PAYMENTS'
     AND   NOT EXISTS (
             SELECT 'No Inv rows for event' FROM ap_invoice_distributions_all aid
             WHERE aid.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No Dists for bc_event_id' FROM ap_invoice_distributions_all aid
             WHERE aid.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No pmt rows for event' FROM ap_invoice_payments_all aip
             WHERE aip.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No pmt hist rows for event' FROM ap_payment_history_all aph
             WHERE aph.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows for event'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.accounting_event_id = xe.event_id)
     AND    NOT EXISTS (
             SELECT 'No self assessed tax rows  for bc_event_id'
             FROM   ap_self_assessed_tax_dist_all asatd
             WHERE  asatd.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepay hist rows for event'
             FROM ap_prepay_history_all aprh
             WHERE aprh.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepayment hist rows for bc_event_id'
             FROM   ap_prepay_history_all apph
             WHERE  apph.bc_event_id = xe.event_id)
     AND   xe.event_type_code NOT IN
             ('MANUAL', 'REVERSAL', 'PREPAYMENT APPLICATION ADJ')
     AND   (xe.upg_batch_id is null OR xe.upg_batch_id = -9999)
     AND   NOT EXISTS (
             SELECT 'No final accounted headers' FROM   xla_ae_headers xah
             WHERE  xah.event_id = xe.event_id
             AND    xah.application_id = 200
             AND    xah.entity_id = xte.entity_id
             AND    xah.accounting_entry_status_code = 'F'
             AND    xah.gl_transfer_status_code = 'Y')
     AND   xte.ledger_id = asp.set_of_books_id
     AND   nvl(xte.source_id_int_1, -99) = ac.check_id
     AND   asp.org_id = ac.org_id
     AND   ac.check_id = chks.check_id
     UNION ALL
     SELECT ac.check_id,
            ac.org_id
     FROM chks,
          ap_checks_all ac,
          ap_system_parameters_all asp,
          xla_transaction_entities_upg xte,
          xla_ae_headers xah
     WHERE xah.application_id = xte.application_id
     AND   xte.entity_id = xah.entity_id
     AND   xte.application_id = 200
     AND   xte.entity_code = 'AP_PAYMENTS'
     AND   NOT EXISTS (
             SELECT 'No Invoice rows exist for this event'
             FROM ap_invoice_distributions_all aid
             WHERE aid.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No Distributions exist for the bc_event_id'
             FROM ap_invoice_distributions_all aid
             WHERE aid.bc_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment rows exist for this event'
             FROM ap_invoice_payments_all aip
             WHERE aip.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No payment history rows exists for this event'
             FROM ap_payment_history_all aph
             WHERE aph.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows exists for this event'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.accounting_event_id = xah.event_id)
     AND    NOT EXISTS (
             SELECT 'No self assessed tax rows exists for the bc_event_id'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE  asatd.bc_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepay history rows exists for this event'
             FROM ap_prepay_history_all aprh
             WHERE aprh.accounting_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepayment history rows exists for the bc_event_id'
             FROM ap_prepay_history_all apph
             WHERE apph.bc_event_id = xah.event_id)
     AND   NOT EXISTS (
             SELECT ' Event for this header does not exist'
             FROM xla_events xe
             WHERE xe.application_id = xah.application_id
             AND   xe.event_id = xah.event_id)
     AND   xah.event_type_code NOT IN
             ('MANUAL', 'REVERSAL', 'PREPAYMENT APPLICATION ADJ')
     AND   (xah.upg_batch_id is null OR xah.upg_batch_id = -9999)
     AND   nvl(xah.gl_transfer_status_code, 'X') <> 'Y'
     AND   nvl(xah.accounting_entry_status_code, 'X') <> 'F'
     AND   xte.ledger_id = asp.set_of_books_id
     AND   nvl(xte.source_id_int_1, -99) = ac.check_id
     AND   asp.org_id = ac.org_id
     AND   ac.check_id = chks.check_id
     UNION ALL
     SELECT ac.check_id,
            ac.org_id
     FROM chks,
          ap_checks_all ac,
          ap_system_parameters_all asp,
          xla_transaction_entities_upg xte,
          xla_events xe,
          xla_ae_headers xah
     WHERE xe.application_id = 200
     AND   xe.event_status_code = 'P'
     AND   xah.application_id = 200
     AND   xah.event_id = xe.event_id
     AND   xte.entity_id = xe.entity_id
     AND   xte.application_id = 200
     AND   xte.entity_code = 'AP_PAYMENTS'
     AND   NOT EXISTS (
             SELECT 'No Inv rows for event' FROM ap_invoice_distributions_all aid
             WHERE aid.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No Dists for bc_event_id' FROM ap_invoice_distributions_all aid
             WHERE aid.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No pmt rows for event' FROM ap_invoice_payments_all aip
             WHERE aip.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No pmt hist rows for event' FROM ap_payment_history_all aph
             WHERE aph.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No self assessed tax rows for event'
             FROM ap_self_assessed_tax_dist_all asatd
             WHERE asatd.accounting_event_id = xe.event_id)
     AND    NOT EXISTS (
             SELECT 'No self assessed tax rows  for bc_event_id'
             FROM   ap_self_assessed_tax_dist_all asatd
             WHERE  asatd.bc_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepay hist rows for event'
             FROM ap_prepay_history_all aprh
             WHERE aprh.accounting_event_id = xe.event_id)
     AND   NOT EXISTS (
             SELECT 'No prepayment hist rows for bc_event_id'
             FROM   ap_prepay_history_all apph
             WHERE  apph.bc_event_id = xe.event_id)
     AND   xe.event_type_code NOT IN
             ('MANUAL', 'REVERSAL', 'PREPAYMENT APPLICATION ADJ')
     AND   (xe.upg_batch_id is null OR xe.upg_batch_id = -9999)
     AND   xte.ledger_id = asp.set_of_books_id
     AND   nvl(xte.source_id_int_1, -99) = ac.check_id
     AND   asp.org_id = ac.org_id
     AND   ac.check_id = chks.check_id
/*SPLIT_HERE*/
)
where rownum < 11
order by check_id",788135.1,"Follow Doc ID 1317827.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Payment with Orphan Accounting Event.,Payment with orphan accounting events are referenced in the xla_events that does not have corresponding transaction data referencing that event.,2,Oracle Payables,ACCOUNTING,ACCPAY,WEEK,SAT,Accounting to Financial Reports: Reporting,Orphan accounting events that are not tied to a Payables transaction cannot be processed. Any unaccounted events resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INCORRECT_PMT_DATA_INVOICE,"SELECT
invoice_id invoice_id,
org_id org_id
FROM
(
WITH invs AS (
SELECT /*+ materialize */ DISTINCT
invoice_id
FROM
ap_invoice_distributions_all
WHERE
accounting_date BETWEEN ( trunc(sysdate) - 7 ) AND ( trunc(sysdate) + 3 )
)
/*SPLIT_HERE*/
SELECT
ap.invoice_id,
ap.org_id
FROM
(
SELECT
'Incorrect Amt Paid' reason,
ai.invoice_id,
ai.invoice_num,
ai.invoice_date,
ai.org_id,
ai.invoice_amount,
ai.amount_paid,
(
SELECT
ap_utilities_pkg.ap_round_currency(SUM(aid.amount) * nvl(ai.payment_cross_rate, 1), ai.payment_currency_code
)
FROM
ap_invoice_distributions_all aid,
ap_invoice_lines_all ail
WHERE
ail.invoice_id = ai.invoice_id
AND aid.invoice_id = ai.invoice_id
AND ail.line_number = aid.invoice_line_number
AND aid.prepay_distribution_id IS NOT NULL
AND nvl(ail.invoice_includes_prepay_flag, 'N') <> 'Y'
) prepay_amt,
(
SELECT
SUM(aip.amount)
FROM
ap_invoice_payments_all aip
WHERE
aip.invoice_id = ai.invoice_id
) pay_amt
FROM
invs,
ap_invoices_all ai
WHERE
ai.validation_request_id IS NULL
AND ai.cancelled_date IS NULL
AND ai.invoice_id = invs.invoice_id
) ap
WHERE
( nvl(ap.pay_amt, 0) - nvl(ap.prepay_amt, 0) ) <> nvl(ap.amount_paid, 0)
UNION ALL
SELECT
ap.invoice_id,
ap.org_id
FROM
(
SELECT /*+ ordered use_nl(ai) */
'Incorrect Amt Remaining' reason,
ai.invoice_id,
ai.invoice_num,
ai.invoice_date,
ai.org_id,
ai.invoice_amount,
ai.amount_paid,
nvl(ai.discount_amount_taken, 0) disc_amt,
nvl(ai.payment_cross_rate, 1) payment_cross_rate,
(
SELECT
ap_utilities_pkg.ap_round_currency(SUM(ail.amount) * nvl(ai.payment_cross_rate, 1), ai.payment_currency_code
)
FROM
ap_invoice_lines_all ail
WHERE
ail.invoice_id = ai.invoice_id
AND ail.line_type_lookup_code = 'AWT'
) awt_amt,
(
SELECT
ap_utilities_pkg.ap_round_currency(SUM(ail.retained_amount) * nvl(ai.payment_cross_rate, 1), ai.payment_currency_code
)
FROM
ap_invoice_lines_all ail
WHERE
ail.invoice_id = ai.invoice_id
AND nvl(ai.net_of_retainage_flag, 'N') <> 'Y'
) retained_amt,
(
SELECT
ap_utilities_pkg.ap_round_currency(SUM(aid.amount) * nvl(ai.payment_cross_rate, 1), ai.payment_currency_code
)
FROM
ap_invoice_distributions_all aid,
ap_invoice_lines_all ail
WHERE
ail.invoice_id = ai.invoice_id
AND aid.invoice_id = ai.invoice_id
AND ail.line_number = aid.invoice_line_number
AND aid.prepay_distribution_id IS NOT NULL
AND nvl(ail.invoice_includes_prepay_flag, 'N') <> 'Y'
) prepay_amt,
(
SELECT
SUM(aip.amount)
FROM
ap_invoice_payments_all aip
WHERE
aip.invoice_id = ai.invoice_id
) pay_amt,
(
SELECT /*+ no_unnest */
SUM(nvl(amount_remaining, 0))
FROM
ap_payment_schedules_all aps
WHERE
aps.invoice_id = ai.invoice_id
) amount_remain
FROM
invs,
ap_invoices_all ai
WHERE
ai.validation_request_id IS NULL
AND ai.cancelled_date IS NULL
AND ai.invoice_id = invs.invoice_id
) ap
WHERE
( ( ( ap.invoice_amount * ap.payment_cross_rate ) - disc_amt + nvl(ap.awt_amt, 0) + nvl(ap.retained_amt, 0) ) - ( nvl
(ap.pay_amt, 0) - nvl(ap.prepay_amt, 0) ) ) <> ap.amount_remain
UNION ALL
SELECT
ai.invoice_id,
ai.org_id
FROM
invs,
ap_invoices_all ai,
ap_payment_schedules_all ap
WHERE
ap.amount_remaining IS NULL
AND ap.invoice_id = ai.invoice_id
AND ap.checkrun_id IS NULL
AND ai.invoice_id = invs.invoice_id
UNION ALL
SELECT /*+ no_query_transformation */
ap.invoice_id,
ap.org_id
FROM
(
SELECT /*+ ordered use_nl(ai, aps1) */
'Fully paid but Payment_status_flag not Y' reason,
ai.invoice_id,
ai.invoice_num,
ai.invoice_date,
ai.org_id,
ai.invoice_amount,
ai.amount_paid,
(
SELECT
ap_utilities_pkg.ap_round_currency(SUM(aid.amount) * nvl(ai.payment_cross_rate, 1), ai.payment_currency_code
)
FROM
ap_invoice_distributions_all aid,
ap_invoice_lines_all ail
WHERE
ail.invoice_id = ai.invoice_id
AND aid.invoice_id = ai.invoice_id
AND ail.line_number = aid.invoice_line_number
AND aid.prepay_distribution_id IS NOT NULL
AND nvl(ail.invoice_includes_prepay_flag, 'N') <> 'Y'
) prepay_amt,
(
SELECT
SUM(aip.amount)
FROM
ap_invoice_payments_all aip
WHERE
aip.invoice_id = ai.invoice_id
) pay_amt,
(
SELECT
SUM(aps.amount_remaining)
FROM
ap_payment_schedules_all aps
WHERE
aps.invoice_id = ai.invoice_id
) amount_remain
FROM
invs,
ap_invoices_all ai,
ap_payment_schedules_all aps1
WHERE
ai.invoice_id = invs.invoice_id
AND aps1.invoice_id = ai.invoice_id
AND ( ai.payment_status_flag <> 'Y'
OR aps1.payment_status_flag <> 'Y' )
AND ai.cancelled_date IS NULL
AND ai.validation_request_id IS NULL
AND aps1.checkrun_id IS NULL
) ap
WHERE
nvl(ap.pay_amt, 0) - nvl(ap.prepay_amt, 0) = nvl(ap.amount_paid, 0)
AND ap.amount_paid <> 0
AND ap.amount_remain = 0
UNION ALL
SELECT
ap.invoice_id,
ap.org_id
FROM
(
SELECT
'Inv unpaid but Payment_status_flag not N' reason,
ai.invoice_id,
ai.invoice_num,
ai.invoice_date,
ai.org_id,
ai.invoice_amount,
ai.amount_paid
FROM
invs,
ap_invoices_all ai,
ap_payment_schedules_all aps
WHERE
ai.invoice_id = aps.invoice_id
AND ( nvl(ai.payment_status_flag, 'N') <> 'N'
OR nvl(aps.payment_status_flag, 'N') <> 'N' )
AND ai.cancelled_date IS NULL
AND aps.amount_remaining <> 0
AND ai.validation_request_id IS NULL
AND aps.checkrun_id IS NULL
AND ai.invoice_id = invs.invoice_id
) ap
WHERE
nvl(ap.amount_paid, 0) = 0
UNION ALL
SELECT
ai.invoice_id,
ap.org_id
FROM
invs,
ap_invoices_all ai,
ap_payment_schedules_all ap
WHERE
( ap.payment_status_flag IS NULL
OR ai.payment_status_flag IS NULL )
AND ai.validation_request_id IS NULL
AND ap.invoice_id = ai.invoice_id
AND ap.checkrun_id IS NULL
AND ai.invoice_id = invs.invoice_id
UNION ALL
SELECT
ap.invoice_id,
ap.org_id
FROM
(
SELECT
'Wrong pay status flag for partial paid invoices' reason,
ai.invoice_id,
ai.invoice_num,
ai.invoice_date,
ai.org_id,
ai.invoice_amount,
ai.amount_paid,
nvl(ai.discount_amount_taken, 0) disc_amt,
(
SELECT
ap_utilities_pkg.ap_round_currency(SUM(aid.amount) * nvl(ai.payment_cross_rate, 1), ai.payment_currency_code
)
FROM
ap_invoice_distributions_all aid,
ap_invoice_lines_all ail
WHERE
ail.invoice_id = ai.invoice_id
AND aid.invoice_id = ai.invoice_id
AND ail.line_number = aid.invoice_line_number
AND aid.prepay_distribution_id IS NOT NULL
AND nvl(ail.invoice_includes_prepay_flag, 'N') <> 'Y'
) prepay_amt,
(
SELECT
SUM(aip.amount)
FROM
ap_invoice_payments_all aip
WHERE
aip.invoice_id = ai.invoice_id
) pay_amt,
(
SELECT
SUM(aps.amount_remaining)
FROM
ap_payment_schedules_all aps
WHERE
aps.invoice_id = ai.invoice_id
) amount_remain
FROM
invs,
ap_invoices_all ai
WHERE
ai.payment_status_flag IN (
'N',
'Y'
)
AND ai.cancelled_date IS NULL
AND ai.validation_request_id IS NULL
AND ai.invoice_id = invs.invoice_id
) ap
WHERE
nvl(ap.amount_remain, 0) <> 0
AND nvl(ap.amount_paid, 0) <> 0
AND ( nvl(ap.prepay_amt, 0) <> 0
OR nvl(ap.pay_amt, 0) <> 0 )
UNION ALL
SELECT
ap.invoice_id,
ap.org_id
FROM
(
SELECT
'Incorrect pay status flag for partial paid invoices' reason,
ai.invoice_id,
ai.invoice_num,
ai.invoice_date,
aps.org_id,
aps.payment_num,
aps.amount_remaining,
aps.gross_amount,
aps.payment_status_flag,
(
SELECT
ap_utilities_pkg.ap_round_currency(SUM(aid.amount) * nvl(ai.payment_cross_rate, 1), ai.payment_currency_code
)
FROM
ap_invoice_distributions_all aid
WHERE
aid.invoice_id = ai.invoice_id
AND aid.line_type_lookup_code = 'AWT'
AND aid.awt_invoice_payment_id IS NULL
) inv_awt_amt,
(
SELECT
SUM(aps.gross_amount)
FROM
ap_payment_schedules_all aps
WHERE
aps.invoice_id = ai.invoice_id
) tot_gross_amt
FROM
invs,
ap_invoices_all ai,
ap_payment_schedules_all aps
WHERE
ai.invoice_id = aps.invoice_id
AND aps.amount_remaining <> 0
AND ai.cancelled_date IS NULL
AND ai.validation_request_id IS NULL
AND aps.checkrun_id IS NULL
AND nvl(ai.historical_flag, 'N') <> 'Y'
AND ai.invoice_id = invs.invoice_id
) ap
WHERE
ap.gross_amount <> 0
AND ap.tot_gross_amt <> 0
AND ap.payment_status_flag <> decode(nvl(ap.amount_remaining, 0), 0, 'Y',(ap.gross_amount +(nvl(ap.inv_awt_amt, 0) * nvl
(ap.gross_amount, 0) / nvl(ap.tot_gross_amt, 1))), 'N', 'P')
UNION ALL
SELECT
ai.invoice_id,
ai.org_id
FROM
invs,
ap_invoices_all ai
WHERE
ai.cancelled_date IS NOT NULL
AND ( nvl(ai.amount_paid, 0) <> 0
OR EXISTS (
SELECT
1
FROM
ap_payment_schedules_all aps
WHERE
aps.invoice_id = ai.invoice_id
AND amount_remaining <> 0
) )
AND ai.validation_request_id IS NULL
AND ai.invoice_id = invs.invoice_id
UNION ALL
SELECT
ai.invoice_id,
ai.org_id
FROM
invs,
ap_invoices ai
WHERE
ai.invoice_id = invs.invoice_id
AND ( ( ai.pay_curr_invoice_amount <> ap_utilities_pkg.ap_round_currency((ai.invoice_amount -(
CASE
WHEN nvl(ai.net_of_retainage_flag, 'N') = 'N' THEN
nvl(abs(ap_invoices_utility_pkg.get_retained_total(ai.invoice_id, ai.org_id)), 0)
ELSE
0
END
)) * ai.payment_cross_rate, ai.payment_currency_code) )
OR ( ai.pay_curr_invoice_amount <> (
SELECT
SUM(aps.gross_amount)
FROM
ap_payment_schedules_all aps
WHERE
aps.invoice_id = ai.invoice_id
) ) )
AND ai.historical_flag IS NULL
AND EXISTS (
SELECT
1
FROM
ap_payment_schedules_all aps
WHERE
aps.invoice_id = ai.invoice_id
HAVING
COUNT(aps.invoice_id) = 1
)
AND ai.cancelled_date IS NULL
AND ai.validation_request_id IS NULL
/*SPLIT_HERE*/
)
WHERE
ROWNUM < 11
ORDER BY
invoice_id",1174813.1,"Follow Doc ID 1174813.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice with incorrect data in payment schedules or payment fields.,Identified invoice(s) with incorrect payment or invoice data.,2,Oracle Payables,INVOICES,REPORTS,WEEK,SAT,P2P: Payables and Payments,"Incorrect payment schedules can result in overpayment to suppliers, or prevent suppliers from being fully paid.  The inconsistency will also affect accounting, which may report the invoices with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_UNACCOUNTED_EVENTS_W_EVENTDATESINCLOSEDPERIODS,"SELECT /*+ ordered use_nl(gps, xte, xe) */ ac.check_id check_id
FROM (
       SELECT DISTINCT ph.check_id
       FROM ap_payment_history_all ph
       WHERE ph.accounting_date BETWEEN
               (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
     ) chks,
     ap_checks_all ac,
     ap_system_parameters_all asp,
     gl_period_statuses gps,
     xla_transaction_entities_upg xte,
     xla_events xe
WHERE xe.application_id = 200
AND   xte.application_id = 200
AND   xe.entity_id = xte.entity_id
AND   xte.ledger_id = asp.set_of_books_id
AND   xe.event_status_code IN ('I','U')
AND   xe.process_status_code IN ('I','U','R')
AND   asp.org_id = ac.org_id
AND   gps.application_id = 200
AND   gps.set_of_books_id = asp.set_of_books_id
AND   trunc(xe.event_date) between gps.start_date and gps.end_date
AND   gps.closing_status not in ('O','F')
AND   nvl(gps.adjustment_period_flag, 'N') = 'N'
AND   xte.entity_code = 'AP_PAYMENTS'
AND   ac.check_id = nvl(xte.source_id_int_1, -99)
AND   ac.check_id = chks.check_id
AND   rownum < 11
order by check_id", 875012.1,"Follow Doc ID 875012.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Unaccounted accounting event having event date in closed period.,Check with unaccounted payment accounting event having event date in closed period.,2,Oracle Payables,ACCOUNTING,ACCPAY,WEEK,SAT,Accounting to Financial Reports: Period Close,Transactions having events created in closed periods will result in errors during the accounting process.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PAYMENTS_W_MISSING_REFERENCES,"SELECT /*+ ordered use_nl(aip, ai) */ ac.check_id check_id
FROM (
       SELECT DISTINCT ph.check_id
       FROM ap_payment_history_all ph
       WHERE ph.accounting_date BETWEEN
               (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
     ) chks,
     ap_invoice_payments_all aip,
     ap_invoices_all ai,
     all_sequences seq,
     ap_checks_all ac,
     ap_payment_history_all aph2
WHERE ai.invoice_id = aip.invoice_id
AND   ai.org_id = aip.org_id
AND   nvl(aip.reversal_flag,'N') <> 'Y'
AND   NOT EXISTS (
        SELECT 1 FROM ap_checks_all ac1
        WHERE ac1.check_id = aip.check_id)
AND   ac.status_lookup_code NOT IN ('OVERFLOW','SET UP','SPOILED')
AND   nvl(aph2.historical_flag,'N') <> 'Y'
AND   ac.check_id = aph2.check_id(+)
AND   ac.org_id = aip.org_id
AND   ac.vendor_id = ai.vendor_id
AND   ac.vendor_site_id = ai.vendor_site_id
AND   NOT EXISTS (
        SELECT /*+ no_unnest */ 1 FROM ap_invoice_payments_all aip1
        WHERE ac.check_id = aip1.check_id)
AND   ac.creation_date > (
        SELECT MIN(creation_date) FROM ad_bugs
        WHERE aru_release_name = 'R12')
AND   seq.sequence_name = 'AP_CHECKS_S'
AND   seq.sequence_owner = 'AP'
AND   ac.check_id BETWEEN (aip.check_id - (seq.cache_size + 1)) AND
                          (aip.check_id + (seq.cache_size + 1))
AND   aip.check_id = chks.check_id
AND   rownum < 11
order by check_id",2115968.1,"Follow the data fix instructions provided in Doc ID 2115968.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Check(s) with Missing/Incorrect References Detected.,"Check data has been identified that has invalid/missing references between the AP invoice, AP payment and IBY payment tables.",2,Oracle Payables,PAYMENTS,PAYEKB,WEEK,SAT,Accounting to Financial Reports: Period Close,Checks without valid invoice references cannot be voided or accounted. Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PREPAYMENT_EVENT_NOTGETTINGACCOUNTED,"SELECT /*+ ordered use_nl(aid ppd) no_merge(iview) */ ai.invoice_id invoice_id
FROM ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3) ) invs, ap_invoices_all ai, ap_invoice_lines_all ail, ap_invoice_distributions_all aid, ap_invoice_distributions_all ppd, ap_invoices_all ai_prepay, xla_events xe 
WHERE xe.application_id = 200 AND   xe.event_id = aid.accounting_event_id AND   aid.invoice_line_number = ail.line_number 
AND   aid.invoice_id = ail.invoice_id AND   ail.invoice_id = ai.invoice_id 
AND   aid.prepay_distribution_id = ppd.invoice_distribution_id AND   ppd.invoice_id = ai_prepay.invoice_id 
AND   aid.posted_flag <> 'Y' AND   xe.event_status_code <> 'P' 
AND   NOT EXISTS ( SELECT 1 FROM ap_invoice_payments_all aip WHERE aip.invoice_id = ai_prepay.invoice_id 
AND   nvl(aip.reversal_flag, 'N') <> 'Y') AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id",1284158.1,"Follow Doc ID 1284158.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Prepayment apply/unapply Event not getting Accounted.,If all payments for a Prepayment Invoice are Voided then the Prepayment Apply or Unapply events corresponding to the Prepay Invoice do not get accounted.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Voiding all payments on prepayments will prevent accounting on affected transactions from being processed.  Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PREPAYMENT_INCORRECTLY_ACCOUNTED,"SELECT /*+ ordered use_nl(ai xte xe xah apph) */ ai.invoice_id invoice_id
FROM ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3) ) invs, ap_invoices_all ai, xla_transaction_entities_upg xte, xla_events xe, xla_ae_headers xah, 
ap_prepay_history_all apph 
WHERE xe.application_id = 200 AND   xah.application_id = 200 AND   xte.application_id = 200 
AND   xte.entity_code = 'AP_INVOICES' AND   xe.entity_id = xte.entity_id AND   xe.event_id = xah.event_id 
AND   xe.event_type_code IN ('PREPAYMENT APPLIED','PREPAYMENT UNAPPLIED') AND   nvl(xe.budgetary_control_flag,'N') = 'N' 
AND   abs(ap_acctg_data_fix_pkg.GET_NET_PREPAY_APP(xe.event_id) - ap_acctg_data_fix_pkg.GET_NET_PREPAY_ACCT(xe.event_id, xah.ledger_id) - ap_acctg_data_fix_pkg.GET_NET_ADJ_ACCT(xe.event_id, xah.ledger_id)) > .01 
AND   xe.event_status_code = 'P' AND   xah.upg_batch_id is null AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id 
AND   xte.ledger_id = ai.set_of_books_id AND   xah.event_id = apph.accounting_event_id 
AND   NOT EXISTS ( SELECT /*+ no_unnest */ 1 FROM ap_prepay_history_all apph2 
WHERE apph2.invoice_id = ai.invoice_id AND   apph2.related_prepay_app_event_id = xe.event_id 
AND   apph2.transaction_type = 'PREPAYMENT APPLICATION ADJ' AND   apph2.posted_flag <> 'Y') 
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id", 1349591.1,"Follow the data fix instructions provided in Doc ID 1349591.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Prepayment event incorrectly accounted.,Prepay application event are incorrectly accounted because the net amount of prepay applied on the Invoice does not match the net prepaid expense credited.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Reporting,"Prepayments will have incorrect accounting entries created, which may report the invoices with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVALIDAADS,"SELECT
    l.ledger_id ledger_id
FROM
    ap_system_parameters_all   sp,
    gl_ledgers                 l,
    xla_acctg_methods_vl am,
    xla_acctg_method_rules     aad,
    xla_product_rules_vl       pr,
    dba_objects                o WHERE o.owner = 'APPS'
    AND o.object_type = 'PACKAGE BODY' AND o.object_name LIKE 'XLA_00200_AAD%'
                           || pr.product_rule_hash_id|| '%PKG'
    AND o.status = 'INVALID'
    AND l.ledger_id = sp.set_of_books_id AND am.accounting_method_type_code = l.sla_accounting_method_type
    AND am.accounting_method_code = l.sla_accounting_method_code AND aad.application_id = 200
    AND aad.accounting_method_code = am.accounting_method_code
    AND aad.accounting_method_type_code = am.accounting_method_type_code AND pr.application_id = aad.application_id
    AND pr.amb_context_code = aad.amb_context_code
    AND pr.product_rule_type_code = aad.product_rule_type_code
    AND pr.product_rule_code = aad.product_rule_code 
    AND rownum < 6
    ORDER BY
    l.ledger_id",1406203.1,Run the Validate Application Accounting definition program to validate the AAD.  Review the report output and investigate/resolve any invalids.  See Doc ID 601318.1 / 1406203.1 for details on running and investigating/resolving invalid AAD errors.,SQLAP,Application Accounting Definitions (AAD) found with invalid status.,A patch application or Subledger setup change has caused Application Accounting Definitions (AAD) to become invalid.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,"All unaccounted transactions using the affected Application Accounting Definitions (AAD) will not processed, resulting in errors during the accounting process. A valid Payables AAD is required to create Payables accounting for a ledger.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ACCOUNTINGEVENTS_MARKEDASINCOMPLETE,"SELECT ac.check_id check_id
FROM xla_events xe, xla_transaction_entities_upg xte, ap_checks_all ac, ap_system_parameters_all asp, 
( SELECT DISTINCT ph.check_id FROM ap_payment_history_all ph WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3) ) chks WHERE xte.entity_id = xe.entity_id AND   xte.application_id = 200 
AND   xe.application_id = 200 AND   xe.event_status_code = 'I' AND   xte.entity_code = 'AP_PAYMENTS' 
AND   NOT EXISTS ( SELECT 1 FROM ap_holds_all AH WHERE invoice_id 
IN ( SELECT invoice_id FROM ap_invoice_payments_all aip WHERE aip.check_id = xte.source_id_int_1 
AND   ah.release_lookup_code is null AND   xte.entity_code = 'AP_PAYMENTS')) 
AND   NOT EXISTS ( SELECT 1 FROM ap_payment_history_all aph, ap_system_parameters_all asp 
WHERE asp.org_id = aph.org_id AND   aph.pmt_currency_code <> asp.base_currency_code 
AND   aph.pmt_to_base_xrate is null AND   aph.check_id = xte.source_id_int_1 
AND   xte.entity_code = 'AP_PAYMENTS') AND   xte.ledger_id = asp.set_of_books_id 
AND asp.org_id = ac.org_id AND nvl(xte.source_id_int_1, -99) = ac.check_id AND   ac.check_id = chks.check_id
AND   rownum < 11
order by check_id",742429.1,"Follow Doc ID 742429.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Payment accounting event(s) with incorrect accounting hold status.,"Payment accounting event(s) with incorrect accounting hold status.  All holds are released, distributions validated, exchange rate data popoulated.",2,Oracle Payables,ACCOUNTING,ACCPAY,WEEK,SAT,Accounting to Financial Reports: Period Close,Incorrect accounting holds will prevent accounting on affected transactions from being processed.  Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_AMOUNTS_OUTOFSYNCH_BETWEEN_AP_EBTAX,"SELECT ai.invoice_id invoice_id
FROM ap_invoice_distributions_all aid, zx_rec_nrec_dist zd, ap_invoices_all ai, 
( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all 
WHERE accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3) ) invs WHERE aid.invoice_id = ai.invoice_id 
AND   aid.invoice_id = zd.trx_id AND   aid.detail_tax_dist_id = zd.rec_nrec_tax_dist_id 
AND   zd.application_id = 200 AND   zd.entity_code = 'AP_INVOICES' 
AND   nvl(aid.historical_flag, 'N') = 'N' 
AND   zd.event_class_code IN ('STANDARD INVOICES', 'EXPENSE REPORTS', 'PREPAYMENT INVOICES') 
AND   aid.line_type_lookup_code IN ('REC_TAX', 'NONREC_TAX') 
AND   (nvl(aid.amount,-999999999) <> zd.rec_nrec_tax_amt OR nvl(aid.base_amount,-999999999) <> zd.rec_nrec_tax_amt_funcl_curr) 
AND   NOT EXISTS ( SELECT 1 FROM ap_invoice_distributions_all aidv 
WHERE aid.detail_tax_dist_id = aidv.detail_tax_dist_id AND aid.line_type_lookup_code = 'NONREC_TAX' AND aidv.line_type_lookup_code 
IN ('TERV', 'TIPV', 'TRV')) AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id",1322630.1,"Follow Doc ID 1322630.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Amounts or base amounts are out of synch between Payables and EBtax.,Invoice tax distributions amounts not in sync with E-Business Tax distributions.,2,Oracle Payables,INVOICES,HOLD,WEEK,SAT,P2P: Taxation,"Incorrect amounts inconsistencies between Payables and E-Business Tax will cause incorrect accounting entries created, which may report the invoices with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_MISSING_XDL_MIGRATED_PAYMENTS,"SELECT ac.check_id check_id
FROM xla_events xe, xla_transaction_entities_upg xte, ap_checks_all ac, gl_period_statuses upg, ap_system_parameters_all asp, xla_ae_headers xah, xla_ae_lines xal, ( 
  SELECT DISTINCT ph.check_id FROM ap_payment_history_all ph 
  WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3) ) chks 
WHERE xe.application_id = 200 AND   xe.event_status_code = 'P' 
AND   xe.upg_batch_id is not null AND   xe.upg_batch_id <> - 9999 
AND   xah.application_id = 200 AND   xal.application_id = 200 
AND   xah.event_id = xe.event_id AND   xah.ae_header_id = xal.ae_header_id 
AND   xah.upg_batch_id is not null AND   xte.application_id = 200 
AND   xte.ledger_id = xah.ledger_id AND   xte.entity_code = 'AP_PAYMENTS' 
AND   xte.entity_id = xe.entity_id AND   ac.check_id = nvl(xte.source_id_int_1,-99) 
AND   upg.application_id = xte.application_id AND   upg.ledger_id = xte.ledger_id 
AND   upg.set_of_books_id = asp.set_of_books_id AND   asp.set_of_books_id = xte.ledger_id 
AND   asp.org_id = ac.org_id 
AND   ac.check_date BETWEEN upg.start_date AND upg.end_date 
AND   upg.migration_status_code = 'U' AND   upg.closing_status in ('O' ,'C','P') 
AND   trunc(upg.start_date) < ( 
  SELECT min(trunc(creation_date)) FROM ad_applied_patches 
  WHERE patch_type = 'MAINTENANCE-PACK' AND   maint_pack_level LIKE '12.%')
  AND   EXISTS ( 
     SELECT 1 FROM ap_invoice_payments_all aip 
     WHERE aip.check_id = ac.check_id) 
  AND   NOT EXISTS (
    SELECT 1 FROM xla_distribution_links xdl 
    WHERE xdl.application_id = 200 AND   xdl.ae_header_id = xah.ae_header_id 
    AND   xdl.ae_line_num = xal.ae_line_num) AND   ac.check_id = chks.check_id
AND rownum  < 11
order by check_id", 1054299.1,"Follow Doc ID 1054299.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Upgraded payment(s) with missing records in XLA_DISTRIBUTION_LINKS.,SLA Hot Patch failed to populate the XLA distribution links for some transactions due to which the accounting for the downstream event fails.,2,Oracle Payables,ACCOUNTING,ACCTREPORTS,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing accounting details from upgraded transactions cause accounting errors on new downstream events. Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_REISSUED_PMT_ACCOUNTED_INCORRECTLY,"select check_id check_id from 
(WITH ctrl AS (SELECT DISTINCT aip.check_id FROM 
(SELECT DISTINCT ph.check_id
FROM ap_payment_history_all ph
WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)) chks,
ap_invoice_payments_all aip,
ap_invoice_payments_all aip2,
ap_checks_all ac1
WHERE ac1.void_date is not null
AND ac1.status_lookup_code = 'VOIDED'
AND ac1.check_id = aip2.check_id
AND aip.check_id != aip2.check_id
AND aip2.invoice_id = aip.invoice_id
AND aip.check_id = chks.check_id
)
SELECT /*+ ordered use_nl(ac, aph, xe, xh, xl) */
ac.check_id
FROM ctrl,
ap_checks_all ac,
ap_payment_history_all aph,
xla_events xe,
xla_ae_headers xh,
xla_ae_lines xl,
ap_system_parameters_all asp
WHERE xl.application_id = 200
AND aph.check_id = ac.check_id
AND ac.check_id = ctrl.check_id
AND ac.void_date is null
AND EXISTS (
SELECT 1 FROM ap_invoice_payments_all aip
WHERE aip.check_id = ac.check_id
GROUP BY aip.check_id
HAVING sum(aip.amount) = ac.amount)
AND aph.accounting_event_id = xe.event_id
AND aph.posted_flag = 'Y'
AND xe.event_id = xh.event_id
AND xh.upg_batch_id is null
AND xe.event_type_code IN('PAYMENT CREATED', 'REFUND RECORDED',
'PAYMENT CLEARED')
AND xe.event_status_code = 'P'
AND xe.application_id = 200
AND xh.application_id = 200
AND xh.ledger_id = asp.set_of_books_id
AND xh.ae_header_id = xl.ae_header_id
AND asp.org_id = ac.org_id
AND xl.accounting_class_code IN('CASH_CLEARING', 'CASH',
'FUTURE_DATED_PMT')
AND decode(xe.event_type_code,
'PAYMENT CLEARED',xl.accounting_class_code,
'YES') != 'CASH'
GROUP BY ac.org_id, ac.check_id, ac.check_date, ac.check_number,
ac.amount, xe.event_id, xe.event_type_code
HAVING abs(abs(sum(nvl(entered_cr,0)) -
sum(nvl(entered_dr,0)) ) - abs(ac.amount)) > 1
UNION ALL
SELECT /*+ ordered use_nl(ac, aph, aphd, xh) */
ac.check_id
FROM ctrl,
ap_checks_all ac,
ap_payment_history_all aph,
ap_payment_hist_dists aphd,
xla_ae_headers xh,
ap_system_parameters_all asp
WHERE ac.amount <> 0
AND aph.check_id = ac.check_id
AND ac.check_id = ctrl.check_id
AND ac.void_date is null
AND asp.org_id = ac.org_id
AND aphd.accounting_event_id = aph.accounting_event_id
AND aphd.accounting_event_id = xh.event_id
AND xh.application_id = 200
AND xh.upg_batch_id is null
AND aphd.pay_dist_lookup_code IN( 'CASH', 'FINAL PAYMENT ROUNDING')
AND aph.transaction_type IN ('PAYMENT CREATED','REFUND RECORDED')
AND aph.posted_flag = 'Y'
GROUP BY ac.org_id, ac.check_id, ac.check_date,
ac.check_number, ac.amount, aph.accounting_event_id,
aph.transaction_type
HAVING SUM(aphd.invoice_dist_base_amount) = 0)
where rownum < 11
order by check_id",1118703.1,"Follow Doc ID 1118703.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Reissued Check Accounted Incorrectly.,Payment Created and Payment Cleared events created for reissued checks are accounted with incorrect amounts/huge rounding lines.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Reporting,Affected payments will have incorrect accounting entries created.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PAYMENTS_POSTINGSTATUSOUTOFSYNCH_W_ACCTGEVENTS,"SELECT distinct check_id check_id
FROM (WITH chks AS ( SELECT /*+ materialize */ DISTINCT ph.check_id FROM ap_payment_history_all ph 
WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3) ) 
SELECT ac.check_id, ac.check_number, ac.org_id, 'AP_INVOICE_PAYMENTS_ALL' trx_table, aip.invoice_payment_id trx_id, 
aip.posted_flag, aip.accrual_posted_flag, aip.cash_posted_flag, xe.event_id, xte.ledger_id ledger_id FROM chks, ap_checks_all ac, 
ap_invoice_payments_all aip, xla_events xe, xla_transaction_entities_upg xte, gl_ledgers gl WHERE (aip.posted_flag = 'N' 
OR (aip.accrual_posted_flag = 'N' AND nvl(gl.sla_ledger_cash_basis_flag, 'N') <> 'Y')) AND   aip.set_of_books_id = gl.ledger_id 
AND   xe.process_status_code = 'P' AND   xe.event_status_code IN ('N','P') AND   ac.check_id = aip.check_id 
AND   xe.event_id = aip.accounting_event_id AND   xte.security_id_int_1 = ac.org_id AND   xe.entity_id = xte.entity_id 
AND   xe.application_id = xte.application_id AND   xe.application_id = 200 AND   ac.check_id = chks.check_id 
UNION ALL SELECT ac.check_id, ac.check_number, ac.org_id, 'AP_PAYMENT_HISTORY_ALL' trx_table, 
aph.payment_history_id trx_id, aph.posted_flag, null, null, xe.event_id, xte.ledger_id ledger_id 
FROM chks, ap_checks_all ac, ap_payment_history_all aph, xla_events xe, xla_transaction_entities_upg xte 
WHERE aph.posted_flag <> 'Y' AND   xe.process_status_code = 'P' AND   xe.event_status_code IN ('N','P') 
AND   xte.security_id_int_1 = aph.org_id AND   xe.event_id = aph.accounting_event_id AND   ac.check_id = aph.check_id 
AND   xe.entity_id = xte.entity_id AND   xe.application_id = 200 AND   xte.application_id = 200 
AND   ac.check_id = chks.check_id AND rownum < 11)
order by check_id",1071876.1,"Follow Doc ID 1071876.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Posted Flags are Incorrect for Accounted Payments.,Transaction posted flags is not updated properly though the accounting is perfect.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Transactions may show an unaccounted status despite having correct accounting entries. Any transactions affected by the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ACCOUNTINGEVENTS_INCOMPLETE_HOLDS,"SELECT
    ai.invoice_id invoice_id
FROM
    xla_events                     xe,
    xla_transaction_entities_upg   xte,
    ap_invoices_all                ai,
    (
        SELECT DISTINCT
            invoice_id
        FROM
            ap_invoice_distributions_all
        WHERE
            accounting_date BETWEEN ( trunc(sysdate) - 7 ) AND ( trunc(sysdate) + 3 )
    ) invs
WHERE
    xte.entity_id = xe.entity_id
    AND xte.application_id = 200
    AND xe.application_id = 200
    AND xe.event_status_code = 'I'
    AND xte.entity_code = 'AP_INVOICES'
    AND xte.ledger_id = ai.set_of_books_id
    AND NOT EXISTS (
        SELECT
            1
        FROM
            ap_holds_all ah
        WHERE
            ah.invoice_id = xte.source_id_int_1
            AND xte.entity_code = 'AP_INVOICES'
            AND ah.release_lookup_code IS NULL
    )
    
    AND NOT EXISTS (
           SELECT 1
           FROM ap_invoice_distributions_all aid,
                financials_system_params_all fsp
           WHERE aid.invoice_id = nvl(xte.source_id_int_1, -99)
           AND   xte.entity_code = 'AP_INVOICES'
           AND   xte.ledger_id = aid.set_of_books_id
           AND   aid.org_id = fsp.org_id
           AND   aid.set_of_books_id = fsp.set_of_books_id
           AND   ((nvl(fsp.purch_encumbrance_flag,'N') = 'N' AND
                   aid.match_status_flag NOT IN ('T','A')) OR
                  (nvl(fsp.purch_encumbrance_flag,'N') = 'Y' AND
                   aid.match_Status_flag != 'A')))
    AND nvl(xte.source_id_int_1, - 99) = ai.invoice_id
    AND ai.invoice_id = invs.invoice_id
    AND ROWNUM < 11
ORDER BY
    invoice_id", 742429.1,"Follow Doc ID 742429.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice accounting event(s) with incorrect accounting hold status.,"Invoice accounting event(s) with incorrect accounting hold status.  All holds are released, distributions validated, exchange rate data popoulated.",2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Incorrect accounting holds will prevent accounting on affected transactions from being processed.  Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICES_POSTINGSTATUSOUTOFSYNCH_W_ACCTGEVENTS,"select invoice_id invoice_id from (WITH invs AS (
  SELECT /*+ materialize */ DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
)
     SELECT ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_distributions_all aid,
          xla_events xe,
          gl_ledgers gl
     WHERE (aid.posted_flag = 'N' OR
            (aid.accrual_posted_flag = 'N' AND
             nvl(gl.sla_ledger_cash_basis_flag, 'N') <> 'Y'))
     AND   ai.set_of_books_id = gl.ledger_id
     AND   xe.process_status_code = 'P'
     AND   xe.event_status_code   IN ('N','P')
     AND   ai.invoice_id = aid.invoice_id
     AND   xe.event_id = aid.accounting_event_id
     AND   xe.application_id = 200
     AND   ai.invoice_id = invs.invoice_id
     AND   rownum < 11
     UNION ALL
     SELECT ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_self_assessed_tax_dist_all astd,
          xla_events xe,
          gl_ledgers gl
     WHERE (astd.posted_flag = 'N' OR
            (astd.accrual_posted_flag = 'N' AND
             nvl(gl.sla_ledger_cash_basis_flag, 'N') <> 'Y'))
     AND   ai.set_of_books_id = gl.ledger_id
     AND   xe.process_status_code = 'P'
     AND   xe.event_status_code   IN ('N','P')
     AND   ai.invoice_id = astd.invoice_id
     AND   xe.event_id = astd.accounting_event_id
     AND   xe.application_id = 200
     AND   ai.invoice_id = invs.invoice_id
     AND   rownum < 11
     UNION ALL
     SELECT ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_prepay_history_all aph,
          xla_events xe,
          xla_transaction_entities_upg xte
     WHERE posted_flag = 'N'
     AND   process_status_code = 'P'
     AND   xe.event_status_code   IN ('N','P')
     AND   ai.invoice_id = aph.prepay_invoice_id
     AND   xte.security_id_int_1 = aph.org_id
     AND   xe.event_id = aph.accounting_event_id
     AND   xe.entity_id = xte.entity_id
     AND   xe.application_id = xte.application_id
     AND   xte.application_id = 200
     AND   ai.invoice_id = invs.invoice_id
     AND   rownum < 11)
order by invoice_id",1071876.1,"Follow Doc ID 1071876.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Posted Flags are Incorrect for Accounted Invoices.,The transactions posted flags are not updated properly though the accounting is successful.,2,Oracle Payables,TAXMODULE,WITHHOLDING,WEEK,SAT,Accounting to Financial Reports: Period Close,Transactions may show an unaccounted status despite having correct accounting entries. Any transactions affected by the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_VOIDEDCHECKS_INCORRECT_STATUSES,"SELECT ac.check_id check_id
FROM ap_checks_all ac, ap_payment_history_all aph, ap_invoice_payments_all aip, 
( SELECT DISTINCT ph.check_id FROM ap_payment_history_all ph WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3) ) chks 
WHERE ac.status_lookup_code NOT IN ('VOIDED','OVERFLOW') 
AND   ac.check_id = aph.check_id 
AND   aph.transaction_type =  decode(ac.payment_type_flag, 'R', 'REFUND CANCELLED', 'PAYMENT CANCELLED') 
AND   aip.accounting_event_id = aph.accounting_event_id 
AND   aip.check_id = ac.check_id 
AND   aip.reversal_inv_pmt_id IS NOT NULL 
AND   ac.check_id = chks.check_id
AND rownum < 11
order by check_id",1264221.1,"Follow the data fix instructions provided in Doc ID 1264221.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,LOW-IMPACT/INFREQUENT issues on checks detected.,Voided check with incorrect status.,2,Oracle Payables,PAYMENTS,PPRINV,WEEK,SAT,P2P: Payables and Payments,"Errors may occur in the creation/updates of payments, resulting in different corruption types leaving check with incorrect status. These can cause incorrect accounting entries or incorrect status in reports and the application.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_MISSING_LIABILITY_ACCT,"SELECT ai.invoice_id invoice_id
FROM ap_invoices_all ai,
(SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all 
WHERE accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3)) invs 
WHERE nvl(ai.accts_pay_code_combination_id,-1) = -1 
AND   ai.invoice_id = invs.invoice_id 
AND rownum < 2
order by invoice_id",1072747.1,"Follow Doc ID 1072747.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Accounting Fails Due to Missing Liability Account on Invoice Header.,Invoice with missing supplier liability account. These invoices cannot be accounted as the system cannot derive the liability account.,2,Oracle Payables,INVOICES,INVWKB,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing liability details on invoices will result in errors during the accounting process. Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PAYMENT_MULTIPLE_ENTITIES,"SELECT ac.check_id check_id
FROM xla_transaction_entities_upg xte2,
     xla_events xe2,
     ap_system_parameters_all asp,
     ap_checks_all ac,
     (
       SELECT DISTINCT ph.check_id
       FROM ap_payment_history_all ph
       WHERE ph.accounting_date BETWEEN
               (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
     ) chks
WHERE (xte2.application_id, xte2.ledger_id, xte2.entity_code,
       nvl(xte2.source_id_int_1, -99)) IN (
         SELECT xte.application_id ,
                   xte.ledger_id ,
                   xte.entity_code ,
                   xte.source_id_int_1
            FROM xla_transaction_entities_upg xte
            WHERE  xte.application_id =200
         AND    xte.ledger_id = asp.set_of_books_id
         AND    xte.entity_code = 'AP_PAYMENTS'
         AND    nvl(xte.source_id_int_1,-99) = ac.check_id
            GROUP BY xte.application_id, xte.source_id_int_1,
                  xte.entity_code , xte.ledger_id
            HAVING   count(1) > 1)
AND   xe2.application_id(+) = xte2.application_id
AND   xe2.entity_id(+) = xte2.entity_id
AND   asp.org_id = ac.org_id
AND   xte2.ledger_id = asp.set_of_books_id
AND   xte2.application_id = 200
AND   xte2.entity_code = 'AP_PAYMENTS'
AND   nvl(xte2.source_id_int_1, -99) = ac.check_id
AND   ac.check_id = chks.check_id
AND   rownum < 11
order by check_id",1133423.1,"Follow Doc ID 1133423.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Multiple Entities Created for Payment(s).,More than one entity_id exists for a single document.,2,Oracle Payables,ACCOUNTING,ACCTREPORTS,WEEK,SAT,Accounting to Financial Reports: Period Close,Payables transactions have multiple accounting entities created. Any unaccounted events resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_AWTDISTRIBUTIONS_MISSING_AWTRELATEDID,"select invoice_id invoice_id from 
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
     ),
     zero_amt_awt_no_nonrev_itm as (
       SELECT /*+ leading(invs) use_nl(aid) */
              aid.invoice_id,
              aid.invoice_line_number,
              aid.invoice_distribution_id,
              aid.amount,
              sum(aid.amount)
                over(partition by aid.invoice_id, aid.invoice_line_number)
                line_wise_sum,
              sum(aid.amount)
                over(partition by aid.invoice_id)
                inv_wise_sum
       FROM invs,
            ap_invoice_distributions_all aid
       WHERE aid.invoice_id = invs.invoice_id
       AND   aid.line_type_lookup_code = 'AWT'
       AND   aid.awt_related_id is null
       AND   aid.historical_flag = 'Y'
       AND   nvl(aid.reversal_flag, 'N') = 'N'
       AND   NOT EXISTS (
               SELECT 1 FROM ap_invoice_distributions_all aidx
               WHERE aidx.invoice_id = aid.invoice_id
               AND   aidx.line_type_lookup_code not in ('AWT','ERV','TERV')
               AND   aidx.prepay_distribution_id is null
               AND   nvl(aidx.reversal_flag, 'N') = 'N'
               AND   sign(aidx.amount) <> sign(aid.amount)
               AND   abs(aidx.amount) >= abs(aid.amount))
     ),
     invs2 AS (
       SELECT invoice_id
       FROM invs
       WHERE EXISTS (
               SELECT 1 FROM ap_invoice_distributions_all aid_sub
               WHERE aid_sub.invoice_id = invs.invoice_id
               AND   nvl(aid_sub.historical_flag,'N') = 'N'
               UNION ALL
               SELECT 1
               FROM ap_invoice_distributions_all aid_sub,
                    xla_events xe_sub,
                    ap_accounting_events_all aae_sub
               WHERE aid_sub.accounting_event_id = xe_sub.event_id
               AND   xe_sub.event_id = aae_sub.accounting_event_id
               AND   xe_sub.upg_batch_id = -9999
               AND   aid_sub.invoice_id = invs.invoice_id
               UNION ALL
               SELECT 1
               FROM ap_invoice_payments_all aip_sub,
                    ap_payment_history_all aph_sub,
                    xla_events xe_sub,
                    ap_accounting_events_all aae_sub
               WHERE  aip_sub.invoice_id = invs.invoice_id
               AND   aip_sub.check_id = aph_sub.check_id
               AND   aph_sub.accounting_event_id = xe_sub.event_id
               AND   xe_sub.application_id = 200
               AND   xe_sub.event_id = aae_sub.accounting_event_id
               AND   xe_sub.upg_batch_id = -9999
               UNION ALL
               SELECT 1
               FROM ap_invoice_distributions_all aid_sub,
                    xla_events xe_sub,
                    xla_ae_headers xah_sub
               WHERE aid_sub.invoice_id = invs.invoice_id
               AND   aid_sub.accounting_event_id = xe_sub.event_id
               AND   xe_sub.application_id = 200
               AND   xe_sub.event_id = xah_sub.event_id
               AND   xah_sub.application_id = 200
               AND   xah_sub.upg_batch_id  is null
               UNION ALL
               SELECT 1
               FROM ap_invoice_payments_all aip_sub,
                    ap_payment_history_all aph_sub,
                    xla_events xe_sub,
                    xla_ae_headers xah_sub
               WHERE aip_sub.invoice_id = invs.invoice_id
               AND   aip_sub.check_id = aph_sub.check_id
               AND   aph_sub.accounting_event_id = xe_sub.event_id
               AND   xe_sub.application_id = 200
               AND   xe_sub.event_id = xah_sub.event_id
               AND   xah_sub.application_id = 200
               AND   xah_sub.upg_batch_id is null)
     )
     SELECT /*+ ordered use_nl(aid) */
            aid.invoice_id
     FROM invs,
          ap_invoice_distributions_all aid
     WHERE aid.line_type_lookup_code ='AWT'
     AND   nvl(aid.historical_flag,'N') = 'N'
     AND   aid.awt_related_id is null
     AND   aid.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ ordered use_nl(ai, aid) */
            aid.invoice_id
     FROM invs2,
          ap_invoices_all ai,
          ap_invoice_distributions_all aid
     WHERE aid.line_type_lookup_code = 'AWT'
     AND   aid.historical_flag = 'Y'
     AND   aid.awt_related_id is null
     AND   ai.invoice_id = aid.invoice_id
     AND   ai.payment_status_flag IN ('N','P')
     AND   ai.historical_flag = 'Y'
     AND   ai.invoice_id = invs2.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai, aid) */
            aid.invoice_id
     FROM invs2,
          ap_invoices_all ai,
          ap_invoice_distributions_all aid
     WHERE ai.invoice_id = invs2.invoice_id
     AND   aid.line_type_lookup_code = 'AWT'
     AND   aid.historical_flag = 'Y'
     AND   aid.awt_related_id is null
     AND   ai.invoice_id = aid.invoice_id
     AND   ai.payment_status_flag = 'Y'
     AND   ai.historical_flag = 'Y'
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(aid) */
            aid.invoice_id
     FROM invs,
          ap_invoice_distributions_all aid
     WHERE aid.line_type_lookup_code = 'AWT'
     AND   nvl(aid.historical_flag,'N') = 'N'
     AND   aid.awt_related_id is not null
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aid_parent
             WHERE aid_parent.invoice_id = aid.invoice_id
             AND   aid.awt_related_id = aid_parent.invoice_distribution_id)
     AND   aid.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(aid, aid_erv) */
            aid.invoice_id
     FROM invs,
          ap_invoice_distributions_all aid,
          ap_invoice_distributions_all aid_erv
     WHERE aid.invoice_id = aid_erv.invoice_id
     AND   aid.awt_related_id = aid_erv.invoice_distribution_id
     AND   aid.line_type_lookup_code = 'AWT'
     AND   aid.awt_flag = 'A'
     AND   nvl(aid.historical_flag, 'N') = 'N'
     AND   aid_erv.line_type_lookup_code in ('TERV', 'ERV')
     AND   aid.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai, aid_awt, aid_item, xe_item) */
            aid_awt.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_distributions_all aid_awt,
          ap_invoice_distributions_all aid_item,
          xla_events xe_item,
          ap_system_parameters_all param
     WHERE aid_awt.line_type_lookup_code = 'AWT'
     AND   aid_item.invoice_distribution_id = aid_awt.awt_related_id
     AND   ai.invoice_id = aid_awt.invoice_id
     AND   ai.invoice_id = aid_item.invoice_id
     AND   xe_item.event_id = aid_item.accounting_event_id
     AND   xe_item.application_id = 200
     AND   (nvl(ai.payment_status_flag, 'N') <> 'Y' OR
            EXISTS (
              SELECT /*+ no_unnest ordered use_nl(aip, aph, xe) */ 1
              FROM ap_invoice_payments_all aip,
                   ap_payment_history_all aph,
                   xla_events xe
              WHERE aip.invoice_id = ai.invoice_id
              AND   aip.check_id = aph.check_id
              AND   xe.event_id = aph.accounting_event_id
              AND   xe.application_id = 200
              AND   (aph.posted_flag = 'N' OR
                     (aph.posted_flag = 'Y' AND
                      EXISTS (
                        SELECT 1 FROM xla_ae_headers xh
                        WHERE xh.event_id = xe.event_id
                        AND   xh.application_id = 200
                        AND   nvl(xh.upg_batch_id, -9999) = -9999)))))
     AND   xe_item.event_type_code like '%ADJUSTED'
     AND   ai.historical_flag = 'Y'
     AND   param.org_id = ai.org_id
     AND   aid_awt.parent_reversal_id is null
     AND   param.automatic_offsets_flag = 'N'
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aidx
             WHERE aidx.accounting_event_id = xe_item.event_id
             AND   aidx.invoice_id = aid_item.invoice_id
             HAVING sum(aidx.amount) = 0)
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai) */
            aid.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_distributions_all aid
     WHERE ai.invoice_id = invs.invoice_id
     AND   aid.invoice_id = ai.invoice_id
     AND   aid.line_type_lookup_code = 'AWT'
     AND   aid.awt_related_id is null
     AND   ai.cancelled_date is null
     AND   (aid.awt_flag = 'M' OR
            (aid.awt_flag = 'A' AND aid.historical_flag = 'Y'))
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aidx
             WHERE aidx.invoice_id = aid.invoice_id
             AND   aidx.line_type_lookup_code not in ('AWT','ERV','TERV')
             AND   aidx.prepay_distribution_id is null
             AND   abs(aidx.amount) >= abs(aid.amount))
     AND   (nvl(ai.payment_status_flag, 'N') <> 'Y' OR
            EXISTS (
              SELECT /*+ no_unnest */ 1
              FROM ap_invoice_payments_all aip,
                   ap_payment_history_all aph,
                   xla_events xe
              WHERE  aip.invoice_id = ai.invoice_id
              AND   aip.check_id = aph.check_id
              AND   xe.event_id = aph.accounting_event_id
              AND   xe.application_id = 200
              AND   (aph.posted_flag = 'N' OR
                     (aph.posted_flag = 'Y' AND
                      EXISTS (
                        SELECT 1 FROM xla_ae_headers xh
                        WHERE xh.event_id = xe.event_id
                        AND   xh.application_id = 200
                        AND   nvl(xh.upg_batch_id, -9999) = -9999)))))
     AND rownum < 11
     UNION
     SELECT aid.invoice_id
     FROM ap_invoice_distributions_all aid
     WHERE aid.invoice_distribution_id IN (
             SELECT invoice_distribution_id FROM zero_amt_awt_no_nonrev_itm
             WHERE (line_wise_sum = 0 OR
                    inv_wise_sum = 0))
    AND rownum < 11)
order by invoice_id", 1061563.1,"Follow the data fix instructions provided in Doc ID 1061563.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,AWT Distributions Missing OR Incorrect AWT_RELATED_ID.,AWT_RELATED_ID is NULL due to multiple different scenarios.,2,Oracle Payables,TAXMODULE,WITHHOLDING,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing or incorrect automatic withholding tax details on invoices will result in incorrect accounting entries created.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_UNACC_TRXNS_CLOSED_PERIOD,"SELECT /*+ ordered use_nl(ai, xte, xe) */ ai.invoice_id invoice_id
FROM ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3) ) invs, ap_invoices_all ai, xla_transaction_entities_upg xte, xla_events xe, ap_system_parameters_all asp, gl_period_statuses gps 
WHERE xe.application_id = 200 
AND   xte.application_id = 200 
AND   xe.entity_id = xte.entity_id 
AND   xte.entity_code = 'AP_INVOICES' 
AND   xte.ledger_id = ai.set_of_books_id 
AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id 
AND   xe.event_status_code IN ('I','U') 
AND   xe.process_status_code IN ('I','U','R') 
AND   xte.security_id_int_1 = asp.org_id 
AND   gps.application_id = 200 
AND   gps.set_of_books_id = asp.set_of_books_id 
AND   trunc(xe.event_date) between gps.start_date and gps.end_date 
AND   gps.closing_status not in ('O','F') 
AND   nvl(adjustment_period_flag, 'N') = 'N' 
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id",875012.1,"Follow Doc ID 875012.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Unaccounted invoice(s) accounting event having event date in closed period.,Unaccounted invoice accounting event having event date in closed period remain unprocessed.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Transactions having events created in closed periods will result in errors during the accounting process.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ORPHAN_CHECKS_NOT_PAYINGANYINVOICE,"SELECT ac.check_id check_id
FROM ap_checks_all ac, ap_payment_history_all aph, 
( SELECT DISTINCT ph.check_id FROM ap_payment_history_all ph WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) 
AND (trunc(sysdate) + 3) ) chks 
WHERE ac.check_id = chks.check_id
AND ac.payment_id is null 
AND   ac.status_lookup_code NOT IN ('OVERFLOW','SET UP','SPOILED') 
AND   ac.check_id = aph.check_id 
AND   nvl(aph.historical_flag,'N') <> 'Y' 
AND   aph.posted_flag <> 'Y' 
AND   NOT EXISTS 
( SELECT 1 FROM ap_invoice_payments_all aip WHERE aip.check_id = ac.check_id) 
AND   EXISTS  
( SELECT 1 FROM ap_invoice_payments_all aip1, ap_checks_all ac1 
WHERE aip1.check_id = ac1.check_id 
AND   ac.org_id = ac1.org_id 
AND   ((ac.vendor_id = ac1.vendor_id 
AND ac.vendor_site_id = ac1.vendor_site_id) 
OR ac.payment_document_id = ac1.payment_document_id) 
AND   Ac.check_number = ac1.check_number ) 
AND   ac.check_id = chks.check_id
AND   rownum < 11
order by check_id",2115968.1,"Follow the data fix instructions provided in Doc ID 2115968.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Orphan Checks another check exists with the same check number,Orphan checks not paying any invoice and where another check exists with the same check number.,2,Oracle Payables,PAYMENTS,PAYEKB,WEEK,SAT,P2P: Payables and Payments,Checks without valid invoice references cannot be voided or accounted. Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_MISSING_XDL_MIGRATED_INVOICES,"SELECT /*+ ordered use_nl(ai, xte, xe) */ ai.invoice_id invoice_id
FROM (
       SELECT DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
     ) invs,
     ap_invoices_all ai,
     ap_system_parameters_all asp,
     gl_period_statuses upg,
     xla_transaction_entities_upg xte,
     xla_events xe,
     xla_ae_headers xah,
     xla_ae_lines xal
WHERE xe.application_id = 200
AND   xe.event_status_code = 'P'
AND   xe.entity_id = xte.entity_id
AND   xe.upg_batch_id is not null
AND   xe.upg_batch_id <> - 9999
AND   xah.application_id = 200
AND   xal.application_id = 200
AND   xte.application_id = 200
AND   upg.application_id = 200
AND   xah.event_id = xe.event_id
AND   xah.ledger_id = xte.ledger_id
AND   xal.ae_header_id = xah.ae_header_id
AND   xah.upg_batch_id is not null
AND   xte.entity_code = 'AP_INVOICES'
AND   xte.ledger_id = upg.ledger_id
AND   nvl(xte.source_id_int_1,-99) = ai.invoice_id
AND   asp.set_of_books_id = xte.ledger_id
AND   upg.set_of_books_id = asp.set_of_books_id
AND   asp.org_id = ai.org_id
AND   ai.gl_date BETWEEN upg.start_date AND upg.end_date
AND   upg.migration_status_code = 'U'
AND   upg.closing_status in ('O','C','P')
AND   trunc(upg.start_date) < (
        SELECT min(trunc(creation_date)) FROM ad_applied_patches
        WHERE patch_type = 'MAINTENANCE-PACK'
        AND   maint_pack_level LIKE '12.%')
AND   EXISTS (
        SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aid
        WHERE aid.invoice_id = ai.invoice_id
        AND   aid.accounting_event_id = xe.event_id
        AND   aid.Historical_flag = 'Y')
AND   NOT EXISTS (
        SELECT /*+ no_unnest */ 1 FROM xla_distribution_links xdl
        WHERE xdl.application_id = 200
        AND   xdl.ae_header_id = xah.ae_header_id
        AND   xdl.ae_line_num = xal.ae_line_num)
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id",1054299.1,"Follow Doc ID 1054299.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Upgraded invoice(s) with missing records in XLA_DISTRIBUTION_LINKS.,SLA Hot Patch failed to populate the XLA distribution links for some transactions due to which the accounting for the downstream event fails.,2,Oracle Payables,ACCOUNTING,ACCTREPORTS,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing accounting details from upgraded transactions cause accounting errors on new downstream events. Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_COMMON_INVOICE_DATA_ISSUES,"select invoice_id invoice_id from 
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
     )
/*SPLIT_HERE*/
     SELECT /*+ ordered use_nl(ai, aid) */ aid.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_distributions_all aid,
          financials_system_params_all fsp
     WHERE ai.invoice_id = invs.invoice_id
     AND   aid.invoice_id = ai.invoice_id
     AND   aid.posted_flag = 'Y'
     AND   ai.org_id = fsp.org_id
     AND   ((nvl(fsp.purch_encumbrance_flag,'N') = 'N' AND
             aid.match_status_flag NOT IN ('T', 'A')) OR
            (nvl(fsp.purch_encumbrance_flag, 'N') = 'Y' AND
             aid.match_status_flag <> 'A'))
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM xla_events x
             WHERE x.application_id = 200
             AND   x.event_id = aid.accounting_event_id
             AND   x.event_status_code IN ('N', 'P')
             AND   x.process_status_code = 'P')
     AND rownum < 11
     UNION ALL
     SELECT /*+ordered use_nl(asa) */
            asa.invoice_id
     FROM invs,
          ap_self_assessed_tax_dist_all asa
     WHERE asa.invoice_id = invs.invoice_id
     AND   asa.posted_flag = 'Y'
     AND   nvl(asa.match_status_flag,'N') <> 'A'
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM xla_Events x
             WHERE x.application_id = 200
             AND   x.event_id = asa.accounting_event_id
             AND   x.event_status_code IN ('N', 'P')
             AND   x.process_status_code = 'P')
     AND rownum < 2
     UNION ALL
     SELECT /*+ ordered use_nl(aid) */
            aid.invoice_id
     FROM invs,
          ap_invoice_distributions_all aid
     WHERE line_type_lookup_code IN ('REC_TAX','NONREC_TAX',
             'TRV','TERV','TIPV')
     AND   detail_tax_dist_id is null
     AND   summary_tax_line_id is null
     AND   nvl(aid.historical_flag, 'N') = 'N'
     AND   aid.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(asad) */
            asad.invoice_id
     FROM invs,
          ap_self_assessed_tax_dist_all asad
     WHERE EXISTS (
             SELECT /*+ no_unnest */ 1 FROM zx_rec_nrec_dist zd
             WHERE zd.trx_id = asad.invoice_id
             AND   zd.rec_nrec_tax_dist_id = asad.detail_tax_dist_id
             AND   zd.entity_code = 'AP_INVOICES'
             AND   zd.event_class_code IN ('STANDARD INVOICES',
                     'PREPAYMENT INVOICES', 'EXPENSE REPORTS')
             AND   zd.application_id = 200
             AND   zd.self_assessed_flag = 'N')
     AND   asad.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(aid) */
            aid.invoice_id
     FROM invs,
          ap_invoice_distributions_all aid
     WHERE aid.detail_tax_dist_id is not null
     AND   nvl(aid.historical_flag, 'N') = 'N'
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM zx_rec_nrec_dist zd
             WHERE zd.trx_id = aid.invoice_id
             AND   zd.rec_nrec_tax_dist_id = aid.detail_tax_dist_id
             AND   zd.entity_code = 'AP_INVOICES'
             AND   zd.event_class_code IN ('STANDARD INVOICES',
                     'PREPAYMENT INVOICES', 'EXPENSE REPORTS')
             AND   zd.application_id = 200
             AND   zd.self_assessed_flag = 'Y')
     AND   aid.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai, asad) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_self_assessed_tax_dist_all asad
     WHERE ai.invoice_id = asad.invoice_id
     AND   asad.accounting_event_id is null
     AND   asad.bc_event_id is null
     AND   ai.cancelled_date is null
     AND   nvl(ai.force_revalidation_flag,'N') <> 'Y'
     AND   ap_invoices_pkg.get_approval_status(
             ai.invoice_id,
             ai.invoice_amount,
             ai.payment_status_flag,
             ai.invoice_type_lookup_code) IN (
               'APPROVED','AVAILABLE','UNPAID','FULL')
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(aha) */
            aha.invoice_id
     FROM invs,
          ap_holds_all aha
     WHERE hold_lookup_code = 'CANNOT EXECUTE ALLOCATION'
     AND   release_lookup_code is null
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoice_lines_all ail
             WHERE ail.invoice_id = aha.invoice_id
             AND   line_type_lookup_code IN('FREIGHT','MISCELLANEOUS')
             AND   nvl(discarded_flag,'N') = 'N'
             AND   nvl(generate_dists,'N') = 'Y')
     AND   aha.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai
     WHERE nvl(ai.historical_flag, 'N') = 'N'
     AND   ai.cancelled_date is not null
     AND   nvl(ai.amount_paid,0) <> 0
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai
     WHERE ai.cancelled_date is not null
     AND   ai.invoice_amount = 0
     AND   nvl(ai.historical_flag, 'N') = 'N'
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_payment_schedules_all aps
             WHERE aps.invoice_id = ai.invoice_id
             AND   aps.hold_flag = 'Y')
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai, aidrev) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_distributions_all aidrev
     WHERE ai.invoice_id = aidrev.invoice_id
     AND   nvl(ai.historical_flag,'N') = 'N'
     AND   aidrev.parent_reversal_id  is not null
     AND   aidrev.reversal_flag = 'Y'
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aidori
             WHERE aidori.invoice_id = aidrev.invoice_id
             AND   aidori.invoice_line_number = aidrev.invoice_line_number
             AND   aidori.invoice_distribution_id = aidrev.parent_reversal_id
             AND   abs(nvl(aidori.amount,0)) <> abs(nvl(aidrev.amount,0)))
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT  /*+ ordered use_nl(aid) */
            aid.invoice_id 
     FROM invs,
          ap_invoice_distributions_all aid
     WHERE match_status_flag = 'S'
     AND   nvl(aid.historical_flag,'N') = 'N'
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoices_all ai
             WHERE ai.invoice_id = aid.invoice_id
             AND   ai.validation_request_id is null)
     AND   aid.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai, aid) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all  ai,
          ap_invoice_distributions_all aid,
          financials_system_params_all fsp
     WHERE ai.org_id = fsp.org_id
     AND   ai.invoice_id = aid.invoice_id
     AND   ai.cancelled_date is not null
     AND   aid.accounting_event_id is not null
     AND   ai.invoice_amount = 0
     AND   nvl(ai.historical_flag, 'N') = 'N'
     AND   ai.validation_request_id is null
     AND   0 = (
             SELECT /*+ no_unnest */ sum(aid1.amount )
             FROM ap_invoice_distributions_all aid1
             WHERE aid1.invoice_id = ai.invoice_id)
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aid2
             WHERE aid2.invoice_id = ai.invoice_id
             AND   aid2.parent_reversal_id is null
             AND   aid2.reversal_flag = 'Y'
             AND   1 <> (
                     SELECT /*+ no_unnest */ count(1)
                     FROM ap_invoice_distributions_all aid3
                     WHERE aid3.parent_reversal_id = aid2.invoice_distribution_id))
     AND   ((nvl(aid.match_status_flag, 'N') <> 'A' AND
             fsp.purch_encumbrance_flag = 'Y') OR
            (nvl(aid.match_status_flag, 'N') NOT IN ('A','T') AND
             fsp.purch_encumbrance_flag = 'N'))
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
     SELECT /*+ ordered use_nl(ai, ail, aid) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          financials_system_params_all fsp,
          ap_invoice_lines_all ail,
          ap_invoice_distributions_all aid
     WHERE ai.invoice_id = invs.invoice_id
     AND   ail.invoice_id = ai.invoice_id
     AND   aid.invoice_id = ail.invoice_id
     AND   ai.org_id = fsp.org_id
     AND   (nvl(ail.cancelled_flag,'N') = 'Y' OR
            nvl(ail.discarded_flag,'N') = 'Y')
     AND   ai.cancelled_date is not null
     AND   aid.line_type_lookup_code = 'AWT'
     AND   aid.parent_reversal_id is not null
     AND   aid.awt_invoice_payment_id is null
     AND   aid.reversal_flag = 'Y'
     AND   aid.accounting_event_id is null
     AND   nvl(aid.match_status_flag, 'N') = 'N'
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1
             FROM xla_transaction_entities_upg xte,
                  xla_events xe
             WHERE xte.entity_id = xe.entity_id
             AND   xte.ledger_id = aid.set_of_books_id
             AND   nvl(xte.source_id_int_1,-99) = aid.invoice_id
             AND   xte.entity_code = 'AP_INVOICES'
             AND   xte.application_id = 200
             AND   xe.event_type_code LIKE '%CANCELLED'
             AND   xe.budgetary_control_flag = 'N')
     AND   NOT EXISTS (
             SELECT 1 FROM ap_holds_all aha
             WHERE aha.invoice_id = ai.invoice_id
             AND   aha.release_lookup_code is null)
     AND   fsp.purch_encumbrance_flag = 'N'
     AND rownum < 11
/*SPLIT_HERE*/
)
order by invoice_id",1266869.1,"Follow Doc ID 1266869.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice data integrity issues exist.,"There are known bugs that can cause various invoice issues e.g. validation, cancellation, tax issues.  One or more of these issues have been detected.",2,Oracle Payables,INVOICES,INVVALIDATE,WEEK,SAT,P2P: Payables and Payments,"These can cause invoice validation errors, accounting errors, incorrect accounting entries,  or incorrect status in reports and the application.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ORPHAN_BANK_ACCOUNT,"SELECT ext_bank_account_id ext_bank_account_id
     FROM
     (SELECT ext_bank_account_id
     FROM iby_ext_bank_accounts eba
     WHERE NOT EXISTS(
             SELECT 'OWNER' FROM iby_account_owners ao
             WHERE ao.account_owner_party_id <> -99
             AND   ao.ext_bank_account_id = eba.ext_bank_account_id)
     AND   NOT EXISTS(
             SELECT 'ASSIGNMENT' FROM iby_pmt_instr_uses_all iu
             WHERE iu.instrument_type = 'BANKACCOUNT'
             AND   iu.instrument_id = eba.ext_bank_account_id)
     AND   NOT EXISTS (
             SELECT 'UPGRADE_ASSIGNMENT' FROM iby_upg_instruments ui
             WHERE ui.instrument_type = 'BANKACCOUNT'
             AND   ui.instrument_id = eba.ext_bank_account_id)
     UNION
     SELECT ao.ext_bank_account_id
     FROM iby_account_owners ao,
          iby_external_payees_all ep
     WHERE ao.account_owner_party_id = ep.payee_party_id
     AND   ep.payment_function = 'AR_CUSTOMER_REFUNDS'
     AND   NOT EXISTS (
             SELECT 1 FROM iby_pmt_instr_uses_all piu
             WHERE piu.ext_pmt_party_id = ep.ext_payee_id
             AND   piu.instrument_id = ao.ext_bank_account_id)
     UNION
     SELECT ao.ext_bank_account_id
     FROM iby_account_owners ao,
     iby_external_payees_all ep
     WHERE ao.account_owner_party_id = ep.payee_party_id
     AND   ep.org_type = 'LEGAL_ENTITY'
     AND   NOT EXISTS (
             SELECT 1 FROM iby_pmt_instr_uses_all piu
             WHERE piu.ext_pmt_party_id = ep.ext_payee_id
             AND   piu.instrument_id = ao.ext_bank_account_id))
where rownum < 11
order by ext_bank_account_id",1370214.1,"Follow Doc ID 1370214.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Orphan Bank Account(s) Detected.,External bank account(s) exist in the system with no owners or payment instrument assignments.,2,Oracle Payables,PAYMENTS,PPRINV,WEEK,SAT,P2P: Payables and Payments,Orphan bank accounts will prevent users from creating or updating supplier bank accounts with details similar to the orphans. The missing bank details can prevent payments to affected suppliers from being processed.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INCOMPLETE_DISCARDED_LINE,"select invoice_id invoice_id from (WITH invs AS (
  SELECT /*+ materialize */ DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
)
SELECT ai.invoice_id
FROM invs,
     ap_invoices_all ai,
     ap_invoice_lines_all ail,
     ap_invoice_distributions_all aid
WHERE ai.invoice_id = ail.invoice_id
AND   ail.invoice_id = aid.invoice_id
AND   ail.line_number = aid.invoice_line_number
AND   ai.cancelled_date is null
AND   nvl(ail.historical_flag,'N') = 'N'
AND   nvl(ail.discarded_flag,'N') = 'Y'
AND   nvl(aid.posted_flag,'N') <> 'Y'
AND   nvl(aid.reversal_flag,'N') = 'Y'
AND   aid.parent_reversal_id is not null
AND   (aid.amount)*-1 <> (
        SELECT amount FROM ap_invoice_distributions_all aid1
        WHERE aid1.invoice_id = aid.invoice_id
        AND   aid1.invoice_distribution_id = aid.parent_reversal_id)
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 2
UNION ALL
SELECT ail.invoice_id
FROM invs,
     ap_invoice_lines_all ail
WHERE nvl(ail.discarded_flag,'N') = 'Y'
AND   ail.amount <> 0
AND   nvl(ail.historical_flag,'N') <> 'Y'
AND   (NOT EXISTS (
         SELECT 1 FROM ap_invoice_distributions_all aid
         WHERE aid.invoice_id = ail.invoice_id
         AND   aid.invoice_line_number = ail.line_number) OR
      (SELECT sum(aid.amount) FROM ap_invoice_distributions_all aid
       WHERE aid.invoice_id = ail.invoice_id
       AND   aid.invoice_line_number = ail.line_number) = 0)
AND   ail.invoice_id = invs.invoice_id
AND   rownum < 2
UNION ALL
SELECT ai.invoice_id
FROM invs,
     ap_invoices_all ai,
     ap_invoice_lines_all ail
WHERE ai.invoice_id = ail.invoice_id
AND   nvl(ail.discarded_flag,'N') <> 'Y'
AND   nvl(ail.cancelled_flag, 'N') <> 'Y'
AND   ail.po_line_location_id is not null
AND   EXISTS (
        SELECT 1 FROM ap_invoice_distributions_all dist
        WHERE dist.invoice_id = ail.invoice_id
        AND   dist.invoice_line_number = ail.line_number
        AND   dist.po_distribution_id is not null
        AND   dist.reversal_flag = 'Y'  )
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11)
ORDER BY invoice_id",1329681.1,"Follow Doc ID 1329681.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice Distribution Line exist that are not Reversed correctly when Invoice Line Discarded.,Discarded invoice lines were not fully reversed.,2,Oracle Payables,INVOICES,INVVALIDATE,WEEK,SAT,P2P: Payables and Payments,Affected invoices will encounter errors during validation.  Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_AMOUNTS_BASEAMOUNTS_ISSUES,"select invoice_id invoice_id from 
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
     )
/*SPLIT_HERE*/
     SELECT /*+ ordered use_nl(ai) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_system_parameters_all asp
     WHERE ai.exchange_rate is not null
     AND   ai.org_id = asp.org_id
     AND   ap_utilities_pkg.ap_round_currency(
              invoice_amount * exchange_rate, base_currency_code)
              <> nvl(ai.base_amount,0)
     AND   ai.invoice_currency_code <> asp.base_currency_code
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
	 
     SELECT /*+ ordered us_nl(ai) */
            ai.invoice_id
     FROM  invs,
           ap_invoices_all ai,
           ap_system_parameters_all asp
     WHERE ai.exchange_rate is not null
     AND   ai.org_id = asp.org_id
     AND   ai.invoice_currency_code <> asp.base_currency_code
     AND   ap_invoices_utility_pkg.get_approval_status(
             ai.invoice_id,ai.invoice_amount, ai.payment_status_flag,
             ai.invoice_type_lookup_code) <> 'NEVER APPROVED'
     AND   ai.invoice_type_lookup_code <> 'PO PRICE ADJUST'
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 'Adjustment corrections exists'
             FROM ap_invoice_distributions_all aid
             WHERE aid.invoice_id = ai.invoice_id
             AND   aid.dist_match_type='ADJUSTMENT_CORRECTION')
     AND   ai.invoice_amount = (
             SELECT sum(ail.amount) +
                      decode(nvl(ai.net_of_retainage_flag,'N'),
                        'Y',sum(nvl(retained_amount,0)),0)
             FROM ap_invoice_lines_all ail
             WHERE ail.invoice_id = ai.invoice_id
             AND   ail.line_type_lookup_code <> 'AWT'
             AND   ((ail.prepay_invoice_id is not null AND
                     nvl(ail.invoice_includes_prepay_flag, 'N') = 'Y') OR
                    ail.prepay_invoice_id is null))
     AND   nvl(ai.base_amount,0) <> (
             SELECT sum(nvl(base_amount,0))  +
                      decode(nvl(ai.net_of_retainage_flag,'N'),
                        'Y',ap_utilities_pkg.ap_round_currency(
                        sum(nvl(retained_amount,0))*ai.exchange_rate,
                        asp.base_currency_code), 0)
             FROM ap_invoice_lines_all ail
             WHERE ail.invoice_id = ai.invoice_id
             AND   ail.line_type_lookup_code <> 'AWT'
             AND   ((ail.prepay_invoice_id is not null AND
                     nvl(ail.invoice_includes_prepay_flag, 'N') = 'Y') OR
                    ail.prepay_invoice_id is null))
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
	 
     SELECT /*+ ordered use_nl(ai, ail) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_lines_all ail,
          ap_system_parameters_all asp
     WHERE ai.exchange_rate is not null
     AND   ai.invoice_id = ail.invoice_id
     AND   ai.org_id = asp.org_id
     AND   ai.invoice_currency_code <> asp.base_currency_code
     AND   ail.base_amount is not null
     AND   ai.invoice_type_lookup_code <> 'PO PRICE ADJUST'
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 'unvalidated dists exists'
             FROM ap_invoice_distributions_all aid1
             WHERE aid1.invoice_id = ai.invoice_id
             AND   (aid1.dist_match_type='ADJUSTMENT_CORRECTION' OR
                    nvl(aid1.match_status_flag,'N') = 'N'))
     AND   ail.amount = (
             SELECT /*+ no_unnest */ sum(aid2.amount)
             FROM ap_invoice_distributions_all aid2
             WHERE aid2.invoice_id = ail.invoice_id
             AND   aid2.invoice_line_number = ail.line_number)
     AND   (ail.line_type_lookup_code in ('ITEM','FREIGHT','MISCELLANEOUS') OR
            ai.cancelled_date is not null)
     AND   ail.base_amount <> (
             SELECT /*+ no_unnest */ sum(nvl(aid.base_amount,0))
             FROM ap_invoice_distributions_all aid
             WHERE aid.invoice_id = ail.invoice_id
             AND   aid.invoice_line_number = ail.line_number)
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
	 
     SELECT /*+ ordered use_nl(ai) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_system_parameters_all asp
     WHERE ai.exchange_rate is not null
     AND   ai.org_id = asp.org_id
     AND   ai.invoice_currency_code <> asp.base_currency_code
     AND   ai.invoice_type_lookup_code <> 'PO PRICE ADJUST'
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 'Adjustment corrections exists'
             FROM ap_invoice_distributions_all aid1
             WHERE aid1.invoice_id = ai.invoice_id
             AND   aid1.dist_match_type='ADJUSTMENT_CORRECTION')
     AND   EXISTS(
             SELECT /*+ no_unnest */ 'opposite signs'
             FROM ap_invoice_distributions_all aid
             WHERE aid.invoice_id = ai.invoice_id
             AND   aid.base_amount is not null
             AND   ((aid.amount > 0 AND aid.base_amount <0) OR
                    (aid.amount < 0 AND aid.base_amount >0))
             AND   aid.line_type_lookup_code NOT IN ('REC_TAX',
                     'NONREC_TAX','TRV','TIPV','TERV'))
     AND   ai.invoice_id = invs.invoice_id
     AND rownum < 11
     UNION ALL
	 
     SELECT /*+ ordered use_nl(ai) */
            ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_system_parameters_all asp
     WHERE nvl(ai.historical_flag,'N') <> 'Y'
     AND   ai.exchange_rate is not null
     AND   ai.cancelled_date is null
     AND   ai.org_id = asp.org_id
     AND   ai.invoice_currency_code <> asp.base_currency_code
     AND   ai.invoice_type_lookup_code <> 'PO PRICE ADJUST'
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 'Adjustment corrections exists'
             FROM ap_invoice_distributions_all aid1
             WHERE aid1.invoice_id = ai.invoice_id
             AND   aid1.dist_match_type='ADJUSTMENT_CORRECTION')
     AND   EXISTS (
             SELECT /*+ no_unnest */ 'wrong variance'
             FROM ap_invoice_distributions_all aid
             WHERE aid.invoice_id = ai.invoice_id
             AND   (aid.po_distribution_id is not null OR
                    aid.rcv_transaction_id is not null)
             AND   nvl(aid.dist_match_type,'NOT_MATCHED') IN
                     ('ITEM_TO_PO','ITEM_TO_RECEIPT',
                      'ITEM_TO_SERVICE_PO','ITEM_TO_SERVICE_RECEIPT',
                      'QTY_CORRECTION','AMOUNT_CORRECTION')
             AND   nvl(aid.reversal_flag,'N') <> 'Y'
             AND   aid.line_type_lookup_code in ('ITEM','ACCRUAL')
             AND   abs(aid.base_amount -
                     (SELECT /*+ no_unnest */ ap_utilities_pkg.ap_round_currency(
                               aid1.amount * nvl(rt.currency_conversion_rate,pod.rate),
                               asp.base_currency_code)
                      FROM ap_invoice_distributions_all aid1,
                           po_distributions_all pod,
                           rcv_transactions rt,
                           ap_system_parameters_all asp
                      WHERE aid1.invoice_distribution_id = aid.invoice_distribution_id
                      AND aid1.po_distribution_id = pod.po_distribution_id
                      AND aid1.rcv_transaction_id = rt.transaction_id (+)
                      AND aid1.org_id = asp.org_id))
                     > .99 )
     AND   ai.invoice_id = invs.invoice_id
    AND rownum < 11
UNION ALL
SELECT /*+ ordered use_nl(ai) */
ai.invoice_id
   FROM invs,
        ap_invoices_all ai,
        ap_system_parameters_all asp,
        ap_invoice_distributions_all aid
   WHERE 
         ai.exchange_rate is not null
   AND   ai.org_id = asp.org_id
   AND   ai.invoice_currency_code <> asp.base_currency_code
   AND   ai.invoice_id = aid.invoice_id
   AND   ai.org_id = asp.org_id
   AND   ai.invoice_currency_code <> asp.base_currency_code
   AND   ai.invoice_type_lookup_code <> 'PO PRICE ADJUST'
   AND   NOT EXISTS (
           SELECT 'unvalidated dists exists'
           FROM ap_invoice_distributions_all aid1
           WHERE aid1.invoice_id = ai.invoice_id
           AND  (aid1.dist_match_type='ADJUSTMENT_CORRECTION' OR
                 nvl(aid1.match_status_flag,'N') = 'N' ))
   AND   aid.line_type_lookup_code IN ('ITEM','FREIGHT',
           'MISCELLANEOUS')
   AND   aid.po_distribution_id is null
   AND   (aid.base_amount is null  OR
          ((aid.base_amount - aid.rounding_amt) <> (
              SELECT ap_utilities_pkg.ap_round_currency(
                       aid.amount * ai.exchange_rate,
                       asp.base_currency_code)
                    FROM dual)))
  AND   ai.invoice_id = invs.invoice_id
AND rownum < 11
/*SPLIT_HERE*/
)
order by invoice_id",1276043.1,"Follow Doc ID 1276043.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice with issue in amounts or base amounts found.,"Users could create invoices where the amount and base_amount have different signs, incorrect base amounts or incorrect rounding amounts.",2,Oracle Payables,INVOICES,HOLD,WEEK,SAT,Accounting to Financial Reports: Period Close,Invoices with incorrect exchange rate details may result in errors during the accounting process or have incorrect accounting entries created.  Affected invoices may be reported with incorrect remaining amounts in the trial balance.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PREPAY_TRIPLICATE,"SELECT ai.invoice_id invoice_id
     FROM xla_events xe,
          xla_transaction_entities_upg xte,
          ap_prepay_history_all apph,
          ap_invoices_all ai,
          ap_invoices_all ai_prepay,
          (
            SELECT decode(sum(aid.amount),
                     0, 1,
                     sum(aid.amount))  amt,
                   aid.accounting_event_id
            FROM ap_invoice_distributions_all aid
            WHERE aid.line_type_lookup_code IN ('PREPAY','REC_TAX','NONREC_TAX')
            AND   aid.prepay_distribution_id is not null
            GROUP BY aid.accounting_event_id
          ) dist_sum,
          (
            SELECT sum(nvl(xal.entered_cr, 0) - nvl(xal.entered_dr, 0)) amt,
                   xe.event_id,
                   xah.ledger_id
            FROM xla_ae_lines xal,
                 xla_ae_headers xah,
                 xla_events xe,
                 xla_transaction_entities_upg xte
            WHERE xal.application_id = 200
            AND   xah.application_id = 200
            AND   xe.application_id = 200
            AND   xal.ae_header_id = xah.ae_header_id
            AND   xah.event_id = xe.event_id
            AND   xe.entity_id = xte.entity_id
            AND   xte.entity_code = 'AP_INVOICES'
            AND   xte.ledger_id = xah.ledger_id
            AND   xal.accounting_class_code = 'PREPAID_EXPENSE'
            AND   xe.event_type_code IN ('PREPAYMENT APPLIED','PREPAYMENT UNAPPLIED')
            GROUP BY xe.event_id, xah.ledger_id
          ) acct_sum,
          ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) invs
     WHERE xe.application_id = 200
     AND   xe.event_type_code IN ('PREPAYMENT APPLIED','PREPAYMENT UNAPPLIED')
     AND   xe.event_status_code = 'P'
     AND   xe.event_id = dist_sum.accounting_event_id
     AND   xe.event_id = acct_sum.event_id
     AND   abs(abs(acct_sum.amt)/abs(dist_sum.amt)) > 2
     AND   xe.event_id = apph.accounting_event_id
     AND   apph.prepay_invoice_id = ai_prepay.invoice_id
     AND   xte.application_id = 200
     AND   xe.entity_id = xte.entity_id
     AND   xte.ledger_id = ai.set_of_books_id
     AND   xte.entity_code = 'AP_INVOICES'
     AND   nvl(xte.source_id_int_1, -99) = ai.invoice_id
     AND   ai.invoice_id = invs.invoice_id
and rownum < 11
order by invoice_id",1179414.1,"Follow Doc ID 1179414.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Prepayment Accounted for Multiple Times the Prepayment amount.,Prepayment application/unapplication resulting in accounted amounts which are multiples of the actual prepayment application amount.,2,Oracle Payables,INVOICES,PREPAYMENT,WEEK,SAT,Accounting to Financial Reports: Reporting,"Prepayments will have incorrect accounting entries created, which may report the invoices with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_FUNCTIONAL_CURRENCY_INVOICES_W_BASE_AMOUNT,"select ai.invoice_id invoice_id
FROM ap_invoices_all ai,
     ap_invoice_lines_all ail,
     ap_invoice_distributions_all aid,
     ap_system_parameters_all asp,
     financials_system_params_all fsp,
     (
       SELECT DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
     ) invs
WHERE ai.invoice_id = aid.invoice_id
AND   ai.invoice_type_lookup_code <> 'EXPENSE REPORT'
AND   ai.source <> 'ERS'
AND   asp.org_id = ai.org_id
AND   fsp.org_id = ai.org_id
AND   ai.invoice_id = ail.invoice_id
AND   ail.line_number = aid.invoice_line_number
AND   ai.invoice_currency_code = asp.base_currency_code
AND   aid.line_type_lookup_code not in ('NONREC_TAX','REC_TAX',
        'TRV','TIPV','TERV', 'IPV', 'ERV', 'AWT')
AND   ((aid.base_amount  is not null AND
        aid.amount <> aid.base_amount) OR (
       EXISTS (
         SELECT 1 FROM ap_invoice_distributions_all aid1
         WHERE aid.invoice_id = aid1.invoice_id
         AND   aid.line_type_lookup_code = 'ERV')))
AND   ai.invoice_id = invs.invoice_id
AND rownum < 11
order by invoice_id",1272497.1,"Follow Doc ID 1272497.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Functional Currency Invoices for Which Base Amount is Populated.,Wrong base amounts are getting populated for functional currency invoices.,2,Oracle Payables,INVOICES,HOLD,WEEK,SAT,Accounting to Financial Reports: Period Close,Invoices with incorrect exchange rate details may result in errors during the accounting process or have incorrect accounting entries created.  Affected invoices may be reported with incorrect remaining amounts in the trial balance.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PARTIAL_CANCELLED_INVOICE,"SELECT
    ai.invoice_id invoice_id
FROM
    ap_invoices_all ai,
    (
        SELECT DISTINCT
            invoice_id
        FROM
            ap_invoice_distributions_all
        WHERE
            accounting_date BETWEEN ( trunc(sysdate) - 7 ) AND ( trunc(sysdate) + 3 )
    ) invs
WHERE
   rownum < 1000 and  ai.invoice_amount = 0
    AND ai.cancelled_date IS NULL
    AND ai.temp_cancelled_amount IS NOT NULL
    AND ai.invoice_id = invs.invoice_id
    AND NOT EXISTS (
        SELECT
            1
        FROM
            ap_holds_all aha
        WHERE
            aha.invoice_id = ai.invoice_id
            AND aha.hold_lookup_code IN (
                'CANT FUNDS CHECK',
                'INSUFFICIENT FUNDS',
                'AWT ERROR',
                'DIST ACCT INVALID',
                'Encumbrance Acctg Fail'
            )
            AND aha.release_lookup_code IS NULL
                      
 AND   NOT EXISTS (
           SELECT ail.invoice_id
           FROM ap_invoice_lines_all ail,
                ap_invoice_distributions_all aid
           WHERE ail.invoice_id = ai.invoice_id
           AND   ail.line_type_lookup_code = 'AWT'
           AND   nvl(ail.discarded_flag,'N') = 'N'
           AND   nvl(ail.cancelled_flag,'N') = 'N'
           AND   ail.line_type_lookup_code = 'AWT'
           AND   aid.invoice_id = ail.invoice_id
           AND   aid.invoice_line_number = ail.line_number
           AND   aid.line_type_lookup_code = 'AWT'
           AND   nvl(aid.reversal_flag,'N') = 'N')
    )
ORDER BY
    invoice_id", 1060611.1,"Follow Doc ID 1060611.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Partially cancelled Invoice(s) found.,"Invoice identified on which cancellation was attempted but did not successfully complete, which may end in a state were no action can be performed on it.",2,Oracle Payables,INVOICES,CANCEL,WEEK,SAT,P2P: Payables and Payments,"Partially cancelled invoices may have incorrect amounts or holds and cannot be updated by users. The inconsistency will also affect accounting, which may report the invoices with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICE_DISTRIBUTIONS_WITHNOLINES,"SELECT ai.invoice_id invoice_id
FROM ap_invoice_distributions_all aid,
     ap_invoices_all ai,
     ap_suppliers asu,
     ap_supplier_sites_all assi,
     (
       SELECT DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
     ) invs
WHERE nvl(aid.historical_flag, 'N') = 'N'
AND   aid.invoice_id = ai.invoice_id
AND   ai.vendor_id = asu.vendor_id(+)
AND   ai.vendor_site_id = assi.vendor_site_id(+)
AND   (NOT EXISTS (
          SELECT 1 FROM ap_invoice_lines_all l
          WHERE l.invoice_id = aid.invoice_id
          AND   l.line_number = aid.invoice_line_number) OR
       aid.parent_reversal_id IN (
          SELECT p.invoice_distribution_id FROM ap_invoice_distributions_all p
          WHERE NOT EXISTS (
            SELECT 1 FROM ap_invoice_lines_all l
            WHERE l.invoice_id = p.invoice_id
            AND   l.line_number = p.invoice_line_number)))
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id",1060644.1,"Follow Doc ID 1060644.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Orphan invoice distributions with no line found.,"Invoice distributions with no corresponding invoice line, not properly linked to an invoice.",2,Oracle Payables,INVOICES,INVVALIDATE,WEEK,SAT,Accounting to Financial Reports: Period Close,Orphan invoice distributions will have incorrect accounting entries created. Payments on affected invoices will result in errors during the accounting process.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICES_MULTIPLE_TRANSACTION_ENTITIES,"SELECT /*+ leading(invs) use_nl(ai, xte2) */ DISTINCT
       ai.invoice_id invoice_id
FROM (
       SELECT DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
     ) invs,
     ap_invoices_all ai,
     xla_transaction_entities_upg xte2,
     xla_events xe2
WHERE 1 < (
        SELECT count(*)
        FROM xla_transaction_entities_upg xte
        WHERE xte.application_id = xte2.application_id
        AND   xte.ledger_id = xte2.ledger_id
        AND   xte.entity_code = xte2.entity_code
        AND   nvl(xte.source_id_int_1,-99) = xte2.source_id_int_1)
AND   xe2.application_id(+) = xte2.application_id
AND   xe2.entity_id(+) = xte2.entity_id
AND   xte2.ledger_id = ai.set_of_books_id
AND   xte2.application_id = 200
AND   xte2.entity_code = 'AP_INVOICES'
AND   nvl(xte2.source_id_int_1, -99) = ai.invoice_id
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id",1133423.1,"Follow Doc ID 1133423.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Multiple Entities Created for Invoice(s).,Payables transactions have multiple accounting entities created where more than one entity_id exists for a single document.,2,Oracle Payables,ACCOUNTING,ACCTREPORTS,WEEK,SAT,Accounting to Financial Reports: Period Close,Any unaccounted events resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INCORRECT_PMT_DATA_PAYMENT,"SELECT ac.check_id check_id,
            ac.org_id org_id
     FROM  ( SELECT DISTINCT ph.check_id FROM ap_payment_history_all ph WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) chks,
           ap_checks_all ac,
           iby_docs_payable_all idp,
           fnd_currencies fc,
           ap_payment_schedules_all ps,
           ap_invoices_all ai,
           ce_gl_accounts_ccid cegl,
           ap_payment_history_all aph,
           ap_inv_selection_criteria_all aisc
     WHERE ac.check_id = chks.check_id
     AND   ac.status_lookup_code NOT IN  ('OVERFLOW','SET UP',
             'SPOILED', 'VOIDED')
     AND   idp.calling_app_doc_unique_ref1 = aisc.checkrun_id
     AND   idp.calling_app_doc_unique_ref2 = ai.invoice_id
     AND   idp.calling_app_doc_unique_ref3 = ps.payment_num
     AND   idp.completed_pmts_group_id = ac.completed_pmts_group_id
     AND   idp.org_type = 'OPERATING_UNIT'
     AND   ac.payment_id = idp.payment_id
     AND   idp.payment_currency_code = fc.currency_code
     AND   ps.invoice_id(+) = ai.invoice_id
     AND   ac.ce_bank_acct_use_id = cegl.bank_acct_use_id
     AND   aph.check_id = ac.check_id
     AND   aph.transaction_type IN ('PAYMENT CREATED','REFUND RECORDED')
     AND   NOT EXISTS (
             SELECT 1
             FROM ap_invoice_payments_all p
             WHERE p.check_id = ac.check_id
             AND   idp.calling_app_doc_unique_ref2 = p.invoice_id
             AND   idp.calling_app_doc_unique_ref3 = p.payment_num)
and rownum < 11
order by check_id",1174813.1,"Follow Doc ID 1174813.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Payment with incorrect data in payment schedules or payment fields.,Identified check(s) with incorrect payment or invoice data.,2,Oracle Payables,INVOICES,REPORTS,WEEK,SAT,P2P: Payables and Payments,"Incorrect payment schedules can result in overpayment to suppliers, or prevent suppliers from being fully paid.  The inconsistency will also affect accounting, which may report the invoices with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INV_TERM_PPR,"select invoice_id invoice_id
from
(
WITH invs AS  (SELECT /*+ materialize */ DISTINCT invoice_id
FROM ap_invoice_distributions_all
WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
(trunc(sysdate) + 3)
)
/*SPLIT_HERE*/
     SELECT /*+ ordered use_nl(ai, aps, aisc, asi) */
            ai.invoice_id,
            ai.org_id
    FROM invs,
         ap_invoices_all ai,
         ap_payment_schedules_all aps,
         ap_inv_selection_criteria_all aisc,
         ap_selected_invoices_all asi
    WHERE ai.invoice_id = invs.invoice_id
    AND   aps.invoice_id = ai.invoice_id
    AND   aisc.checkrun_id = aps.checkrun_id
    AND   asi.checkrun_id = aisc.checkrun_id
    AND   NOT EXISTS (
            SELECT /*+ no_unnest */ 'Corresponding PSR'
            FROM iby_pay_service_requests ipsr
            WHERE ipsr.calling_app_id = 200
            AND   ipsr.call_app_pay_service_req_code = aisc.checkrun_name)
    AND   aisc.status in ('CANCELING','CANCELED','SELECTING',
            'CALCULATING', 'REVIEW', 'SELECTED')
    UNION /* CASE 1.1 - No data in asi/aps - specially for UNSTARTED case*/
    SELECT /*+ ordered use_nl(ai, aps, aisc) */
           ai.invoice_id,
           ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc
     WHERE ai.invoice_id = invs.invoice_id
     AND   aps.invoice_id = ai.invoice_id
     AND   aisc.checkrun_id = aps.checkrun_id
     AND   (NOT EXISTS (
              SELECT /*+ no_unnest */ 'Corresponding PSR'
              FROM iby_pay_service_requests ipsr
              WHERE ipsr.calling_app_id = 200
              AND   ipsr.call_app_pay_service_req_code = aisc.checkrun_name) OR
            EXISTS (
              SELECT 'Corresponding PSR'
              FROM iby_pay_service_requests ipsr
              WHERE ipsr.calling_app_id = 200
              AND   ipsr.call_app_pay_service_req_code = aisc.checkrun_name
              AND   ap_payment_util_pkg.get_psr_status(
                      ipsr.payment_service_request_id,
                      ipsr.payment_service_request_status)='TERMINATED'))
     AND   aisc.status IN ('CANCELING','SELECTING', 'CALCULATING',
             'UNSTARTED', 'REVIEW', 'SELECTED')
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_selected_invoices_all asi
             WHERE  asi.checkrun_id = aisc.checkrun_id)
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_payment_schedules_all aps
             WHERE  aps.checkrun_id = aisc.checkrun_id)
     UNION /* CASE 2 */
     SELECT /*+ ordered use_nl(ai, aps, aisc, ipsr) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc,
          iby_pay_service_requests ipsr
     WHERE ai.invoice_id = aps.invoice_id
     AND   aisc.checkrun_name = ipsr.call_app_pay_service_req_code
     AND   aps.checkrun_id = aisc.checkrun_id
     AND   ipsr.calling_app_id = 200
     AND   ap_payment_util_pkg.get_psr_status(
            ipsr.payment_service_request_id,ipsr.payment_service_request_status) =
            'TERMINATED'
     AND   ai.invoice_id = invs.invoice_id
     UNION /* CASE 3 */
     SELECT /*+ ordered use_nl(ai, aps, aisc, idp, ipsr) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc,
          iby_docs_payable_all idp,
          iby_pay_service_requests ipsr
     WHERE ai.invoice_id = aps.invoice_id
     AND   aps.checkrun_id = aisc.checkrun_id
     AND   ipsr.call_app_pay_service_req_code = aisc.checkrun_name
     AND   ipsr.calling_app_id = 200
     AND   idp.calling_app_id = 200
     AND   idp.calling_app_doc_unique_ref1 = to_char(aps.checkrun_id)
     AND   idp.calling_app_doc_unique_ref2 = to_char(aps.invoice_id)
     AND   idp.calling_app_doc_unique_ref3 = to_char(aps.payment_num)
     AND   ipsr.payment_service_request_id = idp.payment_service_request_id
     AND   idp.document_status IN (
             'REMOVED','REMOVED_INSTRUCTION_TERMINATED',
             'REMOVED_REQUEST_TERMINATED','REMOVED_PAYMENT_REMOVED',
             'REMOVED_PAYMENT_SPOILED', 'FAILED_VALIDATION',
             'PAYMENT_FAILED_VALIDATION', 'REJECTED' ,
             'FAILED_BY_REJECTION_LEVEL' , 'FAILED_BY_CALLING_APP',
             'FAILED_BY_RELATED_DOCUMENT','REMOVED_PAYMENT_STOPPED',
             'REMOVED_PAYMENT_VOIDED')
     AND   ai.invoice_id = invs.invoice_id
     UNION /* CASE 4 */
     SELECT /*+ ordered use_nl(ai, aps, aisc, ipsr) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc,
          iby_pay_service_requests ipsr
     WHERE ai.invoice_id = aps.invoice_id
     AND   aps.checkrun_id = aisc.checkrun_id
     AND   ipsr.call_app_pay_service_req_code = aisc.checkrun_name
     AND   ipsr.calling_app_id = 200
     AND   ap_payment_util_pkg.get_psr_status(
             ipsr.payment_service_request_id,
             ipsr.payment_service_request_status) = 'CONFIRMED'
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 'Corresponding Docs Payable'
             FROM iby_docs_payable_all idp
             WHERE idp.calling_app_doc_unique_ref1 = aps.checkrun_id
             AND   idp.calling_app_doc_unique_ref2 = aps.invoice_id
             AND   idp.calling_app_doc_unique_ref3 = aps.payment_num
             AND   idp.payment_service_request_id = ipsr.payment_service_request_id)
     AND   ai.invoice_id = invs.invoice_id
     UNION /* CASE 5 */
     SELECT /*+ ordered use_nl(ai, aps, aisc) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc
     WHERE ai.invoice_id = aps.invoice_id
     AND   aps.checkrun_id = aisc.checkrun_id
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 'Data in AP_SELECTED_INVOICES_ALL'
             FROM ap_selected_invoices_all asi
             WHERE asi.checkrun_id = aisc.checkrun_id)
     AND   ai.invoice_id = invs.invoice_id
     UNION /* CASE 6 */
     SELECT /*+ ordered use_nl(ai, aps, aisc) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc
     WHERE ai.invoice_id = aps.invoice_id
     AND   aps.checkrun_id = aisc.checkrun_id
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1
             FROM ap_selected_invoices_all si2,
                  ap_payment_schedules_all ps
             WHERE si2.checkrun_id = aisc.checkrun_id
             AND   si2.invoice_id = ps.invoice_id
             AND   si2.payment_num = ps.payment_num
             AND   ((si2.org_id is null AND ps.org_id is not null) OR
                    si2.exclusive_payment_flag is null OR
                    ps.payment_method_code is null OR
                    si2.payment_amount is null OR
                    si2.payment_currency_code is null OR
                    aisc.check_date is null))
     AND   ai.invoice_id = invs.invoice_id
     UNION /* CASE 7 */
     SELECT /*+ ordered use_nl(ai, aps, aisc, ipsr) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc,
          iby_pay_service_requests ipsr,
          iby_docs_payable_all idp
     WHERE ai.invoice_id = aps.invoice_id
     AND   aps.checkrun_id = aisc.checkrun_id
     AND   ipsr.call_app_pay_service_req_code = aisc.checkrun_name
     AND   ipsr.calling_app_id = 200
     AND   ap_payment_util_pkg.get_psr_status(
             ipsr.payment_service_request_id,
             ipsr.payment_service_request_status) = 'CONFIRMED'
     AND   idp.calling_app_doc_unique_ref1 = aps.checkrun_id
     AND   idp.calling_app_doc_unique_ref2 = aps.invoice_id
     AND   idp.calling_app_doc_unique_ref3 = aps.payment_num
     AND   idp.payment_service_request_id = ipsr.payment_service_request_id
     AND   idp.document_status IN ('PAYMENT_CREATED')
     AND   EXISTS (
             SELECT /*+ ordered no_unnest */ 'AP Pmt Data Exists'
             FROM ap_invoice_payments_all aip,
                  ap_payment_history_all aph,
                  ap_checks_all ac,
                  iby_docs_payable_all idp
             WHERE idp.payment_id = ac.payment_id
             AND   ac.check_id = aip.check_id
             AND   aip.invoice_id = aps.invoice_id
             AND   aip.payment_num = aps.payment_num
             AND   aip.accounting_event_id = aph.accounting_event_id
             AND   ac.check_id = aph.check_id
             AND   nvl(aip.reversal_flag,'N') <> 'Y')
     AND   ai.invoice_id = invs.invoice_id
     UNION /* CASE 8 */
     SELECT /*+ ordered  use_nl(ai, aps, aisc) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc
     WHERE ai.invoice_id = aps.invoice_id
     AND   aps.checkrun_id = aisc.checkrun_id
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1
             FROM ap_selected_invoices_all si2,
                  ap_invoices_all ai
             WHERE si2.checkrun_id = aisc.checkrun_id
             AND   si2.invoice_id = ai.invoice_id
             AND   si2.vendor_name is null
             AND   ai.vendor_id is not null)
     AND   ai.invoice_id = invs.invoice_id
     UNION /* CASE 9 */
     SELECT /*+ ordered  use_nl(ai, aps, aisc) */
            ai.invoice_id,
            ai.org_id
     FROM invs,
          ap_invoices_all ai,
          ap_payment_schedules_all aps,
          ap_inv_selection_criteria_all aisc,
          iby_pay_service_requests ipsr,
          iby_payments_all ipa,
          iby_pay_instructions_all ipia,
          ce_payment_documents cpd
     WHERE ai.invoice_id = invs.invoice_id
     AND   aps.invoice_id = ai.invoice_id
     AND   aisc.checkrun_id = aps.checkrun_id
     AND   aisc.checkrun_name = ipsr.call_app_pay_service_req_code
     AND   ipsr.calling_app_id  = 200
     AND   ap_payment_util_pkg.get_psr_status(
             ipsr.payment_service_request_id,
             ipsr.payment_service_request_status) IN ('CONFIRMED','TERMINATED')
     AND   ipsr.payment_service_request_id = ipa.payment_service_request_id
     AND   ipa.payment_instruction_id = ipia.payment_instruction_id
     AND   cpd.payment_instruction_id = ipia.payment_instruction_id
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_selected_invoices_all asi
             WHERE  asi.checkrun_id = aisc.checkrun_id)
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_payment_schedules_all aps
             WHERE  aps.checkrun_id = aisc.checkrun_id)
/*SPLIT_HERE*/
)
where rownum < 11
order by invoice_id",874862.1,"Follow Doc ID 874862.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Stuck invoice after PPR is terminated or completed.,"Checks for all cases where invoices that are marked as selected by a PPR and can no longer be updated, as available for payment.",2,Oracle Payables,PAYMENTS,PPRINV,WEEK,SAT,P2P: Payables and Payments,"Invoices remain in selected states unavailable for payment. User may not have option to release them.
Due to this, the invoices will not be available for payment individually or through another batch.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INV_VALIDATION_PRB,"SELECT ai.invoice_id invoice_id
     FROM ap_invoices_all ai,
          ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) invs
     WHERE ai.validation_request_id is not null
     AND   ai.validation_request_id > 0
     AND   (EXISTS (
              SELECT 1  FROM fnd_concurrent_requests fcr
              WHERE fcr.request_id = ai.validation_request_id
              AND   fcr.phase_code = 'C' ) OR
            NOT EXISTS (
              SELECT 1 FROM fnd_concurrent_requests fcr
              WHERE fcr.request_id = ai.validation_request_id ))
     AND   ai.invoice_id = invs.invoice_id
and rownum < 11
order by invoice_id",1072774.1,"Follow Doc ID 1072774.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice Locked by Invoice Validation Request.,Invoice(s) with validation_request_id populated after invoice validation has completed with error.,2,Oracle Payables,INVOICES,INVWKB,WEEK,SAT,P2P: Payables and Payments,"Invoices are marked as selected for validation and can no longer be updated by users. Affected invoices cannot be validated, paid, or accounted.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PSA_CLEANUP_1,"SELECT aid.invoice_id invoice_id
     FROM ap_invoice_distributions_all aid,
          ap_invoice_distributions_all aidr,
          financials_system_params_all fsp,
          xla_events xe,
          xla_events xer,
          ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) invs
     WHERE aid.bc_event_id = xe.event_id(+)
     AND   aidr.bc_event_id = xer.event_id(+)
     AND   xe.application_id(+) = 200
     AND   xer.application_id(+) = 200
     AND   xe.budgetary_control_flag(+) = 'Y'
     AND   xer.budgetary_control_flag(+) = 'Y'
     AND   aid.invoice_distribution_id = aidr.parent_reversal_id
     AND   nvl(aid.historical_flag, 'N') <> 'Y'
     AND   nvl(aidr.historical_flag, 'N') <> 'Y'
     AND   nvl(aid.reversal_flag,   'N') = 'Y'
     AND   nvl(aidr.reversal_flag,   'N') = 'Y'
     AND   aid.invoice_id = aidr.invoice_id
     AND   aid.org_id = fsp.org_id
     AND   fsp.purch_encumbrance_flag = 'Y'
     AND   aid.invoice_line_number = aidr.invoice_line_number
     AND   (nvl(xe.event_id,  -99) = -99 OR xe.event_status_code <> 'P')
     AND   (nvl(xer.event_id, -99) = -99 OR xer.event_status_code <> 'P')
     AND   (nvl(xe.event_id,  -99) <> -99 OR nvl(xer.event_id, -99) <> -99)
     AND   aid.invoice_id = invs.invoice_id
and rownum < 11
order by invoice_id", 985228.1,"Follow the instructions provided in Doc ID 985228.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Reversing distribution pairs which have not been encumbered.,"Reversal Pairs in the Invoice Distributions, both of which have not been encumbered, but at least one of them has a BC event stamped.",2,Oracle Payables,ACCOUNTING,ACCTREPORTS,WEEK,SAT,Accounting to Financial Reports: Period Close,Unaccounted budgetary control events cannot be processed and cause a transaction to appear as unaccounted.  Any unaccounted events resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PSA_CLEANUP_2,"SELECT aid.invoice_id invoice_id
     FROM ap_invoice_distributions_all aid,
          xla_events xe,
          financials_system_params_all fsp,
          ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) invs
     WHERE nvl(aid.historical_flag,   'N') = 'N'
     AND   nvl(aid.posted_flag, 'N') <> 'Y'
     AND   aid.po_distribution_id is null
     AND   aid.org_id = fsp.org_id
     AND   nvl(fsp.purch_encumbrance_flag, 'N') = 'Y'
     AND   aid.encumbered_flag = 'Y'
     AND   aid.match_status_flag = 'A'
     AND   aid.bc_event_id = xe.event_id(+)
     AND   xe.application_id(+) = 200
     AND   (nvl(xe.event_id, -99) = -99 OR
            (nvl(xe.event_id, -99) <> -99 AND
             xe.event_status_code <> 'P'))
     AND   nvl(aid.reversal_flag,   'N') <> 'Y'
     AND   aid.invoice_id = invs.invoice_id
and rownum < 11
order by invoice_id",985228.1,"Follow the instructions provided in Doc ID 985228.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Approved distributions containing unprocessed budgetary control events w BC event not acctd,Approved distributions containing unprocessed budgetary control events.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Unaccounted budgetary control events cannot be processed and cause a transaction to appear as unaccounted.  Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_NOT_NULL_QTY_INV,"SELECT ail.invoice_id invoice_id
     FROM ap_invoice_lines_all ail,
          ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) invs
     WHERE (nvl(discarded_flag,'N') = 'Y' OR
            nvl(cancelled_flag,'N') = 'Y')
     AND   po_line_location_id is not null
     AND   nvl(quantity_invoiced,0) <> 0
     AND   ail.invoice_id = invs.invoice_id
and rownum < 11
order by invoice_id",1362932.1,"Follow the instructions provided in Doc ID 1362932.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Quantity Billed / Amount Billed Mismatch,Canceled and discarded invoice lines mismatch where the quantity invoiced has not been set to 0.,2,Oracle Payables,INVOICES,REPORTS,WEEK,SAT,P2P: Payables and Payments,Incorrect matching details will cause quantity and amount billing inconsistencies between Payables and Purchasing for related transactions.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICE_1489862_3,"SELECT /*+ ordered */ ai.invoice_id invoice_id
     FROM ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3)) invs,
          ap_invoices_all ai,
          ap_invoice_distributions_all aid,
          ap_system_parameters_all asp
     WHERE ai.invoice_id = aid.invoice_id
     AND   ai.org_id = asp.org_id
     AND   ai.invoice_currency_code = asp.base_currency_code
     AND   aid.line_type_lookup_code = 'AWT'
     AND   NVL(aid.historical_flag,'N') <> 'Y'
     AND   NVL(aid.posted_flag, 'N') <> 'Y'
     AND   (aid.base_amount is NULL OR
            (aid.base_amount is NOT NULL AND
             aid.amount <> aid.base_amount))
     AND   ai.invoice_id = invs.invoice_id
and rownum < 11
order by invoice_id",1489862.1,"Follow Doc ID 1489862.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Amount and base_amounts different for functional currency AWT,Amount and base_amounts different for functional currency witholding tax.,2,Oracle Payables,INVOICES,HOLD,WEEK,SAT,Accounting to Financial Reports: Period Close,"These can cause invoice validation errors, accounting errors, incorrect accounting entries, or incorrect status in reports and the application.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_NULL_ESTABLISHMENT_ID_VALUE,"SELECT /*+ ordered use_nl(zl) */ zl.trx_id trx_id
     FROM (
            SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3) ) invs,
          zx_lines zl,
          xle_etb_profiles etb,
          zx_party_tax_profile ptp
     WHERE zl.application_id = 200
     AND   zl.entity_code = 'AP_INVOICES'
     AND   zl.event_class_code IN ('STANDARD INVOICES','EXPENSE REPORTS',
             'PREPAYMENT INVOICES')
     AND   zl.legal_entity_id = etb.legal_entity_id
     AND   zl.establishment_id is null
     AND   etb.main_establishment_flag = 'Y'
     AND   nvl(etb.main_effective_from, zl.trx_date) <= zl.trx_date
     AND   nvl(etb.main_effective_to, zl.trx_date) >= zl.trx_date
     AND   etb.party_id = ptp.party_id
     AND   ptp.party_type_code = 'LEGAL_ESTABLISHMENT'
     AND   zl.trx_id = invs.invoice_id
     AND rownum < 11
order by trx_id", 1152123.1,"Follow the data fix instructions provided in Doc ID 1152123.1 - Pattern#2: ESTABLISHMENT_ID mismatch

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,establishment_id value is null in table zx_lines/zx_lines_summary.,Mismatch tax lines with null ESTABLISHMENT_ID.,2,Oracle Payables,EBTAXAP,EBTAX_INTG,WEEK,SAT,P2P: Payables and Payments,"Missing and incorrect tax details will cause unique constraint errors during invoice validation. Affected invoices cannot be validated, paid, or accounted.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_SYNC_MATCH_TYPE,"select invoice_id invoice_id
from
(WITH invs AS  (SELECT /*+ materialize */ DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date 
BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
)
/*SPLIT_HERE*/
     SELECT ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_lines_all ail,
          ap_invoice_distributions_all aid,
          po_line_locations_all pll
     WHERE ai.invoice_id = invs.invoice_id
     AND   ail.invoice_id = ai.invoice_id
     AND   aid.invoice_id = ail.invoice_id
     AND   aid.invoice_line_number = ail.line_number
     AND   ail.corrected_inv_id is null
     AND   ail.corrected_line_number is null
     AND   ail.po_line_location_id is not null
     AND   ail.po_line_location_id = pll.line_location_id
     AND   (nvl(ail.match_type,'NOT_MATCHED') <>
              nvl(aid.dist_match_type,'NOT_MATCHED') OR
            nvl(ail.match_type,'NOT_MATCHED') = 'NOT_MATCHED')
     AND   ail.line_type_lookup_code IN ('ITEM',
             'FREIGHT', 'MISCELLANEOUS')
     AND   ((aid.line_type_lookup_code IN ('ITEM',
              'ACCRUAL','FREIGHT','MISCELLANEOUS') AND
             nvl(ail.match_type,'NOT_MATCHED') <>
              nvl(aid.dist_match_type,'NOT_MATCHED')) OR
            nvl(ail.match_type,'XXX') <> (
              CASE
                WHEN(ail.rcv_transaction_id is not null AND
                     pll.matching_basis ='QUANTITY' AND
                     ail.line_type_lookup_code='ITEM') THEN
                  'ITEM_TO_RECEIPT'
                WHEN(ail.rcv_transaction_id is not null AND
                     pll.matching_basis ='AMOUNT' AND
                     ail.line_type_lookup_code='ITEM')   THEN
                  'ITEM_TO_SERVICE_RECEIPT'
                WHEN(ail.rcv_transaction_id is not null AND
                     ail.line_type_lookup_code in ('FREIGHT','MISCELLANEOUS')) THEN
                  'OTHER_TO_RECEIPT'
                WHEN(ail.rcv_transaction_id is null AND
                     ail.po_line_location_id is not null AND
                     pll.matching_basis ='QUANTITY' AND
                     ail.line_type_lookup_code='ITEM') THEN
                  'ITEM_TO_PO'
                WHEN(ail.rcv_transaction_id is null AND
                     ail.po_line_location_id is not null AND
                     pll.matching_basis ='AMOUNT' AND
                     ail.line_type_lookup_code='ITEM') THEN
                  'ITEM_TO_SERVICE_PO'
                WHEN(ail.rcv_transaction_id is null AND
                     ail.po_line_location_id is null) THEN
                  'NOT_MATCHED'
              END))
     UNION
     SELECT ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_lines_all ail,
          ap_invoice_distributions_all aid
     WHERE ai.invoice_id = invs.invoice_id
     AND   ai.invoice_id = ail.invoice_id
     AND   ail.invoice_id = aid.invoice_id
     AND   aid.invoice_line_number = ail.line_number
     AND   ail.match_type IN ('ITEM_TO_PO','ITEM_TO_RECEIPT')
     AND   nvl(ail.discarded_flag,'N') <> 'Y'
     AND   nvl(ail.cancelled_flag,'N') <> 'Y'
     AND   ail.po_header_id is null
     AND   ail.po_line_id is null
     AND   ail.po_line_location_id is null
     AND   ail.po_distribution_id is null
     AND   ail.rcv_transaction_id is null
     AND   ail.corrected_inv_id  is null
     AND   ail.corrected_line_number is null
     UNION
     SELECT ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_lines_all ail,
          ap_invoice_distributions_all aid
     WHERE ai.invoice_id = invs.invoice_id
     AND   ai.invoice_id = ail.invoice_id
     AND   ail.invoice_id = aid.invoice_id
     AND   aid.invoice_line_number = ail.line_number
     AND   aid.line_type_lookup_code IN ('ITEM', 'FREIGHT',
             'MISCELLANEOUS')
     AND   aid.po_distribution_id is null
     AND   aid.rcv_transaction_id is null
     AND   aid.dist_match_type is null
     AND   ail.line_source IN ('MANUAL LINE ENTRY', 'IMPORTED')
     AND   ail.po_header_id is null
     AND   ail.po_line_id is null
     AND   ail.po_line_location_id is null
/*SPLIT_HERE*/
)
where rownum < 11
order by invoice_id",1906407.1,"Follow Doc ID 1906407.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Values of match_type and dist_match_type are not in sync.,match_type and dist_match_type are not in sync causing incorrect results when matching.,2,Oracle Payables,INVOICES,MATCHING,WEEK,SAT,P2P: Payables and Payments,Incorrect matching details will cause quantity and amount billing inconsistencies between Payables and Purchasing for related transactions.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PAYMENT__ACCTGDATEOUTOFSYNCH,"SELECT check_id check_id
FROM (WITH chks AS ( SELECT /*+ materialize */ DISTINCT ph.check_id FROM ap_payment_history_all ph
WHERE ph.accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3) ) 
     SELECT 'Invoice Payment' record_type,
            ac.check_id,
            ac.check_number,
            ac.org_id,
            to_char(aip.accounting_date, 'DD-MON-YY HH24:MI:SS') accounting_date,
            to_char(xe.event_date, 'DD-MON-YY HH24:MI:SS') event_date,
            xe.event_id,
            aip.invoice_payment_id,
            aip.posted_flag
     FROM chks,
          ap_checks_all ac,
          ap_invoice_payments_all aip,
          xla_events xe
     WHERE aip.accounting_event_id = xe.event_id
     AND   xe.application_id = 200
     AND   ac.check_id = aip.check_id
     AND   aip.accounting_DATE <> xe.event_date
     AND   ac.check_id = chks.check_id
     UNION ALL
     SELECT 'Payment History',
            ac.check_id,
            ac.check_number,
            ac.org_id,
            to_char(aph.accounting_date, 'DD-MON-YY HH24:MI:SS'),
            to_char(xe.event_date, 'DD-MON-YY HH24:MI:SS'),
            xe.event_id,
            aph.payment_history_id,
            aph.posted_flag
     FROM chks,
          ap_checks_all ac,
          ap_payment_history_all aph,
          xla_events xe
     WHERE aph.accounting_event_id = xe.event_id
     AND   ac.check_id = aph.check_id
     AND   xe.application_id = 200
     AND   aph.accounting_date <> xe.event_date
     AND   ac.check_id = chks.check_id)
where rownum < 11
order by check_id",874904.1,"Follow Doc ID 874904.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Payment with Accounting dates out of sync with the Subledger tables,Out of sync accounting date between payment transaction tables and xla_events table,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,"Affected transactions may have incorrect details with accounting, reporting, or drilldown. Some transactions may prevent period close.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_SET_ASSETSTRACK_FLAG,"SELECT /*+ leading(invs) */ aid.invoice_id invoice_id
     FROM ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date 
     BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3) ) invs,
          ap_invoice_distributions_all aid,
          ap_invoice_lines_all ail,
          po_distributions_all pd,
          gl_code_combinations gcc_po,
          gl_code_combinations gcc_inv
     WHERE aid.invoice_id = invs.invoice_id
     AND   pd.po_distribution_id = aid.po_distribution_id
     AND   ail.invoice_id  = aid.invoice_id
     AND   ail.line_number = aid.invoice_line_number
     AND   gcc_po.code_combination_id = pd.code_combination_id
     AND   gcc_inv.code_combination_id= aid.dist_code_combination_id
     AND   aid.assets_tracking_flag = 'N'
     AND   aid.line_type_lookup_code NOT IN ('NONREC_TAX',
             'REC_TAX','TRV','TIPV','TERV')
     AND   ((pd.accrue_on_receipt_flag = 'Y' AND
             gcc_po.account_type IN ('A','E')) OR
            (pd.accrue_on_receipt_flag = 'N' AND
             gcc_inv.account_type IN('A','E')))
     AND   ((nvl(aid.assets_tracking_flag,'X') <>
               decode(pd.accrue_on_receipt_flag,
                 'Y', (decode(gcc_po.account_type,
                        'E',nvl(ail.assets_tracking_flag,'N'),
                        'A','Y',
                        'N')),
                 'N', (decode(gcc_inv.account_type,
                        'E',nvl(ail.assets_tracking_flag,'N'),
                        'A','Y',
                        'N')),
                 'N')) OR
            (aid.assets_tracking_flag = 'Y' AND
             aid.assets_addition_flag <> 'U'))
AND rownum < 11
order by invoice_id",1922786.1,"Follow Doc ID 1922786.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Assets_tracking_flag set incorrectly on matched distributions.,Invoice distribution on which the asset_tracking_flag has been incorrectly unchecked when the GL Date is changed on the invoice header.,2,Oracle Payables,INVOICES,INVWKB,WEEK,SAT,P2P: Payables and Payments,Incorrect data set resulting in Mass Additions process not selecting transactions.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICE_1489862_1,"select invoice_id invoice_id
from
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
)
     SELECT /*+ ordered */ ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_lines_all ail
     WHERE ai.invoice_id = ail.invoice_id
     AND   ai.cancelled_date IS NOT NULL
     AND   NVL(ail.included_tax_amount,0) <> 0
     AND   (SELECT /*+ index(ZL ZX_LINES_U1) */
                   NVL(SUM(NVL(zl.tax_amt, 0)),0)
            FROM zx_lines zl
            WHERE zl.application_id  =  200
            AND   zl.entity_code  =  'AP_INVOICES'
            AND   zl.trx_id   = ail.invoice_id
            AND   zl.trx_line_id = ail.line_number
            AND   NVL(zl.self_assessed_flag,    'N')  = 'N'
            AND   NVL(zl.reporting_only_flag,   'N') = 'N'
            AND   NVL(zl.tax_amt_included_flag, 'N') = 'Y') = 0
     AND   ai.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ ordered */ ai.invoice_id
     FROM invs,
          ap_invoices_all ai
     WHERE ai.cancelled_date is not null
     AND   ai.WFAPPROVAL_STATUS NOT IN ('NOT REQUIRED','APPROVED','MANUALLY APPROVED')
     AND   ai.invoice_id = invs.invoice_id)
where rownum < 11
order by invoice_id",1489862.1,"Follow Doc ID 1489862.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice cancellation related issue,Checking for various invoice corruptions during cancellation.,2,Oracle Payables,INVOICES,CANCEL,WEEK,SAT,Accounting to Financial Reports: Reporting,Affected invoices will show incorrect status or tax details in the application.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICE_1489862_2,"select invoice_id invoice_id
from
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
)
     SELECT /*+ ordered */
            aid.invoice_id
     FROM invs,
          ap_invoice_lines_all ail,
          ap_invoice_distributions_all aid,
          po_line_locations_all pll
     WHERE ail.invoice_id = aid.invoice_id
     AND   ail.line_number = aid.invoice_line_number
     AND   ail.po_line_location_id is not null
     AND   ail.po_line_location_id = pll.line_location_id
     AND   aid.dist_match_type in ('ITEM_TO_PO','ITEM_TO_SERVICE_PO')
     AND   ail.rcv_transaction_id is null
     AND   aid.rcv_transaction_id is null
     AND   aid.line_type_lookup_code IN ('ITEM','ACCRUAL')
     AND   (nvl(ail.UNIT_MEAS_LOOKUP_CODE,-1) <> nvl(pll.UNIT_MEAS_LOOKUP_CODE,-1)
             OR nvl(aid.MATCHED_UOM_LOOKUP_CODE,-1) <> nvl(pll.UNIT_MEAS_LOOKUP_CODE,-1)
           OR nvl(ail.UNIT_MEAS_LOOKUP_CODE,-1) <> nvl(aid.MATCHED_UOM_LOOKUP_CODE,-1))
     AND   ail.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ ordered */
            ail.invoice_id
     FROM invs,
          ap_invoice_lines_all ail,
           ap_invoice_distributions_all aid
     WHERE ail.po_line_location_id is not null
     AND   nvl(ail.discarded_flag,'N') <> 'Y'
     AND   nvl(ail.cancelled_flag,'N') <> 'Y'
     AND   ail.line_type_lookup_code IN ('ITEM','ACCRUAL')
     AND   ail.match_type NOT IN ('PRICE_CORRECTION','QTY_CORRECTION')
     AND   aid.invoice_id = ail.invoice_id
     AND   aid.invoice_line_number = ail.line_number
     AND   ail.invoice_id = invs.invoice_id
     GROUP BY ail.invoice_id, ail.org_id, ail.line_number,
              ail.po_line_location_id, ail.po_distribution_id, ail.amount,
              ail.quantity_invoiced
     HAVING nvl(ail.quantity_invoiced,0) <> sum(nvl(aid.quantity_invoiced,0)) AND
            ail.amount = sum(aid.amount)
     UNION ALL
     SELECT /*+ ordered */
            ail.invoice_id
     FROM invs,
          ap_invoice_lines_all ail,
          ap_invoice_distributions_all aid
     WHERE ail.invoice_id = aid.invoice_id
     AND   ail.line_number = aid.invoice_line_number
     AND   ail.po_line_location_id is not null
     AND   aid.po_distribution_id is not null
     AND   nvl(ail.historical_flag,'N') <> 'Y'
     AND   nvl(aid.historical_flag,'N') <> 'Y'
     AND   (ail.line_type_lookup_code IN ('ITEM','PREPAY',
              'RETAINAGE RELEASE','RETROITEM') OR
            (ail.line_type_lookup_code IN ('FREIGHT','MISCELLANEOUS') AND
             nvl(ail.match_type,'NOT_MATCHED') = 'OTHER_TO_RECEIPT'))
     AND   (aid.rcv_transaction_id is null AND
            ail.rcv_transaction_id is not null OR
            ail.rcv_transaction_id is null AND
            aid.rcv_transaction_id is not null)
     AND   ail.invoice_id = invs.invoice_id)
where rownum < 11
order by invoice_id",1489862.1,"Follow Doc ID 1489862.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice matching related issue,Checking for various invoice matching related issues.,2,Oracle Payables,INVOICES,REPORTS,WEEK,SAT,Accounting to Financial Reports: Reporting,Incorrect matching details will cause quantity and amount billing inconsistencies between Payables and Purchasing for related transactions.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICE_ACCTGDATEOUTOFSYNCH,"select invoice_id invoice_id from
(WITH ai AS (
       SELECT /*+ ordered use_nl(ai) */
              ai.invoice_id
       FROM ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) invs,
            ap_invoices_all ai
       WHERE ai.invoice_id = invs.invoice_id
     )
     SELECT /*+ ordered use_nl(aid, xe) */
            ai.invoice_id
     FROM ai,
          ap_invoice_distributions_all aid,
          xla_events xe
     WHERE aid.accounting_event_id = xe.event_id
     AND   xe.application_id = 200
     AND   ai.invoice_id = aid.invoice_id
     AND   aid.accounting_date <> xe.event_date
     UNION ALL
     SELECT /*+ ordered use_nl(aid, xe) */
            ai.invoice_id
     FROM ai,
          ap_self_assessed_tax_dist_all aid,
          xla_events xe
     WHERE aid.accounting_event_id = xe.event_id
     AND   xe.application_id = 200
     AND   ai.invoice_id = aid.invoice_id
     AND   aid.accounting_DATE <> xe.event_date
     UNION ALL
     SELECT /*+ ordered use_nl(aid, zrnd, xe) */
            ai.invoice_id
     FROM ai,
          ap_invoice_distributions_all aid,
          zx_rec_nrec_dist zrnd,
          xla_events xe
     WHERE aid.accounting_event_id = xe.event_id
     AND   aid.detail_tax_dist_id = zrnd.rec_nrec_tax_dist_id
     AND   zrnd.application_id = 200
     AND   zrnd.entity_code = 'AP_INVOICES'
     AND   zrnd.event_class_code IN ('STANDARD INVOICES',
             'PREPAYMENT INVOICES', 'EXPENSE REPORTS')
     AND   zrnd.trx_id = aid.invoice_id
     AND   aid.invoice_id = ai.invoice_id
     AND   xe.application_id = 200
     AND   zrnd.gl_date <> xe.event_date
     UNION ALL
     SELECT ai.invoice_id
     FROM ai,
          ap_self_assessed_tax_dist_all aid,
          zx_rec_nrec_dist zrnd,
          xla_events xe
     WHERE aid.accounting_event_id = xe.event_id
     AND   aid.detail_tax_dist_id = zrnd.rec_nrec_tax_dist_id
     AND   zrnd.application_id = 200
     AND   zrnd.entity_code = 'AP_INVOICES'
     AND   zrnd.event_class_code IN ('STANDARD INVOICES',
             'PREPAYMENT INVOICES', 'EXPENSE REPORTS')
     AND   zrnd.trx_id = aid.invoice_id
     AND   aid.invoice_id = ai.invoice_id
     AND   xe.application_id = 200
     AND   zrnd.gl_date <> xe.event_date
     UNION ALL
     SELECT ai.invoice_id
     FROM ai,
          ap_prepay_history_all apph,
          xla_events xe
     WHERE apph.accounting_event_id = xe.event_id
     AND   xe.application_id = 200
     AND   ai.invoice_id = apph.invoice_id
     AND   apph.accounting_date <> xe.event_date)
where rownum < 11
order by invoice_id",874904.1,"Follow Doc ID 874904.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice with Accounting dates out of sync with the Subledger Tables.,Out of Sync Accounting dates between the Invoicing transaction tables and the Accounting Events table.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,"Affected transactions may have incorrect details with accounting, reporting, or drilldown. Some transactions may prevent period close.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PAYMENTS_STUCK_SPOILED,"SELECT /*+ ordered use_nl(req, docs) */ DISTINCT pmt.payment_id payment_id
FROM iby_payments_all pmt, iby_pay_service_requests req, iby_docs_payable_all docs,
( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7)
AND (trunc(sysdate) + 3) ) invs
WHERE pmt.payment_status = 'REMOVED_DOCUMENT_SPOILED'
AND pmt.payment_service_request_id = req.payment_service_request_id AND docs.payment_id = pmt.payment_id
AND docs.document_status ='PAYMENT_CREATED' AND docs.calling_app_doc_unique_ref2 = invs.invoice_id
AND rownum < 11
order by payment_id",1367272.1,"Follow Doc ID 1367272.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoices removed from PPR are still showing Selected for Payment status.,Checks in the PPR are spoiled or voided then documents/invoices corresponding to the payment remain in 'Selected for Payment' status.,2,Oracle Payables,PAYMENTS,PPRINV,WEEK,SAT,P2P: Payables and Payments,Affected invoices will not be available for additional payments.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_AMT_APPLIED_TO_DISCOUNT,"SELECT ai.invoice_id invoice_id
     FROM ap_invoices_all ai,
          ap_terms_lines atl,
          ( SELECT DISTINCT invoice_id FROM ap_invoice_distributions_all WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND (trunc(sysdate) + 3) ) invs
     WHERE atl.term_id = ai.terms_id
     AND   ai.invoice_amount <> 0
     AND   ai.historical_flag is null
     AND   ai.cancelled_date is null
     AND   ai.invoice_type_lookup_code NOT IN ('INTEREST')
     AND   nvl(ai.amount_applicable_to_discount, 0) <>
             (ai.invoice_amount -
               (CASE
                  WHEN nvl(ai.exclude_freight_from_discount, 'N') = 'Y' THEN
                    nvl(ap_invoices_utility_pkg.get_freight_total(
                          ai.invoice_id,
                          ai.org_id),0)
                  ELSE 0
                END) -
               (CASE
                  WHEN nvl(ai.net_of_retainage_flag, 'N') = 'N' THEN
                    nvl(abs(ap_invoices_utility_pkg.get_retained_total(
                              ai.invoice_id,
                              ai.org_id))
                      ,0)
                  ELSE 0
                END) -
               (CASE
                  WHEN nvl(ai.disc_is_inv_less_tax_flag, 'N') = 'Y' THEN
                    nvl(ai.total_tax_amount, 0)
                  ELSE 0
                END) -
  	     (nvl((
                  SELECT (0 - sum(nvl(amount,0)))
                  FROM ap_invoice_distributions_all aid_awt
                  WHERE aid_awt.invoice_id = ai.invoice_id
                  AND   line_type_lookup_code = 'AWT')
                , 0)) -
               (CASE
                  WHEN nvl(ai.exclude_freight_from_discount, 'N') = 'Y' THEN
  	          nvl((
                      SELECT nvl(sum(aid_awt.Amount),0)
                      FROM ap_invoice_distributions_all aid_fre,
                           ap_invoice_distributions_all aid_awt
                      WHERE aid_fre.invoice_id = ai.invoice_id
                      AND   aid_fre.invoice_id = aid_awt.invoice_id
                      AND   aid_fre.line_type_lookup_code = 'FREIGHT'
                      AND   aid_awt.line_type_lookup_code = 'AWT'
                      AND   aid_fre.invoice_distribution_id = aid_awt.awt_related_id)
                    ,0)
                  ELSE 0
                END))
                     AND   ai.invoice_id = invs.invoice_id
                     AND COALESCE(atl.discount_percent,
                    atl.discount_percent_2,
                      atl.discount_percent_3) is not null
and rownum < 1000 
order by invoice_id",1410403.1,"Follow Doc ID 1410403.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,AMOUNT_APPLICABLE_TO_DISCOUNT is wrong on AP_INVOICES_ALL,The AMOUNT_APPLICABLE_TO_DISCOUNT was incorrectly updated causing incorrect discounts in AP_PAYMENT_SCHEDULES_ALL and over payment to suppliers.,2,Oracle Payables,ACCOUNTING,ACCPAY,WEEK,SAT,Accounting to Financial Reports: Reporting,Incorrect discount details can result in overpayment to suppliers.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INVOICE_1489862_4,"select invoice_id invoice_id
from
(WITH invs AS (SELECT /*+ materialize */ DISTINCT invoice_id
FROM ap_invoice_distributions_all
WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
(trunc(sysdate) + 3)
)
     SELECT /*+ ordered use_nl(ai_std, ail_std, aid_std) */ aid_std.invoice_id
     FROM invs,
          ap_invoices_all ai_std,
          ap_invoice_lines_all ail_std,
          ap_invoice_distributions_all aid_std,
          ap_invoices_all ai_prepay
     WHERE ai_std.invoice_id = ail_std.invoice_id
     AND   ail_std.invoice_id = aid_std.invoice_id
     AND   ail_std.line_number = aid_std.invoice_line_number
     AND   ail_std.prepay_invoice_id is not null
     AND   ail_std.line_type_lookup_code = 'PREPAY'
     AND   ail_std.prepay_invoice_id = ai_prepay.invoice_id
     AND   aid_std.posted_flag = 'N'
     AND   (ai_prepay.invoice_currency_code <> ai_std.invoice_currency_code OR
            ai_prepay.org_id <> ai_std.org_id)
     AND   ai_std.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ ordered use_nl(aid_app, aid_unap) */ aid_app.invoice_id
     FROM invs,
          ap_invoice_distributions_all aid_app,
          ap_invoice_distributions_all aid_unap
     WHERE aid_app.invoice_id = aid_unap.invoice_id
     AND   nvl(aid_app.posted_flag,'N')   <> 'Y'
     AND   nvl(aid_unap.posted_flag,'N')  <>'Y'
     AND   aid_app.reversal_flag = 'Y'
     AND   aid_unap.reversal_flag = 'Y'
     AND   aid_app.prepay_distribution_id is not null
     AND   aid_unap.prepay_distribution_id is not null
     AND   aid_unap.parent_reversal_id is not null
     AND   aid_unap.parent_reversal_id = aid_app.invoice_distribution_id
     AND   aid_unap.accounting_event_id < aid_app.accounting_event_id
     AND   aid_app.invoice_id = invs.invoice_id
     UNION ALL
     SELECT /*+ ordered use_nl(ai, ail) */ ai.invoice_id
     FROM invs,
          ap_invoices_all ai,
          ap_invoice_lines_all ail
     WHERE ai.invoice_id = invs.invoice_id
     AND   ai.invoice_id = ail.invoice_id
     AND   ai.org_id = ail.org_id
     AND   ai.cancelled_date is null
     AND   ai.cancelled_by is null
     AND   ai.historical_flag is null
     AND   ai.invoice_type_lookup_code IN ('PREPAYMENT')
     AND   ail.line_type_lookup_code NOT IN ('TAX', 'AWT')
     AND   ail.tax_already_calculated_flag is null
     AND   NOT EXISTS (
             SELECT /*+ no_unnest */ 1 FROM zx_lines_det_factors
             WHERE application_id = 200
             AND   entity_code = 'AP_INVOICES'
             AND   trx_id = ail.invoice_id
             AND   trx_line_id = line_number)
     AND   EXISTS (
             SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aid
             WHERE ail.invoice_id = aid.invoice_id
             AND   ail.line_number = aid.invoice_line_number
             AND   ail.org_id = aid.org_id
                AND   aid.MATCH_STATUS_FLAG = 'A'))
where rownum < 11
order by invoice_id",1489862.1,"Follow Doc ID 1489862.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Invoice prepayment related issue,Checking for various invoice prepayment related issues.,2,Oracle Payables,INVOICES,PREPAYMENT,WEEK,SAT,Accounting to Financial Reports: Period Close,Affected prepayments may cause errors for applied invoices during the accounting process.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_MISSING_ACCOUNTINGEVENT_PAYMENT2,"SELECT /*+ ordered use_nl(ac, aip) */ ac.check_id check_id, aip.invoice_payment_id invoice_payment_id
FROM (
       SELECT DISTINCT ph.check_id
       FROM ap_payment_history_all ph
       WHERE ph.accounting_date BETWEEN
               (trunc(sysdate) - 7) AND (trunc(sysdate) + 3)
     ) chks,
     ap_checks_all ac,
     ap_invoice_payments_all aip
WHERE ac.check_id = aip.check_id
AND   ((aip.accounting_event_id is null AND
        nvl(aip.posted_flag, 'N') <> 'Y') OR
       EXISTS (
         SELECT 1 FROM ap_payment_history_all aph
         WHERE aph.check_id = ac.check_id
         AND   aph.accounting_event_id is null
         AND   nvl(aph.posted_flag, 'N') <> 'Y'))
AND   ac.check_id = chks.check_id
AND   rownum < 11
order by check_id",972261.1,"Follow the instructions provided in Doc ID 972261.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Approved Payments Distributions Missing ACCOUNTING_EVENT_ID.,Under some circumstances some approved invoice distributions and/or payments are missing accounting_event_id's.,2,Oracle Payables,ACCOUNTING,ACCPAY,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing accounting events will prevent accounting on affected transactions from being processed. Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_DUPLICATE_BANK_ACCOUNTS,"SELECT ext_bank_account_id ext_bank_account_id
from
(
SELECT ext_bank_account_id ext_bank_account_id
     FROM iby_ext_bank_accounts
     WHERE (bank_account_num,
            nvl(bank_id,-99),
            nvl(branch_id,-99),
            nvl(currency_code,'XX'),
            country_code,
            nvl(bank_account_num_hash1,-1),
            nvl(bank_account_num_hash2,-1)) IN (
              SELECT bank_account_num,
                     nvl(bank_id,-99),
                     nvl(branch_id,-99),
                     nvl(currency_code,'XX'),
                     country_code,
                     nvl(bank_account_num_hash1,-1),
                     nvl(bank_account_num_hash2,-1)
              FROM iby_ext_bank_accounts
              WHERE country_code <> 'JP'
              AND   country_code <> 'NZ'
              GROUP BY bank_account_num, bank_id, branch_id, currency_code,
                       country_code, bank_account_num_hash1, bank_account_num_hash2
              HAVING count(*) > 1)
              AND   rownum < 11
     UNION ALL
     SELECT ext_bank_account_id
     FROM iby_ext_bank_accounts
     WHERE (bank_account_num,
            nvl(bank_id,-99),
            nvl(branch_id,-99),
            nvl(currency_code,'XX'),
            country_code,
            nvl(bank_account_num_hash1,-1),
            nvl(bank_account_num_hash2,-1),
            nvl(bank_account_type,'XX')) IN (
              SELECT bank_account_num,
                     nvl(bank_id,-99),
                     nvl(branch_id,-99),
                     nvl(currency_code,'XX'),
                     country_code,
                     nvl(bank_account_num_hash1,-1),
                     nvl(bank_account_num_hash2,-1),
                     nvl(bank_account_type,'XX')
              FROM iby_ext_bank_accounts
              WHERE country_code = 'JP'
              GROUP BY bank_account_num, bank_id, branch_id, currency_code,
                    country_code,  bank_account_num_hash1, bank_account_num_hash2,
                    bank_account_type
              HAVING   count(*) > 1)
              AND   rownum < 11
     UNION ALL
     SELECT ext_bank_account_id
     FROM iby_ext_bank_accounts
     WHERE (bank_account_num,
            nvl(bank_id,-99),
            nvl(branch_id,-99),
            nvl(currency_code,'XX'),
            country_code,
            nvl(bank_account_num_hash1,-1),
            nvl(bank_account_num_hash2,-1),
            nvl(ACCOUNT_SUFFIX,'XX')) IN (
              SELECT bank_account_num,
                     nvl(bank_id,-99),
                     nvl(branch_id,-99),
                     nvl(currency_code,'XX'),
                     country_code,
                     nvl(bank_account_num_hash1,-1),
                     nvl(bank_account_num_hash2,-1),
                     nvl(ACCOUNT_SUFFIX,'XX')
              FROM iby_ext_bank_accounts
              WHERE country_code = 'NZ'
              GROUP BY bank_account_num, bank_id, branch_id, currency_code,
                       country_code, bank_account_num_hash1, bank_account_num_hash2,
                       account_suffix
              HAVING count(*) > 1)
              AND   rownum < 11
)
order by ext_bank_account_id",1265353.1,"Follow the data fix instructions provided in Doc ID 1265353.1

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Duplicate bank account in IBY_EXT_BANK_ACCOUNTS.,Duplicate bank accounts created by the upgrade.,2,Oracle Payables,BANK_ACCT,BANK,WEEK,SAT,P2P: Payables and Payments,Duplicate bank accounts will prevent users from creating or updating supplier bank accounts with details similar to the duplicates.  The missing bank details can prevent payments to affected suppliers from being processed.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_AP_CHECK_NULL,"select org_id org_id, check_id check_id
from ap_invoice_payments_all aipa
where not exists
(select '1' from ap_checks_all aca where aca.check_id=aipa.check_id)
and rownum < 6
order by check_id",1587455.1,"1. Check(s) has been returned having the problem but more could exist.

2. To find all affected records, if not collected within the SR already, the Funds Disbursement Analyzer (Doc ID 1587455.1) will show all affected checks:
   Section: Overall Data Issues
   Signature: Orphan Records > Orphan Checks
Only organization parameter is required and necessary for this signature.

3. Refer to Doc ID 1395035.1 for the datafix.",SQLAP,Orphan check with no data in ap_checks_all table,Identified check(s) that was used in a payment but has no data in ap_checks_all table.,2,Oracle Payables,PAYMENTS,PPRINV,WEEK,SAT,P2P: Payables and Payments,Orphan check will prevent any action to be done from the invoice.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_PREPAY_ACCOUNTED_AMT_INCORRECT_FINALPMTROUNDING,"SELECT ai.invoice_id invoice_id
FROM ap_prepay_history_all apph,
     (
       SELECT apad.prepay_app_distribution_id,
              sum(apad.amount) sum_app_dists_amt,
              sum(apad.base_amount) sum_app_dists_base_amt
       FROM ap_prepay_app_dists apad,
            ap_prepay_history_all apph
       WHERE apph.transaction_type <> 'PREPAYMENT APPLICATION ADJ'
       AND   apph.prepay_history_id = apad.prepay_history_id
       AND   apad.prepay_dist_lookup_code IN ('PREPAY APPL',
               'PREPAY APPL NONREC TAX', 'PREPAY APPL REC TAX',
               'FINAL PAYMENT ROUNDING')
       GROUP BY apad.prepay_app_distribution_id
     ) apad_amts,
     ap_invoice_distributions_all aidp,
     ap_invoices_all ai,
     ap_system_parameters_all asp,
     financials_system_params_all fsp,
     (
       SELECT DISTINCT invoice_id
       FROM ap_invoice_distributions_all
       WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
         (trunc(sysdate) + 3)
     ) invs
WHERE apph.transaction_type <> 'PREPAYMENT APPLICATION ADJ'
AND   aidp.invoice_id = apph.invoice_id
AND   apph.accounting_event_id = aidp.accounting_event_id
AND   aidp.line_type_lookup_code IN ('PREPAY', 'REC_TAX', 'NONREC_TAX')
AND   aidp.prepay_distribution_id is not null
AND   nvl(aidp.reversal_flag, 'N') <> 'Y'
AND   aidp.invoice_id = ai.invoice_id
AND   fsp.org_id = aidp.org_id
AND   asp.org_id = aidp.org_id
AND   (aidp.posted_flag = 'Y' OR
       (aidp.match_status_flag IN ('A','T') AND
        nvl(fsp.purch_encumbrance_flag, 'N') = 'N') OR
       (aidp.match_status_flag = 'A' AND
        nvl(fsp.purch_encumbrance_flag, 'N') = 'Y'))
AND   aidp.accounting_event_id is not null
AND   EXISTS (
        SELECT 1 FROM ap_invoice_distributions_all aidp2
        WHERE aidp2.invoice_id = ai.invoice_id
        AND   aidp2.prepay_distribution_id is not null
        AND   aidp2.line_type_lookup_code = 'PREPAY'
        AND   aidp2.reversal_flag = 'Y'
        AND   aidp2.parent_reversal_id is not null
        UNION
        SELECT 1
        FROM ap_invoice_payments_all aip,
             ap_checks_all ac
        WHERE aip.invoice_id = ai.invoice_id
        AND   aip.check_id = ac.check_id
        AND   ac.status_lookup_code = 'VOIDED'
        AND   ac.void_date is not null)
AND   apad_amts.prepay_app_distribution_id = aidp.invoice_distribution_id
AND   (aidp.amount <> apad_amts.sum_app_dists_amt OR
       (ai.invoice_currency_code <> asp.base_currency_code AND
            abs(aidp.base_amount - apad_amts.sum_app_dists_base_amt) >= 2))
AND   ai.invoice_id = invs.invoice_id
AND   rownum < 11
order by invoice_id",1190473.1,"Follow Doc ID 1190473.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Incorrect Accounting of Prepay Applied due to prior unapplied prepay/cancelled payment.,"If a prepay is applied/unapplied and then applied again for the full amount, when recreating the Prepay Apply,  the second prepay apply has net 0 amount.",2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,"Prepayments will have incorrect accounting entries created, which may report the invoices with incorrect remaining amounts in the trial balance.",EBS Financials,EBS - Payables
ME$EBS_FIN_AP_HISTORICAL_UPGRADED_EVENTS_MISSINGRECORDS,"SELECT
    ac.check_id check_id
  
FROM
    xla_events xe,
    xla_transaction_entities_upg                                                                                                   xte,
    ap_checks_all                                                                                                                  ac,
    gl_period_statuses                                                                                                             upg,
    ap_system_parameters_all                                                                                                       asp, xla_ae_headers                                                                                                                 xah,
    xla_ae_lines                                                                                                                   xal,
    (
        SELECT DISTINCT
            ph.check_id
        FROM
            ap_payment_history_all ph
        WHERE
            ph.accounting_date BETWEEN ( trunc(SYSDATE) - 7 ) AND ( trunc(SYSDATE) + 3) ) chks
WHERE
    xe.application_id = 200
    AND xe.event_status_code = 'P'
    AND xe.upg_batch_id IS NOT NULL
    AND xe.upg_batch_id <> - 9999
    AND xah.application_id = 200
    AND xal.application_id = 200
    AND xah.event_id = xe.event_id AND xah.ae_header_id = xal.ae_header_id
    AND xah.upg_batch_id IS NOT NULL
    AND xte.application_id = 200 AND xte.ledger_id = xah.ledger_id
    AND xte.entity_code = 'AP_PAYMENTS'
    AND xte.entity_id = xe.entity_id
    AND ac.check_id = nvl(xte.source_id_int_1, - 99)
    AND upg.application_id = xte.application_id
    AND upg.ledger_id = xte.ledger_id
    AND upg.set_of_books_id = asp.set_of_books_id AND asp.set_of_books_id = xte.ledger_id
    AND asp.org_id = ac.org_id
    AND ac.check_date BETWEEN upg.start_date AND upg.end_date
    AND upg.migration_status_code = 'U'
    AND upg.closing_status IN (
        'O', 'C',
        'P'
    )
    AND trunc(upg.start_date) < (
        SELECT
            MIN(trunc(creation_date))
        FROM
            ad_applied_patches
        WHERE
            patch_type = 'MAINTENANCE-PACK'
            AND maint_pack_level LIKE '12.%'
    )
    AND EXISTS (
        SELECT
            1
        FROM
            ap_invoice_payments_all aip
        WHERE
            aip.check_id = ac.check_id
    )
    AND NOT EXISTS (
        SELECT
            1 FROM
            xla_distribution_links xdl
        WHERE
            xdl.application_id = 200
            AND xdl.ae_header_id = xah.ae_header_id
            AND xdl.ae_line_num = xal.ae_line_num
    )
    AND ac.check_id = chks.check_id
 AND rownum < 11
ORDER BY ac.check_id
",1054299.1,"Follow Doc ID 1054299.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Historical upgraded events found to be missing records in xla_distribution_links.,Historical upgraded events with missing records in XLA.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing accounting details from upgraded transactions cause accounting errors on new downstream events.  Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_OUTOFSYNC_AMOUNTS_DIST_XLA,"SELECT
    invoice_id invoice_id
FROM
    (
        WITH invs AS (
   SELECT /*+ materialize */ DISTINCT
       invoice_id
   FROM
       ap_invoice_distributions_all
   WHERE
       accounting_date BETWEEN ( trunc(sysdate) - 7 ) AND ( trunc(sysdate) + 3 )
        )
/*SPLIT_HERE*/
        SELECT /*+ ordered use_nl(ai, aid, xdl, xe, xah, xal) */
   ai.invoice_id invoice_id
        FROM invs, ap_invoices_all ai, ap_invoice_distributions_all aid,  xla_distribution_links xdl, xla_events xe, xla_ae_headers xah, gl_ledgers gl, xla_ae_lines xal
        WHERE
   ai.invoice_id = invs.invoice_id
   AND xah.ledger_id = gl.ledger_id
   AND gl.sla_ledger_cash_basis_flag = 'N'
   AND ai.invoice_id = aid.invoice_id
   AND aid.line_type_lookup_code NOT IN ( 'PREPAY', 'AWT', 'NONREC_TAX', 'REC_TAX', 'TRV', 'TERV', 'TIPV' )
   AND aid.prepay_distribution_id IS NULL
   AND aid.accounting_event_id = xe.event_id
   AND xe.event_status_code = 'P'
   AND xe.process_status_code = 'P'
   AND nvl(xe.budgetary_control_flag, 'N') = 'N'
   AND xe.event_id = xah.event_id
   AND xah.balance_type_code = 'A'
   AND xah.application_id = 200
   AND xah.application_id = xe.application_id
   AND xah.application_id = xal.application_id
   AND xah.application_id = xdl.application_id
   AND xah.parent_ae_header_id IS NULL
   AND xah.ae_header_id = xal.ae_header_id
   AND nvl(xah.upg_batch_id, - 9999) = - 9999
   AND xal.accounting_class_code = 'LIABILITY'
   AND xah.ae_header_id = xdl.ae_header_id
   AND xal.ae_line_num = xdl.ae_line_num
   AND xdl.source_distribution_type = 'AP_INV_DIST'
   AND xdl.source_distribution_id_num_1 = aid.invoice_distribution_id
   AND EXISTS (
       SELECT /*+ no_unnest */
  1
       FROM
  ap_invoice_distributions_all aid2
       WHERE
  aid2.invoice_id = aid.invoice_id
  AND aid2.line_type_lookup_code IN ( 'NONREC_TAX', 'REC_TAX', 'TIPV', 'TERV', 'TRV' )
  AND aid2.invoice_line_number = aid.invoice_line_number
  AND aid2.charge_applicable_to_dist_id = aid.invoice_distribution_id
  AND aid2.posted_flag = 'Y'
   )
   AND ( nvl(xdl.unrounded_entered_cr, xdl.unrounded_entered_dr) <> abs(aid.amount)
         OR NOT EXISTS (
       SELECT /*+ no_unnest */
  1
       FROM
  ap_invoice_distributions_all aid3, xla_ae_headers  xah2, xla_distribution_links  xdl2
       WHERE
  aid3.invoice_id = aid.invoice_id
  AND aid3.line_type_lookup_code IN ( 'NONREC_TAX', 'REC_TAX', 'TIPV', 'TERV',  'TRV' )
  AND aid3.invoice_line_number = aid.invoice_line_number
  AND aid3.charge_applicable_to_dist_id = aid.invoice_distribution_id
  AND xah2.ledger_id = xah.ledger_id
  AND xah2.application_id = xah.application_id
  AND xdl2.application_id = xah.application_id
  AND xah2.event_id = aid3.accounting_event_id
  AND xah2.ae_header_id = xdl2.ae_header_id
  AND xdl2.source_distribution_type = 'AP_INV_DIST'
  AND xdl2.source_distribution_id_num_1 = aid3.invoice_distribution_id
   ) )
   AND ROWNUM < 11
        UNION ALL
        SELECT /*+ ordered use_nl(ai, aid, xdl, xe, xah, xal) */
   ai.invoice_id invoice_id
        FROM
   invs,
   ap_invoices_all ai, ap_invoice_distributions_all   aid, xla_distribution_links   xdl,  xla_events  xe,  xla_ae_headers  xah, gl_ledgers   gl, xla_ae_lines xal
        WHERE
   ai.invoice_id = invs.invoice_id
   AND aid.invoice_id = ai.invoice_id
   AND aid.line_type_lookup_code NOT IN ( 'PREPAY', 'AWT' )
   AND aid.prepay_distribution_id IS NULL
   AND xe.event_id = aid.accounting_event_id
   AND xe.event_status_code = 'P'
   AND xe.process_status_code = 'P'
   AND xe.application_id = 200
   AND nvl(xe.budgetary_control_flag, 'N') = 'N'
   AND xah.event_id = xe.event_id
   AND xah.application_id = xe.application_id
   AND xah.balance_type_code = 'A'
   AND xah.parent_ae_header_id IS NULL
   AND nvl(xah.upg_batch_id, - 9999) = - 9999
   AND gl.ledger_id = xah.ledger_id
   AND gl.sla_ledger_cash_basis_flag = 'N'
   AND xal.ae_header_id = xah.ae_header_id
   AND xal.application_id = xah.application_id
   AND xal.accounting_class_code = 'LIABILITY'
   AND xdl.source_distribution_type = 'AP_INV_DIST'
   AND xdl.source_distribution_id_num_1 = aid.invoice_distribution_id
   AND xdl.application_id = xah.application_id
   AND xdl.ae_header_id = nvl(xal.ae_header_id, 0)
   AND xdl.ae_line_num = nvl(xal.ae_line_num, 0)
   AND ( ( abs(nvl(aid.base_amount, aid.amount)) <> abs(nvl(xdl.unrounded_accounted_cr, 0) - nvl(xdl.unrounded_accounted_dr , 0))
  AND xah.ledger_id = ai.set_of_books_id )
         OR ( ( abs(aid.amount) <> abs(nvl(xdl.unrounded_entered_cr, 0) - nvl(xdl.unrounded_entered_dr, 0)) )
     AND xah.ledger_id <> ai.set_of_books_id ) )
   AND ROWNUM < 11
        UNION ALL
        SELECT /*+ ordered use_nl(ai, aid, xe, xah, xte) */
   ai.invoice_id invoice_id
        FROM
   invs, ap_invoices_all ai, ap_invoice_distributions_all   aid,  xla_events xe, xla_transaction_entities_upg   xte, xla_ae_headers xah,  gl_ledgers gl
        WHERE
   xah.ledger_id = gl.ledger_id
   AND gl.sla_ledger_cash_basis_flag = 'N'
   AND ai.invoice_id = aid.invoice_id
   AND aid.line_type_lookup_code NOT IN ( 'PREPAY', 'AWT' )
   AND aid.prepay_distribution_id IS NULL
   AND xe.event_id = aid.accounting_event_id
   AND nvl(xe.budgetary_control_flag, 'N') = 'N'
   AND xah.event_id = xe.event_id
   AND xah.application_id = 200
   AND xah.balance_type_code = 'A'
   AND xah.parent_ae_header_id IS NULL
   AND NOT ( aid.line_type_lookup_code IN ( 'ERV', 'TERV')
   AND xah.ledger_id <> ai.set_of_books_id )
   AND xe.application_id = 200
   AND xe.event_status_code = 'P'
   AND xe.process_status_code = 'P'
   AND xe.entity_id = xte.entity_id
   AND xte.application_id = 200
   AND xte.entity_code = 'AP_INVOICES'
   AND xte.source_id_int_1 = ai.invoice_id
   AND nvl(xah.upg_batch_id, - 9999) = - 9999
   AND NOT EXISTS (
       SELECT /*+ no_unnest */
  1
       FROM
  xla_distribution_links xdl
       WHERE
  xah.application_id = xdl.application_id
  AND xah.ae_header_id = xdl.ae_header_id
  AND xdl.source_distribution_type = 'AP_INV_DIST'
  AND xdl.source_distribution_id_num_1 = aid.invoice_distribution_id
   )
   AND ai.invoice_id = invs.invoice_id
   AND ROWNUM < 11
/*SPLIT_HERE*/   
 )
ORDER BY
    invoice_id",1063263.1 ,"Follow Doc ID 1063263.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Out of sync amounts between Invoice distributions and XLA_Distribution_Links.,Checking for out of sync amounts between invoice and XLA distributions updated after they are accounted.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Reporting,User changes to previously accounted invoices may not result in updated accounting. The original accounting entries will be incorrect based on the new transaction details.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_HISTORICAL_UPGRADED_EVENTS_MISSINGRECORDS_INV,"SELECT /*+ ordered use_nl(ai, xte, xe) */
          ai.invoice_id invoice_id
       
   FROM (
          SELECT /*+ materialize */ DISTINCT invoice_id
FROM ap_invoice_distributions_all
WHERE accounting_date BETWEEN (trunc(sysdate) - 7) AND
(trunc(sysdate) + 3)
        ) invs,
        ap_invoices_all ai,
        ap_system_parameters_all asp,
        gl_period_statuses upg,
        xla_transaction_entities_upg xte,
        xla_events xe,
        xla_ae_headers xah,
        xla_ae_lines xal
   WHERE xe.application_id = 200
   AND   xe.event_status_code = 'P'
   AND   xe.entity_id = xte.entity_id
   AND   xe.upg_batch_id is not null
   AND   xe.upg_batch_id <> - 9999
   AND   xah.application_id = 200
   AND   xal.application_id = 200
   AND   xte.application_id = 200
   AND   upg.application_id = 200
   AND   xah.event_id = xe.event_id
   AND   xah.ledger_id = xte.ledger_id
   AND   xal.ae_header_id = xah.ae_header_id
   AND   xah.upg_batch_id is not null
   AND   xte.entity_code = 'AP_INVOICES'
   AND   xte.ledger_id = upg.ledger_id
   AND   nvl(xte.source_id_int_1,-99) = ai.invoice_id
   AND   asp.set_of_books_id = xte.ledger_id
   AND   upg.set_of_books_id = asp.set_of_books_id
   AND   asp.org_id = ai.org_id
   AND   ai.gl_date BETWEEN upg.start_date AND upg.end_date
   AND   upg.migration_status_code = 'U'
   AND   upg.closing_status in ('O','C','P')
   AND   trunc(upg.start_date) < (
           SELECT min(trunc(creation_date)) FROM ad_applied_patches
           WHERE patch_type = 'MAINTENANCE-PACK'
           AND   maint_pack_level LIKE '12.%')
   AND   EXISTS (
           SELECT /*+ no_unnest */ 1 FROM ap_invoice_distributions_all aid
           WHERE aid.invoice_id = ai.invoice_id
           AND   aid.accounting_event_id = xe.event_id
           AND   aid.Historical_flag = 'Y')
   AND   NOT EXISTS (
           SELECT /*+ no_unnest */ 1 FROM xla_distribution_links xdl
           WHERE xdl.application_id = 200
           AND   xdl.ae_header_id = xah.ae_header_id
           AND   xdl.ae_line_num = xal.ae_line_num)
   AND   ai.invoice_id = invs.invoice_id
 AND rownum < 11
ORDER BY ai.invoice_id",1054299.1,"Follow Doc ID 1054299.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Historical upgraded events found to be missing records in xla_distribution_links.,Historical upgraded events with missing records in XLA.,2,Oracle Payables,ACCOUNTING,ACCINVENG,WEEK,SAT,Accounting to Financial Reports: Period Close,Missing accounting details from upgraded transactions cause accounting errors on new downstream events.  Any unaccounted transactions resulting from the corruption will prevent period closure.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_DUPLICATE_EXTERNAL_PAYEES,"SELECT a.ext_payee_id ext_payee_id
FROM iby_external_payees_all a
WHERE EXISTS (
        SELECT 'duplicates' FROM iby_external_payees_all b
        WHERE a.payee_party_id = b.payee_party_id
        AND   a.payment_function = b.payment_function
        AND   nvl(a.party_site_id, 0) = nvl(b.party_site_id, 0)
        AND   nvl(a.supplier_site_id, 0) = nvl(b.supplier_site_id, 0)
        AND   nvl(a.org_id, 0) = nvl(b.org_id, 0)
        AND   nvl(a.org_type, '0') = nvl(b.org_type, '0')
        AND   a.ext_payee_id <> b.ext_payee_id)
AND   rownum < 11
order by ext_payee_id",1315812.1,"Follow Doc ID 1315812.1 for the data fix instructions and RCA patch(es).

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",SQLAP,Duplicate external Payee in iby_external_payees_all.,Duplicate external payee record(s) have been found.,2,Oracle Payables,SUPPLIERS,SUPPLIER,WEEK,SAT,P2P: Payables and Payments,Duplicate payee records can prevent invoices from being created manually or imported during the Open Interface Import program used to import invoices from external sources.  It can also prevent payments to affected suppliers from being processed.,EBS Financials,EBS - Payables
ME$EBS_CRM_SM_DUPLICATE_BANK_ASSIGNMENTS_IBY_PMT_INSTR_USES_ALL,"SELECT INSTRUMENT_PAYMENT_USE_ID assignment , EXT_PMT_PARTY_ID EXT_PMT_PARTY_ID ,INSTRUMENT_TYPE INSTRUMENT_TYPE ,
INSTRUMENT_ID INSTRUMENT_ID , Rank_no Rank_ro
FROM
(SELECT INSTRUMENT_PAYMENT_USE_ID,
EXT_PMT_PARTY_ID,
INSTRUMENT_TYPE,
INSTRUMENT_ID,
RANK() OVER (PARTITION BY PAYMENT_FLOW, EXT_PMT_PARTY_ID,
INSTRUMENT_TYPE, INSTRUMENT_ID, PAYMENT_FUNCTION ORDER BY start_date,
end_date DESC, creation_date, INSTRUMENT_PAYMENT_USE_ID )rank_no
FROM iby_pmt_instr_uses_all 
where instrument_type = 'BANKACCOUNT' and PAYMENT_FLOW='FUNDS_CAPTURE'
AND PAYMENT_FUNCTION = 'CUSTOMER_PAYMENT'
)
WHERE rank_no>1
and rownum<100",2368578.1,,IBY,Duplicate Funds Capture instrument assignments for bank accounts,"In Funds Capture ,  duplicate instrument assignments for bank accounts are present in IBY_PMT_INSTR_USES_ALL",2,Oracle Payments,FC_CORE,VALIDATIONS,WEEK,SAT,P2P: Payables and Payments,"Duplicate assignments may cause errors during processing payment transactions when using the duplicate assignment  (i.e Automatic Receipt/Remittance, Create Settlement Batches)",EBS CRM,EBS - Sales/Marketing
ME$EBS_FIN_AP_BANK_ACCOUNT_GREATERTHAN30,"select acct.EXT_BANK_ACCOUNT_ID Bank_Account_ID
from iby_ext_bank_accounts acct,iby_account_owners owner, hz_parties party
where length(bank_account_num)>30
and acct.ext_bank_account_id = owner.ext_bank_account_id
and owner.primary_flag = 'Y'
and owner.account_owner_party_id = party.party_id
and EXISTS(
    SELECT 'ASSIGNMENT' FROM iby_pmt_instr_uses_all iu
    WHERE iu.instrument_type = 'BANKACCOUNT'
    AND   iu.instrument_id = acct.ext_bank_account_id)
and rownum < 6
order by Bank_Account_ID",1630483.1,"1. To find all affected bank accounts, run the following sql statement.

select acct.EXT_BANK_ACCOUNT_ID Bank_Account_ID
from iby_ext_bank_accounts acct,iby_account_owners owner, hz_parties party
where length(bank_account_num)>30
and acct.ext_bank_account_id = owner.ext_bank_account_id
and owner.primary_flag = 'Y'
and owner.account_owner_party_id = party.party_id
and EXISTS(
    SELECT 'ASSIGNMENT' FROM iby_pmt_instr_uses_all iu
    WHERE iu.instrument_type = 'BANKACCOUNT'
    AND   iu.instrument_id = acct.ext_bank_account_id)


2. To address existing bank accounts, these need to be manually updated so that the upper limit of 30 characters is not breached.
Navigation: Payables Responsibility > Suppliers > Banking Details
See Doc ID 1081823.1 for steps to do depending if checks have gone out to Suppliers or not.

3. See Doc ID 1630483.1 for patch to apply which will force bank account numbers to be 30 characters or less.",IBY,Bank Account number greater than 30 characters long.,"Such bank account can lead to errors while processing payments, and this error is not easy to find as exact root cause.",2,Oracle Payments,FD_CORE,PRR,WEEK,SAT,P2P: Payables and Payments,Bank Account greater than 30 characters long exist. Such accounts will cause errors while processing payments.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_DUP_PMT_METHODS,"select pmtmthd.EXT_PARTY_PMT_MTHD_ID EXT_PARTY_PMT_MTHD_ID
FROM iby_ext_party_pmt_mthds pmtmthd
WHERE pmtmthd.ext_party_pmt_mthd_id IN
(SELECT ext_party_pmt_mthd_id
FROM
(SELECT ext_party_pmt_mthd_id,
payment_method_code,
ext_pmt_party_id,
primary_flag,
inactive_date,
rank() OVER (PARTITION BY ext_pmt_party_id, primary_flag ORDER BY
inactive_date DESC, ext_party_pmt_mthd_id) rank
FROM iby_ext_party_pmt_mthds
)
WHERE rank > 1 and primary_flag = 'Y')
and rownum < 6
order by EXT_PARTY_PMT_MTHD_ID",1315812.1,"Use GDF 1315812.1 for the data fix.

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",IBY,Duplicate Primary Payment Methods.,Such duplicate records can lead to errors while processing payments.,2,Oracle Payments,FD_CORE,PRR,WEEK,SAT,P2P: Payables and Payments,Duplicate Primary Payment Method exist. Using such payment method will cause errors while processing payments.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_INCORRECT_PRIMARY_OWNER,"SELECT ACCOUNT_OWNER_ID ACCOUNT_OWNER_ID
FROM iby_account_owners
WHERE PRIMARY_FLAG = 'Y'
AND account_owner_party_id = -99
and rownum < 6
order by ACCOUNT_OWNER_ID",2128143.1,"See Doc ID 2128143.1 Solution for Cause #2 - problem 1. duplicate primary flag for supplier bank account.

IMPORTANT NOTE:
There could be more transactions having this problem than reported in the Service Request due to the maximum threshold defined. So the recommendation is that you run the datafix (GDF) for all eligible affected transactions identified by the GDF select script.",IBY,Account with incorrect Primary flag,Such primary account not defined correctly can lead to errors while processing payments.,2,Oracle Payments,FD_CORE,PRR,WEEK,SAT,P2P: Payables and Payments,Account with incorrect Primary flag exist. Such accounts will cause errors while processing payments.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_ASSIGNMENT_ENDDATED_BUT_PRIMARY,"SELECT CODE_ASSIGNMENT_ID CODE_ASSIGNMENT_ID
FROM HZ_Code_Assignments
WHERE class_category = 'BANK_BRANCH_TYPE'
AND owner_table_name = 'HZ_PARTIES'
AND owner_table_id
IN (SELECT owner_table_id FROM
(SELECT owner_table_id, ROW_NUMBER()
OVER ( PARTITION BY owner_table_id ORDER BY creation_date ) rn
FROM HZ_Code_Assignments WHERE owner_table_id
IN (SELECT branch_party_id FROM CE_Bank_Branches_V )
AND class_category = 'BANK_BRANCH_TYPE'
AND owner_table_name = 'HZ_PARTIES'
AND primary_flag ='Y' )
WHERE rn > 1 )
and rownum < 6
order by CODE_ASSIGNMENT_ID", 2128143.1,Refer to Doc ID 2128143.1 for the solution.,IBY,Assignment Set as Primary but End Dated,HZ_CODE_ASSIGNMENTS have been found that is end dated but still set as primary.,2,Oracle Payments,FD_CORE,PRR,WEEK,SAT,P2P: Payables and Payments,Assignment Set as Primary but End Dated exist. Such record will cause errors while processing payments.,EBS Financials,EBS - Payables
ME$EBS_FIN_AP_LEGAL_ACCOUNT_NAME_GREATERTHAN30,"select short_account_name short_account_name, bank_account_name bank_account_name
from apps.ce_bank_accounts a
where length(short_account_name) >= 30
and rownum < 6
order by bank_account_name",1614043.1,"1. To find all affected bank accounts, following options exist:

a. Use the following sql statement:
select short_account_name,bank_account_name
from apps.ce_bank_accounts a
where length(short_account_name) >= 30

b. Or run the Funds Disbursement analyzer (Doc ID 1587455.1) where the following signature will show all affected bank accounts:
Section: Overall Data Issues
Signature: Legal Account Name > 30 Chars

2. Change the Legal Name field on the Bank Account Setup to be less than 30 characters long.

3. See Doc ID 2098313.1 for code fix to avoid creation of such records in the future.",IBY,Legal Account Name greater than 30 characters long.,"Such Legal Account Name can lead to errors while processing payments, and this error is not easy to find as exact root cause.",2,Oracle Payments,FD_CORE,PRR,WEEK,SAT,P2P: Payables and Payments,Legal Account Name greater than 30 characters long exist. Such accounts will cause errors while processing payments.,EBS Financials,EBS - Payables
ME$EBS_HCM_PAY_BAL_INVALID,"select business_group_id business_group_id,
name bg_name,
legislation_code legislation_code
from
(
select pbg.business_group_id business_group_id,
pbg.name,pbg.legislation_code legislation_code, 
count(1) Invalid_count
from pay_defined_balances pdb,
pay_balance_types pbt,
pay_balance_dimensions pbd,
per_business_groups pbg,
hr_lookups hl,
pay_balance_validation pbv
where pdb.balance_type_id = pbt.balance_type_id
and pdb.balance_dimension_id = pbd.balance_dimension_id
and pdb.save_run_balance = 'Y'
and ((pdb.legislation_code = pbg.legislation_code)
or (pdb.business_group_id = pbg.business_group_id))
and hl.lookup_type(+) = 'RUN_BALANCE_STATUS'
and hl.lookup_code(+) = pbv.run_balance_status
and pbv.defined_balance_id (+) = pdb.defined_balance_id
and pbv.business_group_id = nvl(pdb.business_group_id, pbg.business_group_id)
and hl.lookup_code = 'I' and pbv.run_balance_status <> 'V'
and NVL(pbg.date_to,fnd_date.canonical_to_date('4712/12/31')) >= SYSDATE
group by pbg.business_group_id,pbg.name,pbg.legislation_code
having count(1)>10
order by pbg.business_group_id
)
where rownum<100
order by 1",2366033.1,"SYMPTOM:   Invalid balances detected

CAUSE:     Invalid balance will cause performance issues with payroll and incorrect balances in payroll processing and payroll reports

SOLUTION:  Execute the Generate Run Balances Process to address the invalid balances

Here are some notes to help you with this:

-  Note 335950.1 - Best Practices: Generate Run Balance Payroll

-  Note 377887.1 - How to SetUp and Use PROCESS_TIMEOUT for the Generate Run Balance Process",PAY,Invalid balances,Invalid balances detected that may cause performance issue.,2,Oracle Payroll,BALANCES,GEN_RUN_BAL,WEEK,SAT,People to Paycheck: Payroll,Affect Payroll performance and may affect result of US/CA SOE,EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_DATA_CORRUPTION_PAY_RUN_RESULTS,"select ELEMENT_ENTRY_ID ELEMENT_ENTRY_ID from pay_run_results 
where ELEMENT_ENTRY_ID<>SOURCE_ID 
and ENTRY_TYPE='E'
and rownum<100
and exists (select 1 from FND_PRODUCT_INSTALLATIONS where APPLICATION_ID = 801 and status='I')
AND exists (select 1 from pay_payroll_actions where action_type = 'L' and effective_date >= to_date('01-JAN-2015','DD-MON-YYYY'))
order by 1",2360202.1,"SYMPTOM:   Retropay process creates unexpected retro entries when no change has been made

CAUSE:        This issue is caused by data corruption

SOLUTION:  A data fix will be required to address this issue. 

If you would like to correct this, please update the SR and Support will engage appropriately.",PAY,Data corruption identified in Process Payroll Run entries,Retropay process can create unexpected retro entries when no change has been made.,3,Oracle Payroll,RetroPay,RETROPAY,WEEK,SAT,People to Paycheck: Payroll,The Process Payroll Run has entries that will cause the Payroll Process to fail and will result in employees not being paid.,EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_DATA_CORRUPTION_IN_PAY_COST_ALLOCATION_KEYFLEX,"select a.cost_allocation_keyflex_id cost_id
  from pay_cost_allocation_keyflex a
 where concatenated_segments IS NULL
and rownum<100
order by 1
",1282716.1,"SYMPTOM:   CONCATENATED_SEGMENTS field is NULL for some assignment_id's in the PAY_COST_ALLOCATION_KEYFLEX table

CAUSE:     This is a data corruption issue

SOLUTION:  A data fix will be required to address this issue. 

If you would like to correct this, please update the SR and Support will engage appropriately.",PAY,Data Corruption in Payroll Cost Allocation Keyflex,Concatenated_Segments Field Is Null For Some Assignment_Id's in Pay_Cost_Allocation_Keyflex Table,3,Oracle Payroll,COSTING,REPORTS,WEEK,SAT,People to Paycheck: Payroll,Integration between Payroll and Financial modules is affected. The Payroll data are not transferred in Financial Modules and Data Integrity is affected.,EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_RETRO_ASG_STATUS_DUP_ISSUE,"select papf.business_group_id business_group_id,
assignment_number assignment_number,
paaf.assignment_id assignment_id,
pra.approval_status approval_status,
pra.reprocess_date reprocess_date
from pay_retro_assignments pra,
per_all_assignments_f paaf,
per_all_people_f papf
where pra.assignment_id = paaf.assignment_id
and papf.person_id = paaf.person_id
and pra.reprocess_date between paaf.effective_start_date and paaf.effective_end_date
and pra.reprocess_date between papf.effective_start_date and papf.effective_end_date
and exists ( select assignment_id, count(*)
from pay_retro_assignments
where retro_assignment_action_id is null
and assignment_id = paaf.assignment_id
group by assignment_id
having count(*) > 1 )
and rownum<100
order by 3
",2393992.1,"SYMPTOM:   Retropay Enhanced or Retro Notification Report (Enhanced) encounter ORA-00001: unique constraint issue

CAUSE:     There are assignments that have more than one unprocessed retro assignment in the pay_retro_assignments table

SOLUTION:  For each assignment_id identified, find the related assignment number (or employee name) and delete one of the duplicate rows from the Retropay Status form.",PAY,Duplicate Retro assignments with null Retro Assignment Action,Duplicate Retro assignments with retro_assignment_action_id is null identified.,3,Oracle Payroll,RetroPay,,WEEK,SAT,People to Paycheck: Payroll,Retropay process is affected. Assignments with more than one unprocessed retro assignment conduct to errors in Retropay process.,EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_UNCOMPILED_FORMULA,"select
formula_name formula_name,
formula_type_name formula_type_name,
effective_start_date effective_start_date,
effective_end_date effective_end_date,
legislation_code legislation_code
from (
select 
ff.formula_id,
ff.formula_name,
fft.formula_type_name,
ff.effective_start_date,
ff.effective_end_date,
ff.legislation_code,
ff.business_group_id,
ff.sticky_flag,
ff.compile_flag,
nvl(to_char(ffc.formula_id),'Not compiled') Comp
from apps.ff_formulas_f ff
, apps.ff_compiled_info_f ffc,
ff_formula_types fft
where ff.formula_id = ffc.formula_id(+)
and ff.effective_start_date = ffc.effective_start_date(+)
and ff.effective_end_date = ffc.effective_end_date(+)
and fft.formula_type_id=ff.formula_type_id
minus
(
select ff.formula_id,
ff.formula_name,
fft.formula_type_name,
ff.effective_start_date,
ff.effective_end_date,
ff.legislation_code,
ff.business_group_id,
ff.sticky_flag,
ff.compile_flag,
nvl(to_char(ffc.formula_id),'Not compiled') Comp
from apps.ff_formulas_f ff
,apps.ff_compiled_info_f ffc,
ff_formula_types fft
where ff.formula_id = ffc.formula_id
and ff.effective_start_date = ffc.effective_start_date
and ff.effective_end_date = ffc.effective_end_date
and fft.formula_type_id=ff.formula_type_id
) )
where legislation_code in 
(select legislation_code
from hr_legislation_installations
where status = 'I'
and application_short_name='PAY')
and rownum < 2
order by 1",155737.1,"SYMPTOM:   There are uncompiled formulas  identified in this instance for installed legislations.

CAUSE:         Formula not compiled

SOLUTION:  Run the concurrent process Bulk Compile of Formulas:

Processes and Reports -> Submit Processes and Reports
Select Bulk Compile of Formulas",PAY,Uncompiled fast formula detected,Fast formula uncompiled identified in this instance for installed legislations.,3,Oracle Payroll,PAYROLL,GENERAL,WEEK,SAT,People to Paycheck: Payroll,"Payroll or Retropay processes may be impacted by uncompiled formula, generating unpaid employees. Legislative reports will not be sent to the authorities as required by legislations in the required dead lines.",EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_DATA_CORRUPTION_STATUS_BLANK,"select paa.assignment_id assignment_id, 
hrl.meaning meaning,
ppa.action_status pay_assignment_status,
ppa.effective_date effective_date,
ppa.date_earned date_earned,
ppa.payroll_Action_id payroll_Action_id
from pay_assignment_actions paa,
pay_payroll_Actions ppa,
fnd_lookup_values hrl
where paa.payroll_action_id = ppa.payroll_action_id
and ppa.action_type = hrl.lookup_code
and hrl.lookup_type = 'ACTION_TYPE'
and hrl.language = 'US'
and paa.action_status = 'B'
and rownum<100
order by 1",1942853.1,"SYMPTOM:   When attempting to run payroll, it skips employees with blank status for the previous payroll run even it is completed

CAUSE:         This issue is caused by data corruption

SOLUTION: 

A data fix will be required to address this issue. 

If you would like to correct this, please update the SR and Support will engage appropriately.",PAY,Data corruption in Assignment actions,"Assignment actions have action_status = B, which is not a valid status value",2,Oracle Payroll,PAYROLL,PAYPROC,WEEK,SAT,People to Paycheck: Payroll,"When attempting to run payroll, it skips employees with blank status for the previous payroll run even it is completed.",EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_INVALID_BALANCE_ATTRIBUTES,"SELECT
pba.legislation_code legislation_code,
pba.business_group_id business_group_id,
BAD.ATTRIBUTE_NAME ATTRIBUTE_NAME
,PBT.balance_name balance_name
,DIM.DIMENSION_NAME DIMENSION_NAME
,PDB.save_run_balance save_run_balance
FROM
PAY_BALANCE_ATTRIBUTES PBA
, PAY_BAL_ATTRIBUTE_DEFINITIONS BAD
, PAY_DEFINED_BALANCES PDB
, PAY_BALANCE_TYPES PBT
, PAY_BALANCE_DIMENSIONS DIM
Where pba.attribute_id = bad.attribute_id
and pba.defined_balance_id = pdb.defined_balance_id
and pdb.balance_type_id = pbt.balance_type_id
and pdb.balance_dimension_id = dim.balance_dimension_id
and DIM.DIMENSION_NAME like '%Run%'
and pdb.save_run_balance is NULL
and ((pba.legislation_code is not null and pba.business_group_id is NULL) OR
    (pba.business_group_id is not null and pba.legislation_code is NULL))
and rownum < 100
order by 1,2", 2399422.1,"SYMPTOM:   Invalid balance attributes identified

CAUSE:     Invalid balance attributes will cause performance issues with payroll and incorrect balances in payroll processing and payroll reports

SOLUTION:  A data fix will be required to address this issue. 

If you would like to correct this, please update the SR and Support will engage appropriately.",PAY,Invalid Balance Attributes,Invalid balance attributes identified.  These need to be corrected.,4,Oracle Payroll,BALANCES,GEN_RUN_BAL,MONTH,LAST,People to Paycheck: Payroll,Invalid balance attributes will cause performance issues with payroll and incorrect balances in payroll processing and payroll reports,EBS HCM,EBS - Payroll
ME$EBS_MFG_PM_SEQUENCE_GEM5CMPNTCOSTIDS_VALUE,"select SEQUENCE_NAME seq_name, MIN_VALUE minvalue, MAX_VALUE maxvalue
from dba_sequences
where sequence_name = 'GEM5_CMPNT_COST_ID_S'
and LAST_NUMBER >= (MAX_VALUE-100000)
and rownum<100",1358319.1,"SYMPTOM: The following error occurs when running Cost Rollup or Actual Costing:
*** sy_etrap - FATAL_ERROR ****%N%NFunction: cmget_sequence_num%N%NStatement: fetch failed%N%NError: ORA-01455: converting column overflows integer datatype.

CAUSE: Code issue.

SOLUTION: Step through the following note: Doc ID 1358319.1 - ORA-01455 Error in Actual Cost Process.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",GMF,GEM5_CMPNT_COST_ID_S sequence created with greater value than 21474836647,"This is a larger number than can be held, so if the Sequence produces a value higher, the Actual Cost process will fail.",2,Oracle Process Manufacturing Financials,ACTUALCOST,ACTUALCOST,WEEK,SAT,Process Manufacturing,"The following error occurs when running Cost Rollup or Actual Costing. This error is common to both processes.
  
*** sy_etrap - FATAL_ERROR ****%N%NFunction: cmget_sequence_num%N%NStatement: fetch failed%N%NError: ORA-01455: converting column overflows integer datatype",EBS MFG,EBS - Process Manufacturing
ME$EBS_MFG_PM_GMF_ACP_ERROR,"SELECT acproc_id RefNo, line_no Line_No, message_comment Message_Comment, creation_date creation_date
FROM cm_acer_msg
where creation_date >= sysdate-90
and rownum<100
ORDER BY acproc_id desc, line_no",2525655.1,"SYMPTOM: OPM Actual Cost Process completes with Error. 

CAUSE: Missing code patches or setup issue.

SOLUTION: Step through the following documents that may contain your error. Please follow solution in the Notes to fix the error:

Note 1138343.1 Error 'Cannot Find The Record For Cal: 8290 – Period: 1006. Process Aborted' in Actual Cost Process (ACP)
Note 1451010.1 Cannot Find the Nominal Cost for Org Code: XXX - Resource: XX Error In Actual Cost Process
Note 2259225.1 Message 'Cannot Find The Nominal Cost For Org Code: XXX - Resource: RRRR' When Running Actual Cost Process
Note 1460646.1 Actual Cost Processor Ending in Memory Error with <routine_name> routine
Note 2383781.1 Actual Cost Process Completes With Error CM_AC_ORG_LOAD_FAILED. 

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",GMF,OPM Actual Cost Process completes with Error,OPM Actual Cost Process completes with Error,2,Oracle Process Manufacturing Financials,ACTUALCOST,ACTUALCOST,MONTH,LAST,Process Manufacturing,"This monitoring unit will help customer list all error messages generation from each OPM Actual Cost Process running by reference number, so that customer can review the error list as well as the solutions in one time.",EBS MFG,EBS - Process Manufacturing
ME$EBS_MFG_PM_GMF_CSTCMPT_EXCLUDE_PPV,"SELECT COST_CMPNTCLS_ID COST_CMPNTCLS_ID,
COST_CMPNTCLS_CODE COST_CMPNTCLS_CODE,
ppv_ind Exclude_PPV
FROM cm_cmpt_mst_b
WHERE ppv_ind = 0
and rownum<100
order by 1",361178.1,"SYMPTOM: There is an incorrect setup in OPM Cost Component Class. 'Exclude from Purchase Price Variance Calculation' is flagged in OPM 'Cost Component Classes', this leads to the component being ignored by OPM Accounting Preprocessor.

CAUSE: Wrong PPV Setup in OPM Cost Component Class.

SOLUTION: Please follow solution in the Note to fix the issue: Note 361178.1 Posting Amounts in Subledger Update Do Not Match With Item Cost.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",GMF,Wrong PPV Setup in OPM Cost Component Class,"'Exclude from Purchase Price Variance Calculation' is flaged in OPM 'Cost Component Classes', this leads the comp ignored by OPM Accounting Preprocessor",2,Oracle Process Manufacturing Financials,ACTUALCOST,ACTUALCOST,MONTH,LAST,Process Manufacturing,"'Purchase Price Variance Calculation' setup as 'Exclude from Purchase Price Variance Calculation' in OPM 'Cost Component Classes' form:
This leads the Cost Components ignored by the subledger accounting process",EBS MFG,EBS - Process Manufacturing
ME$EBS_MFG_PM_GMF_COST_NOT_MATCH_INV_PERIOD,"SELECT distinct
gps.COST_TYPE_ID COST_TYPE_ID,
cmm.cost_mthd_code cost_mthd_code,
gps.CALENDAR_CODE CALENDAR_CODE,
gps.PERIOD_CODE PERIOD_CODE,
gps.START_DATE START_DATE,
gps.END_DATE END_DATE
FROM gmf_period_statuses gps,
cm_mthd_mst cmm
WHERE cmm.cost_type in (0, 1, 6)
AND gps.cost_type_id = cmm.cost_type_id
AND gps.start_date > (sysdate - 60)
AND NOT EXISTS
(select oap.period_num
from org_acct_periods oap,
hr_organization_information hoi,
gl_ledgers gl
where gps.legal_entity_id = hoi.org_information2
AND hoi.org_information1 = gl.ledger_id
AND oap.period_set_name = gl.period_set_name
AND hoi.org_information_context = 'Accounting Information'
AND oap.organization_id = hoi.organization_id
AND oap.schedule_close_date (+) = TRUNC(gps.end_date) )
and rownum<100
order by 2,1",727875.1,"SYMPTOM: There are OPM Costing Periods with no Matching Inventory Period, this will lead OPM Actual Cost Process to error APP-GMF-86621. 

CAUSE: Setup issue or data corruption.

SOLUTION: Please follow solution in the Note to fix the issue: Note 727875.1 APP-GMF-86621: No inventory cal/period for this cost cal/period Unable To Start Actual Cost Process In OPM.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",GMF,Costing Periods with no Matching Inventory Period,Costing Periods with no Matching Inventory Period,2,Oracle Process Manufacturing Financials,ACTUALCOST,ACTUALCOST,MONTH,1,Process Manufacturing,OPM Actual Cost Process error APP-GMF-86621 when Costing Periods with no Matching Inventory Period,EBS MFG,EBS - Process Manufacturing
ME$EBS_MFG_PM_GMF_INVALIDS,"SELECT a.object_name object_name,
a.object_type object_type,
b.text Error_Text
FROM dba_objects a,
dba_errors b
WHERE a.object_name = b.name(+)
AND a.object_type = b.type(+)
AND a.owner = 'APPS'
AND (a.object_name like 'GMF_%' OR
a.object_name like 'CM_%' )
AND a.status = 'INVALID'
and rownum<1",1325394.1,"SYMPTOM: There are invalid OPM Financials related objects. Any invalid OPM Financials related objects will lead to potential costing or accounting issues.

CAUSE: Missing grants, synonyms, views, tables or packages, or corrupted packages.

SOLUTION: Step through Doc ID 1325394.1 - Troubleshooting Guide - Invalid Objects in the E-Business Suite Environment 11i and 12.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",GMF,invalid OPM Financials related objects ,invalid OPM Financials related objects,4,Oracle Process Manufacturing Financials,ACTUALCOST,ACTUALCOST,MONTH,1,Process Manufacturing,Any invalid OPM Financials related objects will lead potential costing or accounting issues.,EBS MFG,EBS - Process Manufacturing
ME$EBS_MFG_PM_MMTT_MTI_RECORDS,"SELECT batch_id batch_id
FROM (
SELECT 'MMTT' AS table_name, t.TRANSACTION_TEMP_ID AS trans_or_rsrv_id, ty.transaction_type_name, h.batch_status,
d.batch_id AS batch_id, t.transaction_source_id AS trans_or_rsrv_source_id, d.line_type,
t.trx_source_line_id AS material_detail_id, t.organization_id, pa.organization_code, t.inventory_item_id,
i.segment1 AS item_number, t.subinventory_code, t.locator_id, lt.lot_number AS lot_number, t.primary_quantity,
t.transaction_quantity AS trans_or_rsrv_qty, lt.transaction_quantity AS lot_qty, t.transaction_uom AS trans_or_rsrv_uom,
t.secondary_transaction_quantity AS sec_qty, t.secondary_uom_code, to_char(t.transaction_date, 'DD-MON-YYYY HH24.MI.SS')
AS trans_or_rsrv_date,t.LPN_ID, t.TRANSFER_LPN_ID, t.transaction_mode, t.lock_flag, t.process_flag
FROM mtl_material_transactions_temp t, gme_material_details d, gme_batch_header h,
mtl_transaction_lots_temp lt, mtl_system_items_b i, mtl_transaction_types ty, mtl_parameters pa
WHERE t.transaction_source_type_id = 5
AND transaction_source_id = h.batch_id
AND t.organization_id = h.organization_id
AND d.batch_id = h.batch_id
AND d.material_detail_id = trx_source_line_id
AND lt.TRANSACTION_TEMP_ID (+) = t.TRANSACTION_TEMP_ID
AND t.organization_id = i.organization_id
AND t.inventory_item_id = i.inventory_item_id
AND t.transaction_type_id = ty.transaction_type_id
And t.organization_id = pa.organization_id
UNION ALL
SELECT 'MTI' AS table_name, t.TRANSACTION_INTERFACE_ID AS trans_or_rsrv_id, ty.transaction_type_name, h.batch_status,
d.batch_id AS batch_id, t.transaction_source_id AS trans_or_rsrv_source_id, d.line_type,
t.trx_source_line_id AS material_detail_id, t.organization_id, pa.organization_code, t.inventory_item_id,
i.segment1 AS item_number, t.subinventory_code, t.locator_id, lt.lot_number AS lot_number, t.primary_quantity,
t.transaction_quantity AS trans_or_rsrv_qty, lt.transaction_quantity AS lot_qty, t.transaction_uom AS trans_or_rsrv_uom,
t.secondary_transaction_quantity AS sec_qty, t.secondary_uom_code,
to_char(t.transaction_date, 'DD-MON-YYYY HH24.MI.SS') AS trans_or_rsrv_date, t.LPN_ID, t.TRANSFER_LPN_ID,
t.transaction_mode, to_char(t.lock_flag), to_char(t.process_flag)
FROM mtl_transactions_interface t, gme_material_details d, gme_batch_header h,
mtl_transaction_lots_interface lt, mtl_system_items_b i, mtl_transaction_types ty, mtl_parameters pa
WHERE t.transaction_source_type_id = 5
AND transaction_source_id = h.batch_id AND t.organization_id = h.organization_id
AND d.batch_id = h.batch_id AND d.material_detail_id = trx_source_line_id
AND lt.TRANSACTION_INTERFACE_ID (+) = t.TRANSACTION_INTERFACE_ID AND t.organization_id = i.organization_id
AND t.inventory_item_id = i.inventory_item_id AND t.transaction_type_id = ty.transaction_type_id
And t.organization_id = pa.organization_id ORDER BY batch_id, table_name, line_type, material_detail_id)
where rownum<100",1455815.1,"SYMPTOM: Stuck Transactions found in MMTT or MTI tables.

CAUSE: Root cause of stuck transactions is not known. If you have reproducible steps to cause a batch transaction to become stuck, please update the SR with the details.

SOLUTION: Step through Doc ID 1455815.1 - How to Identify and Handle Stuck Pending Transactions for OPM Batches (GME).

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",GME,"Stuck Transactions found in MMTT or MTI, tables.",Such transactions should be processed or deleted.,2,Oracle Process Manufacturing Process Execution,BATCHES,ALLOC,WEEK,SAT,Process Manufacturing,"Users will often report that there are stuck transactions related to a batch; often users see this issue when trying to perform period close activities
Other times, users will report transactions missing on the Batch View Material Transactions form, or Actual Quantity not matching transactions
Users may also report that they see pending transactions on the Pending Transactions or the Transaction Interface screens in Inventory",EBS MFG,EBS - Process Manufacturing
ME$EBS_MFG_PM_GME_PENDING_RESOURCE_TXN,"select grti.interface_id INTERFACE_ID ,grti.process_status PROCESS_STATUS, gie.MESSAGE_NAME MESSAGE_NAME, gie.MESSAGE_TYPE MESSAGE_TYPE, gie.MESSAGE_TEXT MESSAGE_TEXT,
grti.batch_no BATCH_NO
from gme_resource_txns_interface grti, gme_intf_errors gie
where grti.interface_id = gie.interface_id
and rownum<100",2430429.1,,GME,The user is unable to close a batch that has OSP resource.,The user is unable to close a batch that has OSP resource as the following error occurs: There is no completed resource transaction for the OSP step.,2,Oracle Process Manufacturing Process Execution,OSP,,WEEK,SAT,Process Manufacturing,The user is unable to close a batch that has OSP resource.,EBS MFG,EBS - Process Manufacturing
ME$EBS_FIN_PA_REVENUE_DISTRIBUTION_AND_ACCRUAL_CHECK,"SELECT ei.expenditure_item_id expenditure_item_id ,
       p.project_id project_id,
       p.org_id org_id
FROM pa_expenditure_items_all ei ,
     pa_projects_all p
WHERE ei.net_zero_adjustment_flag = 'Y'
AND   ei.revenue_distributed_flag = 'Y'
AND   ei.adjusted_expenditure_item_id IS NOT NULL
AND   NOT EXISTS  (
        SELECT 1  FROM pa_cust_rev_dist_lines_all crdl
        WHERE crdl.expenditure_item_id = ei.expenditure_item_id)
AND   0 <> nvl((
        SELECT sum(amount) FROM pa_cust_rev_dist_lines_all crdl1
        WHERE crdl1.expenditure_item_id = ei.adjusted_expenditure_item_id),0)
AND   ei.project_id = p.project_id
AND   (p.REVENUE_ACCRUAL_METHOD = 'WORK' OR
       p.INVOICE_METHOD = 'WORK')
AND   ei.accrued_revenue IS NULL
AND   rownum <= 5",2394907.1,"SYMPTOM: Adjusted expenditure_item_ids have ACCRUED_REVENUE as null and the amount is not copied from the ADJUSTED_EXPENDITURE_ITEM_ID.  When attempting to Recalculate Cost and/or Revenue in the Expenditure Inquiry form, the following error is received. 
""You cannot perform this action on an item which has been fully reversed"".

CAUSE: Unknown data corruption per development.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Adjusting expenditure items are wrongly stamped with revenue distributed flag Y,"In Expenditure inquiry form, adjusting expenditure items have revenue distributed flag=Y but accrued revenue field is null",2,Oracle Project Billing,REVENUE,REVENUE,WEEK,SAT,Project to Profit,"Some expenditures are incorrectly marked as revenue distributed, causing incorrect accrued revenue amounts which then cannot be corrected.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_OUTPUT_TAX_CLASSIFICATION_CODE_CHECK2,"SELECT distinct dii.project_id project_id, dii.draft_invoice_num draft_invoice_num
FROM pa_draft_invoice_items dii, pa_draft_invoices_all dia
WHERE dii.project_id = dia.project_id 
 and dii.draft_invoice_num = dia.draft_invoice_num
 and dia.transfer_status_code <> 'A' and output_tax_classification_code = '0'
 and rownum < 11",2394894.1,,PA,Error The Tax Code Specified For The Draft Invoice Line Is Invalid,While updating/releasing a draft invoice in Invoice Review form following error is occurring:The tax code specified for the draft invoice line is invalid.,2,Oracle Project Billing,INVOICE,INVOICE,WEEK,SAT,Project to Profit,"Draft invoices cannot be released in Projects, preventing them from being interfaced to Receivables and impacting cash flow.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_PA_EXP_TRANS_NO_CREDIT_INVOICE,"SELECT
    project_id project_id,
    draft_invoice_num draft_invoice_number,
    line_num invoice_line_num,
    amount invoice_amount,
    invoice_line_type  invoice_line_type
FROM
    (
        SELECT
            project_id,
            draft_invoice_num,
            line_num,
            amount,
            invoice_line_type
        FROM
            pa_draft_invoice_items dii
        WHERE
                dii.invoice_line_type = 'NET ZERO ADJUSTMENT'
            AND 0 <> (
                SELECT
                    SUM(bill_trans_bill_amount)
                FROM
                    pa_cust_rev_dist_lines_all crdl
                WHERE
                        crdl.project_id = dii.project_id
                    AND crdl.draft_invoice_num = dii.draft_invoice_num
                    AND crdl.draft_invoice_item_line_num = dii.line_num
            )
            AND dii.creation_date >= sysdate - 7
            AND rownum <= 6 )",2848481.1,"SYMPTOM: Transferred Expenditure Items Credit Not Processed By PRC: Generate Draft Invoice 
.
CAUSE: The cause of the issue is invalid/incorrect data in  pa_cost_distribution_lines_all table

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Transferred Expenditure Items Credit Not Processed By PRC: Generate Draft Invoice,Transferred Expenditure Items Credit Not Processed By PRC: Generate Draft Invoice,2,Oracle Project Billing,INVOICE,INVOICE,WEEK,SAT,Project to Profit,Due to this issue there is a mismatch in  billing  amount,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_PA_REV_INCORRECT_REVENUE_NUMBER,"SELECT
    project_id project_id,
    draft_revenue_num draft_revenue_num
FROM
    (
        SELECT DISTINCT
            d.project_id,
            d.draft_revenue_num
        FROM
            pa_cust_rev_dist_lines_all d
            LEFT OUTER JOIN pa_draft_revenues_all      r ON d.project_id = r.project_id
                                                       AND d.draft_revenue_num = r.draft_revenue_num
        WHERE
            r.project_id IS NULL
            AND d.creation_date > sysdate - 7
			AND rownum <=5
    )",2848736.1,"SYMPTOM: Revenue is not appearing for expenditure items for which accrued revenue amount is appearing

CAUSE: Expenditure Item Id is tagged to wrong draft revenue #, data for expenditure item exists in draft revenue items and revenue distribution table but not in draft revenue header table.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Revenue Created with Incorrect Revenue Number,Accrued revenue is showing against expenditure item id in expenditure enquiry form but not able to see Draft Revenue,2,Oracle Project Billing,REVENUE,REVENUE,WEEK,TUE,Project to Profit,Project revenue cannot be captured in balance sheet.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_INVALID_RA_INVOICE_NUMBER,"SELECT project_id Project_id,
       draft_invoice_num draft_invoice_num
FROM pa_draft_invoices_all
WHERE ra_invoice_number = '-1'
and rownum < 1000",2394905.1,"SYMPTOM: AutoInvoice concurrent program does not pick up draft invoice project transactions existing in the Receivable interface table

CAUSE: The PA_DRAFT_INVOICES_ALL table has -1 in the RA_INVOICE_NUMBER column for a draft invoice line.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Draft Invoices Stuck in Interface table,The table pa_draft_invoices_all table has -1 for RA_INVOICE_NUMBER column for draft invoice lines.,2,Oracle Project Billing,INVOICE,INVOICE,WEEK,SAT,Project to Profit,"Invoices cannot be transferred to Receivables, impacting cash flow.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_UNIQUE_CONSTR_PA_DRAFT_INVOICE_DETAILS_U2_VIOLATE,"SELECT ei.project_id proj_id,
       ei.expenditure_item_id exp_item_id,
       ei.expenditure_item_date exp_item_date
FROM pa_expenditure_items_all ei
WHERE ei.cc_prvdr_organization_id   <> ei.cc_recvr_organization_id
AND   ei.cc_ic_processed_code = 'N'
AND   ei.adjusted_expenditure_item_id IS NOT NULL
AND   EXISTS (
        SELECT 1
        FROM pa_draft_invoice_details_all did
        WHERE did.expenditure_item_id = ei.expenditure_item_id
        AND   did.invoiced_flag = 'Y'
        AND   did.draft_invoice_num IS NOT NULL)
AND  rownum <= 5",2380106.1,"SYMPTOM: While running the PAICGEN_SINGLE module: PRC: Generate Intercompany Invoices for a Single Project, errors occur with:

ORACLE error during DRAFT INVOICE GENERATION (cursor=25 code=-1: ORA-00001: unique constraint (PA.PA_DRAFT_INVOICE_DETAILS_U2) violated)

CAUSE: The issue is that reversal expenditure items that were invoiced earlier had the CC_IC_PROCESSED_CODE = 'N'.

SOLUTION: Apply the datafix script to flip the CC_IC_PROCESSED_CODE to 'Y' and re-run the Intercompany Invoice .",PA,Data corruption in pa_expenditure_items_all ,The issue here is that reversal expenditure items that were invoiced earlier had the CC_IC_PROCESSED_CODE = 'N'.,2,Oracle Project Billing,INVOICE,INVOICE,WEEK,SAT,Project to Profit,"Project invoices cannot be generated, which prevents interface to Receivables and impacts cash flow.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_PA_REV_INCORRECT_REVTRANS_AMOUNT,"SELECT PROJECT_ID PROJECT_ID,
                DRAFT_REVENUE_NUM DRAFT_REVENUE_NUM,
                LINE_NUM LINE_NUM,
                REVTRANS_UBR_DR UBR_DR,
                REVTRANS_UER_CR UER_CR
FROM (SELECT PDR.PROJECT_ID, 
                             PDR.DRAFT_REVENUE_NUM, 
			     PDRI.LINE_NUM,
                             PDR.REVTRANS_UBR_DR, 
			     PDR.REVTRANS_UER_CR
                 FROM PA_DRAFT_REVENUES_ALL PDR, 
		              PA_DRAFT_REVENUE_ITEMS PDRI
               WHERE PDR.PROJECT_ID = PDRI.PROJECT_ID
                     AND PDR.DRAFT_REVENUE_NUM = PDRI.DRAFT_REVENUE_NUM
                     AND PDR.EVENT_ID IN (SELECT EVENT_ID 
		                                                    FROM XLA_EVENTS
                                                                  WHERE EVENT_STATUS_CODE = 'U'
                                                                        AND PROCESS_STATUS_CODE = 'I'
                                                                       AND APPLICATION_ID = 275)
                      AND EXISTS (SELECT 1 
		                                FROM PA_DRAFT_REVENUE_ITEMS
                                             WHERE PROJECT_ID = PDR.PROJECT_ID
                                                   AND DRAFT_REVENUE_NUM = PDR.DRAFT_REVENUE_NUM
                                             HAVING SIGN(SUM(AMOUNT)) <> 
                                                            SIGN(SUM(REVTRANS_AMOUNT)))
                  AND PDRI.AMOUNT < 0
		 AND PDRI.CREATION_DATE > SYSDATE -7
		 AND ROWNUM <=5)",2848740.1,"SYMPTOM: User is getting below error while running PRC: Create Accounting

The entered amount and accounted amount for line XX are not on the same side

CAUSE: Invalid data

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,create Accounting Fails for Revenue Category,"PRC: Create Accounting is failing with below error message as well.

""The entered amount and accounted amount for line XX are not on the same side.",2,Oracle Project Billing,REVENUE,REVENUE,WEEK,TUE,Project to Profit,Revenue cannot be accounted and cannot be captured in balance sheet.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_P2P_AP_INVOICE_DATA_CORRUPTION,"SELECT project_number project_number,
project_status project_status,
invoice_number invoice_number,
pa_addition_flag pa_addition_flag,
rej_reason rej_reason
FROM (
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 1 :: Invoice transactions interfaced to projects with wrong pa_addition_flag'
AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND d.project_id > 0
AND d.line_type_lookup_code NOT IN ('ERV','TRV','IPV','TIPV','TERV' )
AND d.line_type_lookup_code NOT IN ('REC_TAX','RETAINAGE','PREPAY')
AND nvl(d.pa_addition_flag,'N') NOT IN ('Y','E')
AND d.posted_flag ||'' = 'Y'
AND nvl(d.reversal_flag,'N') = 'N'
AND nvl(d.historical_flag,'N') = 'N'
AND d.org_id = i.org_id
AND EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null
AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
AND ei.transaction_source IN ('AP EXPENSE','AP INVOICE','AP NRTAX'))
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 2 :: Invoice net zero transactions interfaced to Projects stuck '||
'with wrong pa_addition_flag' AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE d.project_id > 0
AND p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND nvl(d.pa_addition_flag,'N') <> 'Y'
AND d.line_type_lookup_code NOT IN ('REC_TAX','RETAINAGE','PREPAY')
AND d.posted_flag = 'Y'
AND nvl(d.reversal_flag,'N') = 'Y'
AND nvl(d.historical_flag,'N') = 'N'
AND d.parent_reversal_id is null
AND d.org_id = i.org_id
AND EXISTS (
SELECT 1 FROM ap_invoice_distributions_all d2
WHERE d.invoice_id = d2.invoice_id
AND d2.parent_reversal_id = d.invoice_distribution_id
AND d2.pa_addition_flag = 'Y'
AND nvl(d2.reversal_Flag,'N') = 'Y'
AND EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei1
WHERE ei1.document_header_id = d2.invoice_id
AND ei1.document_distribution_id = d2.invoice_distribution_id))
AND EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null)
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 2 :: Invoice net zero transactions interfaced to Projects stuck '||
'with wrong pa_addition_flag' AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE d.project_id > 0
AND p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND nvl(d.pa_addition_flag,'N') <> 'Y'
AND d.line_type_lookup_code NOT IN ('REC_TAX','RETAINAGE','PREPAY')
AND d.posted_flag = 'Y'
AND nvl(d.reversal_flag, 'N') = 'Y'
AND nvl(d.historical_flag,'N') = 'N'
AND d.parent_reversal_id is not null
AND d.org_id = i.org_id
AND EXISTS (
SELECT 1 FROM ap_invoice_distributions_all d2
WHERE d.parent_reversal_id = d2.invoice_distribution_id
AND d2.pa_addition_flag = 'Y'
AND nvl(d2.reversal_flag,'N') = 'Y'
AND EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei1
WHERE ei1.document_header_id = d2.invoice_id
AND ei1.document_distribution_id = d2.invoice_distribution_id))
AND EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null)
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 3 :: Variance transactions interfaced to projects but stuck '||
'with incorrect pa_addition_flag' AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND nvl(d.pa_addition_flag,'N') <> 'Y'
AND nvl(d.reversal_flag,'N') = 'N'
AND d.posted_flag = 'Y'
AND d.project_id > 0
AND nvl(d.historical_flag,'N') = 'N'
AND d.line_type_lookup_code IN ('ERV','TRV','IPV','TIPV','TERV' )
AND d.org_id = i.org_id
AND EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null)
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION All
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 5 :: Invoice transactions not interfaced to projects stuck '||
'with wrong pa_addition_flag' AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE d.project_id > 0
AND d.line_type_lookup_code NOT IN (
'NONREC_TAX','ACCRUAL','REC_TAX','RETAINAGE','PREPAY' )
AND d.line_type_lookup_code NOT IN ('ERV','TRV','IPV','TIPV','TERV')
AND d.pa_addition_flag is not null
AND nvl(d.pa_addition_flag,'N') NOT IN ('N','E')
AND d.po_distribution_id is not null
AND d.amount <> 0
AND d.posted_flag ||'' = 'Y'
AND nvl(d.reversal_flag,'N') = 'N'
AND nvl(d.historical_flag,'N') = 'N'
AND p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND d.org_id = i.org_id
AND NOT EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null
AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
AND ei.org_id = d.org_id)
AND (pa_nl_installed.is_nl_installed = 'N' OR
(pa_nl_installed.is_nl_installed = 'Y' AND
NOT EXISTS (
SELECT 'X'
FROM po_distributions_all pod,
mtl_system_items si,
po_lines_all pol
WHERE pod.po_distribution_id = d.po_distribution_id
AND pod.po_line_id = pol.po_line_id
AND si.inventory_item_id = pol.item_id
AND si.comms_nl_trackable_flag = 'Y'
AND (si.organization_id = pod.org_id OR
si.organization_id IN (
SELECT nvl(ship_to_organization_id,-9999)
FROM po_line_locations_all pll
WHERE pll.po_header_id = pod.po_header_id
AND pll.po_line_id = pod.po_line_id))) AND
NOT EXISTS (
SELECT 'X'
FROM ap_invoice_distributions d,
po_distributions pod,
mtl_system_items si,
po_lines_all pol
WHERE d.charge_applicable_to_dist_id = d.invoice_distribution_id
AND d.po_distribution_id = pod.po_distribution_id
AND pod.po_line_id = pol.po_line_id
AND si.inventory_item_id = pol.item_id
AND si.comms_nl_trackable_flag = 'Y'
AND (si.organization_id = pod.org_id OR
si.organization_id IN (
SELECT nvl(ship_to_organization_id, -9999)
FROM po_line_locations_all pll
WHERE pll.po_header_id = pod.po_header_id
AND pll.po_line_id = pod.po_line_id)))))
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 5 :: Invoice transactions not interfaced to projects stuck '||
'with wrong pa_addition_flag' AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE d.project_id > 0
AND d.line_type_lookup_code IN ('NONREC_TAX', 'ACCRUAL')
AND nvl(d.pa_addition_flag,'Y') NOT IN ('G','Z')
AND d.posted_flag ||'' = 'Y'
AND d.amount <> 0
AND nvl(d.reversal_flag,'N') = 'N'
AND nvl(d.historical_flag,'N') = 'N'
AND p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND d.org_id = i.org_id
AND EXISTS (
SELECT 1 FROM po_distributions_all pod
WHERE pod.po_distribution_id = d.po_distribution_id
AND pod.accrue_on_receipt_Flag = 'Y'
AND pod.org_id = d.org_id)
AND NOT EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null
AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
AND ei.org_id = d.org_id)
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 5 :: Invoice transactions not interfaced to projects stuck '||
'with wrong pa_addition_flag' AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE d.project_id > 0
AND d.line_type_lookup_code IN ('NONREC_TAX')
AND nvl(d.pa_addition_flag,'Y') <> 'N'
AND d.amount <> 0
AND d.posted_flag ||'' = 'Y'
AND nvl(d.reversal_flag,'N') = 'N'
AND nvl(d.historical_flag,'N') = 'N'
AND p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND d.org_id = i.org_id
AND EXISTS (
SELECT 1 FROM po_distributions_all pod
WHERE pod.po_distribution_id = d.po_distribution_id
AND pod.accrue_on_receipt_Flag = 'N')
AND (pa_nl_installed.is_nl_installed = 'N' OR
(pa_nl_installed.is_nl_installed = 'Y' AND
NOT EXISTS (
SELECT 'X'
FROM po_distributions_all pod,
mtl_system_items si,
po_lines_all pol
WHERE pod.po_distribution_id = d.po_distribution_id
AND pod.po_line_id = pol.po_line_id
AND si.inventory_item_id = pol.item_id
AND si.comms_nl_trackable_flag = 'Y'
AND (si.organization_id = pod.org_id OR
si.organization_id IN (
SELECT nvl(ship_to_organization_id,-9999)
FROM po_line_locations_all pll
WHERE pll.po_header_id = pod.po_header_id
AND pll.po_line_id = pod.po_line_id))) AND
NOT EXISTS (
SELECT 'X'
FROM ap_invoice_distributions d,
po_distributions pod,
mtl_system_items si,
po_lines_all pol
WHERE d.CHARGE_APPLICABLE_TO_DIST_ID = d.invoice_distribution_id
AND d.po_distribution_id = pod.po_distribution_id
AND pod.po_line_id = pol.po_line_id
AND si.inventory_item_id = pol.item_id
AND si.comms_nl_trackable_flag = 'Y'
AND (si.organization_id = pod.org_id OR
si.organization_id IN (
SELECT nvl(ship_to_organization_id, -9999)
FROM po_line_locations_all pll
WHERE pll.po_header_id = pod.po_header_id
AND pll.po_line_id = pod.po_line_id) ))))
AND NOT EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null
AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
AND ei.org_id = d.org_id)
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number ,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 6 :: Variance transactions not interfaced to projects but stuck '||
'with incorrect pa_addition_flag ' AS rej_reason
FROM ap_invoice_distributions_all d,
pa_projects_all p,
ap_invoices_all i
WHERE p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND nvl(d.pa_addition_flag,'Y') <> 'N'
AND d.posted_flag ||'' = 'Y'
AND d.project_id > 0
AND d.amount <> 0
AND nvl(d.reversal_flag,'N') = 'N'
AND nvl(d.historical_flag,'N') = 'N'
AND d.line_type_lookup_code IN ('ERV','TRV','IPV','TIPV','TERV')
AND i.org_id = d.org_id
AND NOT EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N')
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 8 :: Supplier Invoice matched to Purchase Order having '||
'Accrue on Receipt Flag=N AND is trackable' AS rej_reason
FROM ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p
WHERE d.project_id > 0
AND d.line_type_lookup_code NOT IN ('REC_TAX','RETAINAGE','PREPAY' )
AND d.line_type_lookup_code NOT IN ('ERV','TRV','IPV','TIPV','TERV' )
AND d.pa_addition_Flag is not null
AND nvl(d.pa_addition_flag,'N') IN ('N')
AND d.po_distribution_id is not null
AND d.amount <> 0
AND d.posted_flag ||'' = 'Y'
AND nvl(d.reversal_flag,'N') = 'N'
AND nvl(d.historical_flag,'N') = 'N'
AND p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND d.org_id = i.org_id
AND EXISTS (
SELECT 1 FROM po_distributions_all pod
WHERE pod.po_distribution_id = d.po_distribution_id
AND pod.accrue_on_receipt_Flag = 'N')
AND NOT EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.document_distribution_type is not null
AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
AND ei.org_id = d.org_id)
AND pa_nl_installed.is_nl_installed = 'Y'
AND EXISTS (
SELECT 'X'
FROM po_distributions_all pod,
mtl_system_items si,
po_lines_all pol
WHERE pod.po_distribution_id = d.po_distribution_id
AND pod.po_line_id = pol.po_line_id
AND si.inventory_item_id = pol.item_id
AND si.comms_nl_trackable_flag = 'Y'
AND (si.organization_id = pod.org_id OR
si.organization_id IN (
SELECT nvl(ship_to_organization_id,-9999)
FROM po_line_locations_all pll
WHERE pll.po_header_id = pod.po_header_id
AND pll.po_line_id = pod.po_line_id)))
AND trunc(d.expenditure_item_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 9 :: Some Invoice Net Zero Distributions interfaced '||
'to PA AND others not interfaced' AS rej_reason
FROM ap_invoice_distributions_all d,
pa_projects_all p,
ap_invoices_all i
WHERE d.project_id = p.project_id
AND i.invoice_id = d.invoice_id
AND d.line_type_lookup_code NOT IN ('REC_TAX')
AND nvl(d.pa_addition_flag,'N') <> 'E'
AND nvl(d.reversal_flag,'N') = 'Y'
AND d.parent_reversal_id is not null
AND d.org_id = i.org_id
AND EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.adjusted_expenditure_item_id is null
AND NOT EXISTS (
SELECT 1 FROM pa_expenditure_items_All ei2
WHERE ei2.adjusted_expenditure_item_id = ei.expenditure_Item_id))
AND EXISTS (
SELECT 1 FROM ap_invoice_distributions_all d2
WHERE d2.invoice_id = d.invoice_id
AND d2.invoice_distribution_id = d.parent_reversal_id
AND d2.line_type_lookup_code NOT IN ('REC_TAX')
AND nvl(d2.pa_addition_Flag,'N') <> 'E'
AND nvl(d2.reversal_flag,'N') = 'Y'
AND NOT EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei1
WHERE ei1.document_header_id = d2.invoice_id
AND ei1.document_distribution_id = d2.invoice_distribution_id))
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 9 :: Some Invoice Net Zero Distributions interfaced '||
'to PA AND others not interfaced' AS rej_reason
FROM ap_invoice_distributions_all d,
pa_projects_all p,
ap_invoices_all i
WHERE d.project_id = p.project_id
AND i.invoice_id = d.invoice_id
AND d.line_type_lookup_code NOT IN ('REC_TAX')
AND nvl(d.pa_addition_flag,'N') <> 'E'
AND nvl(d.reversal_flag,'N') = 'Y'
AND d.parent_reversal_id is not null
AND d.org_id = i.org_id
AND NOT EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id)
AND EXISTS (
SELECT 1 FROM ap_invoice_distributions_all d2
WHERE d2.invoice_id = d.invoice_id
AND d2.invoice_distribution_id = d.parent_reversal_id
AND d2.line_type_lookup_code NOT IN ('REC_TAX')
AND nvl(d2.pa_addition_Flag,'N') <> 'E'
AND nvl(d2.reversal_flag,'N') = 'Y'
AND EXISTS (
SELECT 1 FROM pa_expenditure_items_all ei1
WHERE ei1.document_header_id = d2.invoice_id
AND ei1.document_distribution_id = d2.invoice_distribution_id
AND ei1.adjusted_expenditure_item_id is null
AND NOT EXISTS (
SELECT 1 FROM pa_expenditure_items_All ei3
WHERE ei3.adjusted_expenditure_item_id = ei1.expenditure_Item_id)))
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 14 :: Transactions causing duplicate actuals in PA from '||
'AP Invoices AND PO receipts' AS rej_reason
FROM pa_expenditure_items_all ei,
pa_projects_all p,
pa_tasks t,
ap_invoices_all i,
ap_invoice_distributions_all d,
po_distributions_all pod,
po_headers_all poh
WHERE ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND ei.transaction_source IN ('AP INVOICE','AP NRTAX')
AND ei.DOCUMENT_distribution_type IN ('ACCRUAL','NONREC_TAX')
AND nvl(ei.net_Zero_adjustment_flag, 'N') = 'N'
AND ei.document_header_id is not null
AND ei.document_distribution_id is not null
AND ei.system_linkage_function = 'VI'
AND ei.raw_cost <> 0
AND nvl(ei.historical_flag,'N') = 'N'
AND i.invoice_id = d.invoice_id
AND p.project_id = ei.project_id
AND t.task_id = ei.task_id
AND p.project_id = t.project_id
AND d.po_distribution_id is not null
AND d.po_distribution_id = pod.po_distribution_id
AND d.pa_addition_flag = 'Y'
AND pod.accrue_on_receipt_Flag = 'Y'
AND pod.po_header_id = poh.po_header_id
AND d.project_id is not null
AND nvl(d.historical_flag, 'N') = 'N'
AND d.org_id = i.org_id
AND pod.org_id = poh.org_id
AND EXISTS (
SELECT 1
FROM rcv_receiving_sub_ledger rcv_sub,
rcv_transactions rcvt,
po_distributions_all pod
WHERE rcv_sub.reference3 = to_char(d.po_distribution_id)
AND rcv_sub.reference2 = pod.po_header_id
AND rcvt.po_distribution_id = pod.po_distribution_id
AND rcv_sub.code_combination_id = pod.code_combination_id
AND rcv_sub.actual_flag = 'A'
AND rcvt.transaction_id = rcv_sub.rcv_transaction_id
AND rcv_sub.accounting_line_type = 'Charge')
AND trunc(ei.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 15 :: Retainage Invoice Transactions Interfaced to '||
'Projects' AS rej_reason
FROM pa_cost_distribution_lines_all cdl,
pa_expenditure_items_all ei,
pa_projects_all p,
pa_tasks t,
pa_expenditures_all pae,
po_vendors po,
ap_invoices_all i,
ap_invoice_distributions_all d
WHERE cdl.expenditure_item_id = ei.expenditure_item_id
AND ei.cost_distributed_flag = 'Y'
AND p.project_id = d.project_id
AND i.invoice_id = d.invoice_id
AND p.project_id = ei.project_id
AND t.task_id = ei.task_id
AND pae.expenditure_id = ei.expenditure_id
AND pae.vendor_id = po.vendor_id
AND ei.system_linkage_function = 'VI'
AND ei.transaction_source = 'AP INVOICE'
AND nvl(ei.net_Zero_adjustment_flag, 'N') = 'N'
AND nvl(ei.historical_flag,'N') = 'N'
AND ei.document_header_id is not null
AND ei.document_distribution_id is not null
AND nvl(cdl.reversed_flag, 'N') = 'N'
AND cdl.line_num_reversed is null
AND cdl.line_type = 'R'
AND ei.org_id = cdl.org_id
AND ei.org_id = d.org_id
AND d.org_id = i.org_id
AND cdl.amount <> 0
AND ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND d.project_id > 0
AND nvl(d.pa_addition_flag,'N') = 'Y'
AND d.line_type_lookup_code = 'RETAINAGE'
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
UNION ALL
SELECT p.segment1 project_number,
p.project_status_code project_status,
i.invoice_num invoice_number,
d.pa_addition_flag pa_addition_flag,
'Case 16 : Cash Discount Adjusted Transactions not stamped with '||
'correct Period' AS rej_reason
FROM ap_payment_history_all apha ,
ap_payment_hist_dists aphd,
ap_invoice_distributions_all d,
ap_invoices_all i,
pa_projects_all p,
pa_expenditure_items_all ei,
pa_cost_distribution_lines_all cdl
WHERE apha.accounting_event_id = aphd.accounting_event_id
AND apha.payment_history_id = aphd.payment_history_id
AND aphd.invoice_distribution_id = d.invoice_distribution_id
AND i.invoice_id = d.invoice_id
AND d.project_id = p.project_id
AND aphd.pay_dist_lookup_code = 'DISCOUNT'
AND apha.transaction_type = 'PAYMENT ADJUSTED'
AND ei.expenditure_item_id = cdl.expenditure_item_id
AND cdl.line_num = (
SELECT max(line_num) FROM pa_cost_distribution_lines_all
WHERE expenditure_item_id = ei.expenditure_item_id)
AND ei.document_header_id = d.invoice_id
AND ei.document_distribution_id = d.invoice_distribution_id
AND cdl.system_reference2 = d.invoice_id
AND ei.project_id = d.project_id
AND ei.task_id = d.task_id
AND cdl.project_id = d.project_id
AND cdl.task_id = d.task_id
AND cdl.GL_date <> d.accounting_date
AND d.org_id = i.org_id
AND d.org_id = ei.org_id
AND ei.org_id = cdl.org_id
AND d.org_id = apha.org_id
AND trunc(d.creation_date) >= sysdate-7
AND rownum = 1
)",2391910.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please follow below GDF's which is applicable to your version.
On release 11.5.10, download the applicable release of Patch 13833481.

On release 12.0.X, download Patch 15854281.

On release 12.1. Up to and including 12.1.3.delta5 download the applicable release of Patch 13833481.

On release 12.1.3.delta6+ and 12.2.5+, download the applicable release Patch 22311067.

2. Go through the readme of the patch
3. Run the reporting script
4. Verify the log and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance",PA,Projects Related AP Invoices Have One or More Types of Data Corruption.,Various types of supplier invoice data corruption may exist which could prevent interface of data to Projects or similar errors.,2,Oracle Project Costing,P2P_FLOW,P2P_FLOW,WEEK,SAT,Project to Profit,Data corruption in Payables causes some project related invoices not to be interfaced to Projects.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_COST_RATE_POPULATED_ON_UNCOSTED_ITEMS_BUR,"SELECT ei.expenditure_item_id expenditure_item_id,
       ei.denom_burdened_cost denom_burdened_cost,
       ei.acct_burdened_cost acct_burdened_cost,
       ei.burden_cost_rate burden_cost_rate,
       ei.burden_cost burden_cost,
       ei.project_burdened_cost project_burdened_cost
FROM pa_expenditure_items_all ei,
     pa_transaction_sources txs
WHERE ei.cost_distributed_flag = 'N'
AND   ei.transaction_source = txs.transaction_source(+)
AND   ei.system_linkage_function <> 'BTC'
AND   (ei.denom_burdened_cost <>
         decode(nvl(txs.allow_burden_flag, 'N'),
           'N',NULL,
            ei.denom_burdened_cost) OR
       ei.acct_burdened_cost is not null OR
       ei.burden_cost_rate is not null OR
       ei.burden_cost is not null OR
       ei.project_burdened_cost is not null)
AND   ei.creation_date > sysdate -7
AND   rownum <= 5
ORDER BY ei.expenditure_item_id",2512247.1,"To implement the solution, please execute the following steps in Test Instance.

For release 11.5.10:

1. Download and review the readme and pre-requisites for 3843988

2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment.

4. Retest the issue.

5. Migrate the solution as appropriate to other environments.

For release 12.1.x and 12.2.x:

1. Download the same release 11.5.10 Patch 3843988 via MyOracleSupport review the readme and pre-requisites.

Note : Do not apply the patch.

2. Open the patch and save the 2 files on the release 12 environment. 
   r3843988.sql [This is a reporting script that displays the expenditure items that are rejected in cost distribution but have cost columns populated]
   u3843988.sql [This datafix script is created to update the cost columns in EI table to the values prior to cost distribution, for records with cost distributed flag 'N']

3. Run these scripts manually in a test environment.

4. Retest the issue.

5. Migrate the solution as appropriate to other environments.",PA,Burden cost amounts or rates are populated on uncosted expenditure items.,"Due to this issue, Distributing Costs will fail with ORA-01400",2,Oracle Project Costing,EXPEND,EXPEND,WEEK,SAT,Project to Profit,"Burden costs cannot be distributed, impacting all downstream processing and reporting.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_BURD_NO_CDL_FOR_COST_BUDERN_ENABLED_EI,"SELECT expenditure_item_id expenditure_item_id,
       cost_distributed_flag cost_distributed_flag,
       cost_burden_distributed_flag cost_burden_distributed_flag,
       segment1 project_number,
       task_number task_number,
       ind_cost_dist_rejection_code ind_cost_dist_rejection_code
FROM (
  SELECT ei.expenditure_item_id,
         ei.cost_distributed_flag,
         ei.cost_burden_distributed_flag,
         pa.segment1,
         t.task_number,
         ei.ind_cost_dist_rejection_code
  FROM pa_expenditure_items_all ei,
       pa_projects_all pa,
       pa_project_types_all pta,
       pa_tasks t
  WHERE cost_burden_distributed_flag = 'Y'
  AND   ei.project_id = pa.project_id
  AND   pa.project_type = pta.project_type
  AND   pta.total_burden_flag = 'Y'
  AND   pa.org_id = pta.org_id
  AND   ei.task_id = t.task_id
  AND   pa.project_id = t.project_id
  AND   ei.system_linkage_function <> 'BTC'
  AND   NOT EXISTS (
          SELECT 1 FROM pa_cost_distribution_lines_all cdl
          WHERE cdl.expenditure_item_id = ei.expenditure_item_id
          AND   cdl.project_id = ei.project_id
          AND   cdl.task_id = ei.task_id
          AND   line_type IN ('C', 'D'))
  AND   ei.creation_date > = SYSDATE - 7
  AND   rownum <= 6
  )",2507672.1,"SYMPTOM: Burden lines are not generated for expenditure items whose burden cost is distributed.

CAUSE: Issue is caused due to data corruption in PA_COST_DISTRIBUTION_LINES_ALL table. COST_BURDEN_DISTRIBUTED_FLAG marked Y but no corresponding C and D lines generated.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Burden distributions missing for expendiutre items flagged as cost burden distributed ,Burden Credit and Debit cost distribution lines are not generated for some expenditure items even though they are flagged as burden cost distributed,2,Oracle Project Costing,BURDEN,,WEEK,SAT,Project to Profit,Burden credit and debit lines are missing for expenditure items causing incorrect balances and potential processing/accounting errors.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_PA_BUR_COST_ADJ_EI_NOT_DISTRIBUTED,"SELECT DISTINCT
       p.segment1 project_number,
       expenditure_item_id expenditure_item_id,
       ind_cost_dist_rejection_code ind_cost_dist_rejection_code,
       adjusted_expenditure_item_id adjusted_expenditure_item_id
FROM pa_expenditure_items_all ei,
     pa_projects_all p
WHERE ei.project_id = p.project_id
AND   ei.org_id = p.org_id
AND   ei.ind_cost_dist_rejection_code like 'ADJ_EI_NOT_DISTRIBUTED'
AND   ei.adjusted_expenditure_item_id is not null
AND   NOT EXISTS (
        SELECT 1 FROM pa_cost_distribution_lines_all cdl
        WHERE cdl.expenditure_item_id = ei.expenditure_item_id
        AND   cdl.line_type IN ('C','D'))
AND   ROWNUM <= 6",2524807.1,"SYMPTOM: PRC: Distribute Total Burdened Cost Failed with error ""Adjusted expenditure not distributed"".

CAUSE: For parent expenditure acct_raw_cost is null due to this parent transaction did not processed.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,PRC: Distribute Total Burdened Cost process errors with ADJ_EI_NOT_DISTRIBUTED ,"PRC: Distribute Total Burdened Cost Failed with error ""Adjusted expenditure not distributed"".",2,Oracle Project Costing,BURDEN,BURDEN,WEEK,SAT,Project to Profit,"Burden costs cannot be distributed, impacting all downstream processing and reporting.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_PCOST_DIST_SYSTEM_REF_NULL,"SELECT expenditure_item_id expenditure_item_id
FROM (
  SELECT cdl.expenditure_item_id
  FROM pa_cost_distribution_lines_all cdl,
       pa_expenditure_items_all ei
  WHERE cdl.transfer_status_code IN ('P','R')
  AND   (cdl.system_reference2 is null OR
         cdl.system_reference3 is null)
  AND   cdl.expenditure_item_id = ei.expenditure_item_id
  AND   ei.transaction_source = 'AP EXPENSE'
  )
WHERE ROWNUM <= 6",2524822.1,See Doc ID 2457575.1 for code fix and instructions for data fix if required.,PA,SYSTEM_REFERENCE Columns Are Null for Reversal Cost Distribution Lines.,PA_COST_DISTRIBUTION_LINES_ALL table has null values in system_reference2 or 3 columns for AP INVOICE reversals.,2,Oracle Project Costing,P2P_FLOW,P2P_FLOW,WEEK,SAT,Project to Profit,"Expenditure costs cannot be distributed, affecting all downstream processing.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_P2P_DUPL_ACTUALS_VARIANCE,"SELECT p.segment1 project_number,
       aud.invoice_num invoice_number,
       aud.invoice_distribution_id invoice_distribution_id,
       aud.expenditure_item_id expenditure_item_id,
       aud.amount amount,
       rej_reason rejection_reason
FROM pa_projects_all p,
     ( SELECT ppa.project_id, ppa.segment1, ap.invoice_num, apdist.invoice_id, apdist.invoice_distribution_id, cdl.amount, cdl.system_reference2, cdl.system_reference3, cdl.system_reference4, ei.expenditure_item_id,
      'Case 11 ::  Transactions causing duplicate actuals in Projects '||
       'from Variances' AS rej_reason
       FROM pa_expenditure_items_all ei, pa_cost_distribution_lines_all cdl, ap_invoices_all ap, ap_invoice_distributions_all apdist, pa_projects_all ppa
       WHERE ei.transaction_source IN ('AP VARIANCE','AP NRTAX','AP ERV')
       AND ei.expenditure_Item_id = cdl.expenditure_Item_id
       AND cdl.transfer_status_code = 'V'
       AND cdl.line_type = 'R'
       AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
       AND cdl.line_num = 1
       AND ei.project_id = cdl.project_id
       AND ppa.project_id = ei.project_id
       AND cdl.system_reference2 is not null
       AND cdl.system_reference3 is not null
       AND cdl.system_reference4 is not null
       AND cdl.system_reference4 IN ('ERV','TRV','IPV','TIPV','TERV')
       AND ap.invoice_id = apdist.invoice_id
       AND apdist.invoice_id = to_number(cdl.system_reference2)
       AND apdist.invoice_line_number = to_number(cdl.system_reference3)
       AND apdist.line_type_lookup_code  IN ('ERV','TRV','IPV','TIPV','TERV')
       AND ei.org_id = cdl.org_id
       AND ei.org_id = apdist.org_id
       AND apdist.org_id = ap.org_id
       AND EXISTS (
         SELECT 1 FROM ( SELECT ei.document_header_id, ei.document_distribution_id, ei.document_distribution_type, cdl.amount, cdl.org_id, cdl.line_type, ei.transaction_source
         FROM pa_cost_distribution_lines_all cdl,pa_expenditure_items_all ei,pa_projects_all ppa
         WHERE ei.transaction_source IN ('AP VARIANCE','AP NRTAX','AP ERV')
         AND cdl.transfer_status_code = 'V'
         AND cdl.line_type = 'R'
         AND cdl.expenditure_item_id = ei.expenditure_item_id
         AND cdl.line_num = 1
         AND nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
         AND ppa.project_id = ei.project_id
         AND ei.project_id = cdl.project_id
         AND trunc(ei.creation_date) >= sysdate-7
         AND cdl.system_reference4 is not null
         AND cdl.system_reference4 IN ('ERV','TRV','IPV','TIPV','TERV')
         AND nvl(ei.historical_flag,'N') = 'N'
         AND ei.org_id = cdl.org_id
         AND ei.document_header_id is not null
         AND ei.document_distribution_id is not null
         AND ei.document_distribution_type is not null
         GROUP BY ei.document_header_id, ei.document_distribution_id,ei.document_distribution_type, cdl.amount, cdl.org_id,cdl.line_type, ei.transaction_source
         HAVING COUNT(1) >1
         ) doc
         WHERE ei.document_header_id = doc.document_header_id
         AND ei.document_distribution_id = doc.document_distribution_id
         AND ei.document_distribution_type = doc.document_distribution_type
         AND cdl.amount = doc.amount
         AND cdl.org_id = doc.org_id
         AND cdl.line_type = doc.line_type
         AND ei.transaction_source = doc.transaction_source)
     ) aud
WHERE p.project_id = aud.project_id
and rownum <=5",2396020.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please follow below GDF's which is applicable to your version.
On release 11.5.10, download the applicable release of Patch 13833481.

On release 12.0.X, download Patch 15854281.

On release 12.1. Up to and including 12.1.3.delta5 download the applicable release of Patch 13833481.

On release 12.1.3.delta6+ and 12.2.5+, download the applicable release Patch 22311067.

2. Go through the readme of the patch
3. Run the reporting script
4. Verify the log and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance",PA,Variance transactions from Payables causing duplicate costs in Projects,Duplicate costs are being created in Projects for some variance transactions.,2,Oracle Project Costing,P2P_FLOW,P2P_FLOW,WEEK,SAT,Project to Profit,Some projects are showing duplicate actual amounts from variance transactions,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_PA_EXP_DISTRIBUTE_ERROR_AMOUNT,"SELECT
    project_id project_id,
    task_id task_id,
    expenditure_item_id expenditure_item_id,
    expenditure_item_date expenditure_item_date,
    cost_dist_rejection_code rejection_code
FROM
    (
        SELECT
            project_id,
            task_id,
            expenditure_item_id,
            expenditure_item_date,
            cost_dist_rejection_code
        FROM
            apps.pa_expenditure_items_all ei
        WHERE cost_distributed_flag = 'N'
            AND ( raw_cost IS NOT NULL
                  OR denom_raw_cost IS NOT NULL
                  OR burden_cost IS NOT NULL
                  OR denom_burdened_cost IS NOT NULL
                  OR acct_raw_cost IS NOT NULL
                  OR acct_burdened_cost IS NOT NULL
                  OR project_raw_cost IS NOT NULL
                  OR project_burdened_cost IS NOT NULL )
            AND NOT EXISTS
    (SELECT 1
   FROM apps.PA_COST_DISTRIBUTION_LINES_ALL CDL
   WHERE CDL.expenditure_item_id = ei.expenditure_item_id
  )
            AND creation_date>=sysdate-7
            AND rownum <= 6 )",2848659.1,"SYMPTOM: Distribute  process completed with below error
 ORA-01400: cannot insert NULL into (""PA"".""PA_COST_DISTRIBUTION_LINES_ALL"".""AMOUNT1""

CAUSE: The cause of the issue is invalid/incorrect data in table pa_expenditure_items_all
 when cost_distributed_flag  is N then raw cost and burdened cost should not exists

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately
Minimum Code Level Requirements for Market Driven Support of Oracle E-Business Suite Release 12.1.3 (Doc ID 2658189.1)",PA,Distribute Process Error ORA-01400 Cannot Insert NULL Into PA_COST_DISTRIBUTION_LINES_ALL,"Distribute  process completed with below error
 ORA-01400: cannot insert NULL into (""PA"".""PA_COST_DISTRIBUTION_LINES_ALL"".""AMOUNT1"")",2,Oracle Project Costing,EXPEND,EXPEND,WEEK,SAT,Project to Profit,Due to this issue transactions can't be accounted to GL,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_P2P_PO_RECEIPT_DATA_CORRUPTION,"SELECT project_number project_number,
expenditure_type expenditure_type,
po_number po_number,
receipt_number receipt_number,
project_status project_status,
rej_reason rej_reason
FROM (
SELECT p.segment1 project_number,
pod.expenditure_type expenditure_type,
poh.segment1 po_number,
rsh.receipt_num receipt_number,
p.project_status_code project_status,
'Case 4:: Eligible PO Receipts interfaced to Projects but with '||
'wrong pa_addition_flag value' AS rej_reason
FROM rcv_transactions rtxn,
rcv_shipment_headers rsh,
po_distributions_all pod,
rcv_receiving_sub_ledger rsub,
pa_projects_all p,
pa_tasks t,
po_headers_all poh
WHERE (rtxn.destination_type_code = 'EXPENSE' OR
(rtxn.destination_type_code = 'RECEIVING' AND
rtxn.transaction_type IN ('RETURN TO VENDOR', 'RETURN TO RECEIVING')))
AND rtxn.po_distribution_id = pod.po_distribution_id
AND rsub.code_combination_id = pod.code_combination_id
AND rsub.rcv_transaction_id = rtxn.transaction_id
AND rsh.shipment_header_id = rtxn.shipment_header_id
AND poh.po_header_id = pod.po_header_id
AND pod.project_id > 0
AND pod.project_id = p.project_id
AND pod.task_id = t.task_id
AND p.project_id = t.project_id
AND pod.accrue_on_receipt_flag = 'Y'
AND nvl(rsub.pa_addition_flag,'N') <> 'Y'
AND rsub.actual_flag = 'A'
AND rsub.accounting_line_type = 'Charge'
AND poh.org_id = pod.org_id
AND EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_distribution_id = rtxn.transaction_id
AND ei.document_header_id = pod.po_header_id
AND ei.document_line_number = pod.po_distribution_id
AND ei.project_id = pod.project_id
AND ei.task_id = pod.task_id
AND ei.transaction_source LIKE 'PO%')
AND trunc(rsub.creation_date) >= sysdate - 7
AND rownum < 2
UNION
SELECT p.segment1 project_number,
pod.expenditure_type expenditure_type,
poh.segment1 po_number,
rsh.receipt_num receipt_number,
p.project_status_code project_status,
'Case 7 : Eligible PO Receipts not interfaced to Projects '||
'having wrong pa_addition_flag value' AS rej_reason
FROM rcv_receiving_sub_ledger rsub,
rcv_Transactions rtxn,
po_distributions_all pod,
rcv_shipment_headers rsh,
po_headers_all poh,
pa_projects_all p
WHERE (rtxn.destination_type_code = 'EXPENSE' OR
(rtxn.destination_type_code = 'RECEIVING' AND
rtxn.transaction_type IN ('RETURN TO VENDOR','RETURN TO RECEIVING')))
AND poh.po_header_id = pod.po_header_id
AND rtxn.po_distribution_id = pod.po_distribution_id
AND rsub.code_combination_id = pod.code_combination_id
AND rsub.rcv_transaction_id = rtxn.transaction_id
AND rsh.shipment_header_id = rtxn.shipment_header_id
AND p.project_id = pod.project_id
AND pod.project_id > 0
AND pod.accrue_on_receipt_flag = 'Y'
AND nvl(rsub.pa_addition_flag, 'Y') <> 'N'
AND rsub.actual_flag = 'A'
AND rsub.accounting_line_type = 'Charge'
AND pod.org_id = poh.org_id
AND pod.org_id = p.org_id
AND (pa_nl_installed.is_nl_installed = 'N' OR
(pa_nl_installed.is_nl_installed = 'Y' AND
NOT EXISTS (
SELECT 'X'
FROM mtl_system_items si,
po_lines_all pol
WHERE pol.po_line_id = pod.po_line_id
AND si.inventory_item_id = pol.item_id
AND si.comms_nl_trackable_flag = 'Y'
AND (si.organization_id = pod.org_id OR
si.organization_id IN (
SELECT nvl(ship_to_organization_id,-9999)
FROM po_line_locations_all pll
WHERE pll.po_header_id = pod.po_header_id
AND pll.po_line_id = pod.po_line_id)))))
AND NOT EXISTS (
SELECT 'X' FROM pa_expenditure_items_all ei
WHERE ei.document_distribution_id = rsub.rcv_transaction_id
AND ei.document_header_id = to_number(rsub.reference2)
AND ei.document_line_number = to_number(rsub.reference3)
AND ei.project_id = pod.project_id
AND ei.task_id = pod.task_id
AND ei.transaction_source like 'PO%')
AND NOT EXISTS (
SELECT 1 FROM ap_invoice_distributions_all apd
WHERE nvl(apd.historical_flag,'N') <> 'Y'
AND apd.po_distribution_id = pod.po_distribution_id
AND apd.line_type_lookup_code IN ('ACCRUAL','NONREC_TAX')
AND apd.pa_addition_flag = 'Y'
AND apd.project_id > 0)
AND trunc(rsub.creation_date) >= sysdate - 7
AND rownum < 2
UNION
SELECT p.segment1 project_number,
ei.expenditure_type expenditure_type,
poh.segment1 po_number,
rsh.receipt_num receipt_number,
p.project_status_code project_status,
'Case 12 : PO Receipt Return Transactions that got interfaced '||
'to projects, with incorrect amounts' AS rej_reason
FROM pa_expenditure_items_all ei,
rcv_receiving_sub_ledger rsub,
rcv_transactions rtxn,
rcv_shipment_headers rsh,
pa_projects_all p,
pa_tasks t,
po_headers_all poh,
po_lines_all pol,
po_distributions_all pod
WHERE ei.project_id = p.project_id
AND ei.task_id = t.task_id
AND ei.project_id = t.project_id
AND ei.document_header_id = poh.po_header_id
AND ei.adjusted_expenditure_item_id is null
AND nvl(ei.net_zero_adjustment_flag,'N') = 'N'
AND ei.document_distribution_id = rsub.rcv_transaction_id
AND to_char(ei.document_line_number) = rsub.reference3
AND nvl(rsub.pa_addition_flag,'N') = 'Y'
AND rsub.rcv_transaction_id = rtxn.Transaction_id
AND rtxn.shipment_header_id = rsh.shipment_header_id
AND rsub.reference3 = TO_CHAR(pod.po_distribution_id)
AND pod.po_line_id = pol.po_line_id
AND ei.org_id = pod.org_id
AND pod.org_id = poh.org_id
AND ((ei.Transaction_Source = 'PO RECEIPT NRTAX' AND
((ei.document_distribution_type = 'RETURN TO RECEIVING' AND
nvl(rsub.accounted_nr_tax,0) <> -1* ei.acct_raw_cost) OR
(ei.document_distribution_type = 'CORRECT' AND
nvl(rsub.accounted_nr_tax,0) <> ei.acct_raw_cost) OR
(ei.document_distribution_type = 'DELIVER' AND
nvl(rsub.accounted_nr_tax,0) <> ei.acct_raw_cost))) OR
(ei.Transaction_Source = 'PO RECEIPT' AND
((ei.document_distribution_type = 'RETURN TO RECEIVING' AND
decode(nvl(rsub.entered_dr,0),
0, -rsub.entered_cr + nvl(rsub.entered_nr_tax,0),
rsub.entered_dr - nvl(rsub.entered_nr_tax,0)) <> ei.denom_raw_cost) OR
(ei.document_distribution_type = 'CORRECT' AND
decode(nvl(rsub.entered_dr,0),
0, -rsub.entered_cr+nvl(rsub.entered_nr_tax,0),
rsub.entered_dr - nvl(rsub.entered_nr_tax,0)) <> ei.denom_raw_cost) OR
(ei.document_distribution_type = 'DELIVER' AND
decode(nvl(rsub.entered_dr,0),
0, -rsub.entered_cr+nvl(rsub.entered_nr_tax,0),
rsub.entered_dr - nvl(rsub.entered_nr_tax,0)) <> ei.denom_raw_cost))))
AND trunc(rsub.creation_date) >= sysdate - 7
AND rownum <= 5
)",2374643.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please follow below GDF's which is applicable to your version.
On release 11.5.10, download the applicable release of Patch 13833481.

On release 12.0.X, download Patch 15854281.

On release 12.1. Up to and including 12.1.3.delta5 download the applicable release of Patch 13833481.

On release 12.1.3.delta6+ and 12.2.5+, download the applicable release Patch 22311067.

2. Go through the readme of the patch
3. Run the reporting script
4. Verify the output files and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance",PA,PO receipts are not interfaced to projects due to data corruption,There are some PO receipts which are not yet interfaced to Projects Costing and some PO receipts which are having wrong pa_addition_flag value.,2,Oracle Project Costing,P2P_FLOW,P2P_FLOW,WEEK,SAT,Project to Profit,"There are some PO receipts which are not yet interfaced to Projects Costing, and some whose interface status is incorrectly recorded in Purchasing.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_CAP_INCORRECT_REV_DIST,"SELECT DISTINCT
project_number project_number,
raw_cost raw_cost,
burden_cost burden_cost,
transaction_source transaction_source,
reason reason
FROM (
SELECT p.segment1 project_number,
ei.raw_cost raw_cost,
ei.burden_cost burden_cost,
transaction_source transaction_source,
'Not Generated Into Asset Lines' reason
FROM pa_expenditure_items_all ei,
pa_cost_distribution_lines_all cdl,
pa_projects_all p,
pa_project_types_all pt,
pa_project_statuses ps
WHERE TRUNC(ei.creation_date) > sysdate-7
AND cdl.expenditure_item_id = ei.expenditure_item_id
AND cdl.billable_flag = 'Y'
AND ei.revenue_distributed_flag = 'Y'
AND cdl.transfer_status_code IN ('P', 'A', 'V', 'T', 'R', 'G', 'B')
AND cdl.line_type =
decode(pt.capital_cost_type_code,
'B', decode(nvl(pt.total_burden_flag,
decode(pt.burden_amt_display_method,'S','Y','D','N','Y')),
'Y', 'D',
'R'),
'R')
AND ((cdl.line_type = 'I' AND
cdl.transfer_status_code = 'G') OR
cdl.line_type IN ('R', 'D') AND
cdl.transfer_status_code IN ('V', 'A'))
AND ei.capital_event_id IS NOT NULL
AND ei.project_id = p.project_id
AND pt.project_type = p.project_type 
AND p.org_id = pt.org_id 
AND pt.project_type_class_code = 'CAPITAL'  
AND p.project_status_code = ps.project_status_code
AND ps.project_system_status_code <> 'CLOSED'   
AND EXISTS (
SELECT 1 FROM pa_cost_distribution_lines_all pcdl
WHERE pcdl.expenditure_item_id = cdl.expenditure_item_id
AND pcdl.line_num = cdl.line_num
AND pcdl.line_type = cdl.line_type
AND pcdl.line_num > (
SELECT MAX(line_num) FROM pa_project_asset_line_details det
WHERE det.expenditure_item_id = cdl.expenditure_item_id
AND det.reversed_flag = 'N'))
AND rownum< = 6
)",2511611.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please download patch 14183142.
2. Go through the readme of the patch
3. Run the reporting script
4. Verify the output files and look onto the message
5. Run appropriate data fix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance.

Note:  Although patch is released for R12.1, For R12.2 version scripts mentioned in patch 14183142 can be executed as per read me of the patch.",PA,Transactions For Expenditures Where Revenue Distributed Flag Is Wrongly Stamped As Y ,Asset costs are not interfacing to FA due to revenue_distributed_flag = Y even though asset lines are not generated,2,Oracle Project Costing,CAPITAL,CAPITAL,WEEK,SAT,Project to Profit,"Asset lines are not generated for some expenditures which have been incorrectly flagged as having been revenue distributed.  As a result, users cannot interface the Project assets to Fixed Assets.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_BURD_ACTUALS_DIFF_ORIGINAL_COST,"SELECT e.expenditure_group expenditure_group,
       cei.expenditure_item_id reversing_exp_item_id,
       cei.adjusted_expenditure_item_id orig_exp_item_id,
       p.segment1 project_number
FROM pa_expenditure_items_all ei,
     pa_expenditure_items_all cei,
     pa_expenditures_all e,
     pa_projects_all p
WHERE e.expenditure_id = ei.expenditure_id
AND   cei.adjusted_expenditure_item_id = ei.expenditure_item_id
AND   cei.net_zero_adjustment_flag = 'Y'
AND   ei.net_zero_adjustment_flag = 'Y'
AND   cei.project_id = p.project_id
AND   (NVL(cei.raw_cost,0) <> (NVL(ei.raw_cost,0) * -1) OR
       NVL(cei.burden_cost,0)  <> (NVL(ei.burden_cost,0) * -1) OR
       NVL(cei.denom_raw_cost,0) <> (NVL(ei.denom_raw_cost,0) * -1) OR
       NVL(cei.denom_burdened_cost,0) <> (NVL(ei.denom_burdened_cost,0) * -1) OR
       NVL(cei.acct_raw_cost,0) <> (NVL(ei.acct_raw_cost,0) * -1) OR
       NVL(cei.acct_burdened_cost,0) <> (NVL(ei.acct_burdened_cost,0)    * -1) OR
       NVL(cei.project_raw_cost,0) <> (NVL(ei.project_raw_cost,0) * -1) OR
       NVL(cei.project_burdened_cost,0) <> (NVL(ei.project_burdened_cost,0) * -1))
AND   cei.creation_date >= SYSDATE - 7
AND   rownum <= 5",2507646.1,"SYMPTOM: Raw Cost or Burden Cost for adjusted expenditure items are not matching with original expenditure item.

CAUSE: Burden cost is calculated incorrectly for reversed expenditure items.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA, Raw And Burden Cost For Adjustment Lines Are Not Matching With Original Expenditure Item,Raw And Burden Cost For Adjustment Lines Are Not Matching With Original Expenditure Item,2,Oracle Project Costing,EXPEND,EXPEND,WEEK,SAT,Project to Profit,Adjustment transactions have raw and burden cost amounts which do not match the amounts of the original lines they are reversing.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_CAP_MISSING_ASSET_LINES,"SELECT
p.segment1 project_num,
ei.expenditure_item_id expenditure_item_id,
ei.transaction_source transaction_source,
ei.raw_cost raw_cost,
ei.burden_cost burden_cost
FROM pa_expenditure_items_all ei,
pa_cost_distribution_lines_all cdl,
pa_projects_all p,
pa_project_types_all pt,
pa_project_statuses ps
WHERE ei.project_id = p.project_id
AND TRUNC(ei.creation_date) > SYSDATE - 7
AND p.project_type = pt.project_type
AND p.org_id = pt.org_id 
AND pt.project_type_class_code = 'CAPITAL'  
AND p.project_status_code = ps.project_status_code
AND ps.project_system_status_code <> 'CLOSED'   
AND cdl.expenditure_item_id = ei.expenditure_item_id
AND cdl.billable_flag = 'Y'
AND ei.revenue_distributed_flag IN ('N','Y')
AND cdl.transfer_status_code IN ('P','A','V','T','R','G','B')
AND cdl.line_type = DECODE(pt.capital_cost_type_code, 'B',
DECODE(NVL(pt.total_burden_flag,
DECODE(pt.burden_amt_display_method, 'S','Y', 'D','N', 'Y')),
'Y','D', 'R'), 'R')
AND EXISTS
(SELECT 1
FROM pa_project_asset_line_details pad
WHERE pad.expenditure_item_id = cdl.expenditure_item_id
AND pad.line_num = cdl.line_num
AND reversed_flag = 'N'
AND NOT EXISTS
(SELECT 1
FROM pa_project_asset_lines_all pal
WHERE pal.project_asset_line_detail_id = pad.project_asset_line_detail_id
AND project_id = ei.project_id
)
)
AND rownum<=6",2511610.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please download patch 14183142.
2. Go through the readme of the patch
3. Run the reporting script
4. Verify the output files and look onto the message
5. Run appropriate data fix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance.

Note:  Although patch is released for R12.1, For R12.2 version scripts mentioned in patch 14183142 can be executed as per read me of the patch.",PA,Expenditures Which Have Been Converted To Asset Line Details But Not To Asset Lines.,"Asset Costs are not interfacing to FA due to data corruption in which expenditure items have been converted into asset line details, but not asset lines.",2,Oracle Project Costing,CAPITAL,CAPITAL,WEEK,SAT,Project to Profit,Users are unable to interface project assets to Fixed Assets because some asset lines are missing.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_BURD_CDL_GEN_FOR_COST_BUDERN_DISABLED_EI,"SELECT ei.expenditure_item_id expenditure_item_id,
       ei.cost_distributed_flag cost_distributed_flag,
       ei.cost_burden_distributed_flag cost_burden_distributed_flag,
       p.segment1 project_number,
       t.task_number task_number,
       ei.ind_cost_dist_rejection_code ind_cost_dist_rejection_code
FROM pa_expenditure_items_all ei,
     pa_projects_all p,
     pa_project_types_all pt,
     pa_tasks t
WHERE nvl(ei.cost_burden_distributed_flag, 'Z') NOT IN ('Y','N')
AND   ei.project_id = p.project_id
AND   p.project_type = pt.project_type
AND   pt.total_burden_flag = 'Y'
AND   p.org_id = pt.org_id
AND   ei.system_linkage_function <> 'BTC'
AND   ei.task_id = t.task_id
AND   p.project_id = t.project_id
AND   EXISTS (
        SELECT 1 FROM pa_cost_distribution_lines_all cdl
        WHERE cdl.expenditure_item_id = ei.expenditure_item_id
        AND   cdl.project_id = ei.project_id
        AND   cdl.task_id = ei.task_id
        AND   line_type IN ('C','D'))
AND   ei.creation_date >= SYSDATE - 7
AND   rownum <= 5",2507675.1,"SYMPTOM: Burden lines are generated for expenditure items whose cost burden distributed flag is not enabled.

CAUSE: Issue is caused due to data corruption in PA_COST_DISTRIBUTION_LINES_ALL table. COST_BURDEN_DISTRIBUTED_FLAG marked to some junk character but corresponding C and D lines generated in the CDL table.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Expenditure Item cost burden distributed flag is disabled but Burden Distributions Generated,Expenditure Item cost burden distributed flag is disabled but Burden Lines are already generated,2,Oracle Project Costing,BURDEN,,WEEK,SAT,Project to Profit,Unnecessary burden lines are generated for expenditure items which may cause duplication of burden costs in the system.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_COST_RATE_POPULATED_ON_UNCOSTED_ITEMS_ACT,"SELECT ei.expenditure_item_id expenditure_item_id,
       ei.denom_raw_cost denom_raw_cost,
       ei.acct_raw_cost acct_raw_cost,
       ei.raw_cost_rate raw_cost_rate,
       ei.raw_cost raw_cost
FROM pa_expenditure_items_all ei,
     pa_transaction_sources txs
WHERE ei.Cost_Distributed_Flag = 'N'
AND   ei.transaction_source = txs.transaction_source(+)
AND   ei.system_linkage_function <> 'BTC'
AND   (ei.denom_raw_cost <>
         decode(nvl(txs.costed_flag,'N'), 'N', NULL, ei.denom_raw_cost) OR
       ei.acct_raw_cost <>
         decode(nvl(txs.gl_accounted_flag,'N'),'N',NULL,ei.acct_raw_cost) OR
       ei.raw_cost_rate <> decode(nvl(txs.costed_flag,'N'),'N',NULL,ei.raw_cost_rate) OR
       ei.raw_cost is not null OR
       ei.project_raw_cost is not null)
AND   ei.creation_date > sysdate -7
AND   rownum <= 5
ORDER BY ei.expenditure_item_id", 2512125.1,"To implement the solution, please execute the following steps in Test Instance.

For release 11.5.10:

1. Download and review the readme and pre-requisites for 3843988

2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment.

4. Retest the issue.

5. Migrate the solution as appropriate to other environments.

For release 12.1.x and 12.2.x:

1. Download the same release 11.5.10 Patch 3843988 via MyOracleSupport review the readme and pre-requisites.

Note : Do not apply the patch.

2. Open the patch and save the 2 files on the release 12 environment. 
   r3843988.sql [This is a reporting script that displays the expenditure items that are rejected in cost distribution but have cost columns populated]
   u3843988.sql [This datafix script is created to update the cost columns in EI table to the values prior to cost distribution, for records with cost distributed flag 'N']

3. Run these scripts manually in a test environment.

4. Retest the issue.

5. Migrate the solution as appropriate to other environments.",PA,Distribute Costs Error Unable to create cost distribution lines,"Cost rate is already populated for uncosted transactions , causing program PRC: Distribute Usage and Miscellaneous Costs to error out.",2,Oracle Project Costing,SETUP,SETUP,WEEK,SAT,Project to Profit,"Expenditure costs cannot be distributed, affecting all downstream processing.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_P2P_DUPL_ACTUALS_PO_RECEIPT,"SELECT project_number project_number,
       transaction_id transaction_id,
       amount amount,
       rej_reason rejection_reason
FROM (
SELECT p.segment1 project_number,
       cdl.system_reference4 transaction_id,
       cdl.amount,
       'Case 10: Transactions causing duplicate actuals in Projects '||
         'from PO Receipts' AS rej_reason
FROM pa_expenditure_items_all ei,
     pa_cost_distribution_lines_all cdl,
     pa_projects_all p
WHERE ei.transaction_source IN ('PO RECEIPT','PO RECEIPT NRTAX')
AND   ei.expenditure_Item_id = cdl.expenditure_Item_id
AND   cdl.transfer_status_code = 'V'
AND   cdl.line_type = 'R'
AND   nvl(ei.net_zero_adjustment_flag,'N') = 'N'
AND   cdl.line_num = 1
AND   ei.project_id = cdl.project_id
AND   p.project_id = ei.project_id
AND   ei.org_id = cdl.org_id
AND   EXISTS (
  SELECT 1
  FROM (
         SELECT cdl.system_reference2,
                cdl.system_reference3,
                cdl.system_reference4,
                cdl.amount,
                cdl.org_id,
                cdl.line_type,
                ei.transaction_source
         FROM pa_cost_distribution_lines_all cdl,
              pa_expenditure_items_all ei,
              pa_projects_all p ,
              rcv_Transactions rtxn,
              po_distributions_all pod,
              po_headers_all poh,
              rcv_receiving_sub_ledger rsub
         WHERE ei.transaction_source IN ('PO RECEIPT','PO RECEIPT NRTAX')
         AND   cdl.transfer_status_code = 'V'
         AND   cdl.line_type = 'R'
         AND   cdl.line_num = 1
         AND   cdl.expenditure_item_id = ei.expenditure_item_id
         AND   nvl(ei.net_zero_Adjustment_Flag,'N') = 'N'
         AND   p.project_id = pod.project_id
         AND   nvl(ei.historical_flag,'N') = 'N'
         AND   (rtxn.destination_type_code = 'EXPENSE' OR
                (rtxn.destination_type_code = 'RECEIVING' AND
                 rtxn.transaction_type IN ('RETURN TO VENDOR','RETURN TO RECEIVING')))
         AND   poh.po_header_id = pod.po_header_id
         AND   rtxn.po_distribution_id = pod.po_distribution_id
         AND   rsub.code_combination_id = pod.code_combination_id
         AND   rsub.rcv_transaction_id = rtxn.transaction_id
         AND   pod.project_ID > 0
         AND   pod.accrue_on_receipt_flag = 'Y'
         AND   rsub.actual_flag = 'A'
         AND   rsub.accounting_line_type = 'Charge'
         AND   ei.document_distribution_id = rsub.rcv_transaction_id
         AND   rsub.reference2 = to_char(ei.document_header_id)
         AND   rsub.reference3 = to_char(ei.document_line_number)
         AND   ei.project_id = pod.project_id
         AND   ei.task_id = pod.task_id
         AND   cdl.system_reference2 is not null
         AND   cdl.system_reference3 is not null
         AND   cdl.system_reference4 is not null
         AND   ei.org_id = cdl.org_id
         AND   ei.org_id = pod.org_id
         AND   pod.org_id = poh.org_id
         AND   trunc(ei.creation_date) >= sysdate-7
         GROUP BY cdl.system_reference2, cdl.system_reference3, cdl.system_reference4,
                  cdl.amount, cdl.org_id, cdl.line_type, ei.transaction_source
         HAVING count(1) > 1
       ) aud
WHERE cdl.system_reference2 = aud.system_reference2
AND   cdl.system_reference3 = aud.system_reference3
AND   cdl.system_reference4 = aud.system_reference4
AND   cdl.amount = aud.amount
AND   cdl.org_id = aud.org_id
AND   cdl.line_type = aud.line_type
AND   ei.transaction_source = aud.transaction_source))
WHERE rownum <= 5",2395393.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please follow below GDF's which is applicable to your version.
On release 11.5.10, download the applicable release of Patch 13833481.

On release 12.0.X, download Patch 15854281.

On release 12.1. Up to and including 12.1.3.delta5 download the applicable release of Patch 13833481.

On release 12.1.3.delta6+ and 12.2.5+, download the applicable release Patch 22311067.

2. Go through the readme of the patch
3. Run the reporting script
4. Verify the log and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance",PA, Transactions causing duplicate actuals in Projects from PO Receipts,There are some PO receipts which are interfaced to Projects causing duplicate actuals.,2,Oracle Project Costing,P2P_FLOW,P2P_FLOW,WEEK,SAT,Project to Profit,Some PO receipts have been incorrectly interfaced to Projects causing duplicate actual amounts.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_CAP_MISMATCH_ASSET_COSTS,"SELECT project_id project_id,
       project_asset_line_detail_id project_asset_line_detail_id,
       original_asset_cost original_asset_cost,
       crnt_ast_cost current_asset_cost,
       task_id task_id
FROM (
  SELECT al.project_id,
         al.project_asset_line_detail_id,
         al.original_asset_cost ,
         sum(al.current_asset_cost) crnt_ast_cost,
         al.task_id
  FROM pa_project_asset_lines_all al,
       pa_projects_all p
  WHERE al.project_id = p.project_id
  AND   EXISTS (
          SELECT 1 FROM pa_project_asset_line_details ald
          WHERE ald.reversed_flag = 'N'
          AND   ald.project_asset_line_detail_id = al.project_asset_line_detail_id)
  AND   TRUNC(al.creation_date) > SYSDATE - 7
  GROUP BY al.project_id, al.project_asset_line_detail_id,
           al.original_asset_cost, al.task_id
  HAVING sum(al.current_asset_cost) <> al.original_asset_cost
  )
WHERE rownum <= 6",2511587.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please download patch 14183142.
2. Go through the readme of the patch
3. Run the reporting script
4. Verify the output files and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance.

Note:  Although patch is released for R12.1, For R12.2 version scripts mentioned in patch 14183142 can be executed as per read me of the patch.",PA,The assets costs are not interfacing to FA.,For mismatch of amounts in asset lines where current asset costs does not match with original asset costs.,2,Oracle Project Costing,CAPITAL,CAPITAL,WEEK,SAT,Project to Profit,Users are unable to interface Project Assets to Fixed Assets.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_CAP_MISSING_ASSET_DETAILS,"SELECT project_id project_id,
  project_asset_line_detail_id project_asset_line_detail_id,
  original_asset_cost original_asset_cost,
  crnt_ast_cost crnt_ast_cost,
  task_id task_id
FROM
  (SELECT lines.project_id project_id,
    project_asset_line_detail_id project_asset_line_detail_id,
    original_asset_cost original_asset_cost,
    SUM(current_asset_cost) crnt_ast_cost,
    task_id task_id
  FROM pa_project_asset_lines_all lines,
    pa_projects_all p
  WHERE lines.project_id = p.project_id
  AND NOT EXISTS
    (SELECT 0
    FROM pa_project_asset_line_details details,
      pa_expenditure_items_all ei
    WHERE ei.project_id                      = p.project_id
     AND ei.expenditure_item_id               = details.expenditure_item_id
    AND details.project_asset_line_detail_id = lines.project_asset_line_detail_id
    )
  AND TRUNC(lines.creation_date) > SYSDATE - 7
  AND rownum<=6  
  GROUP BY lines.project_id,
    project_asset_line_detail_id,
    original_asset_cost,
    task_id
  )",2511588.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please download patch 14183142.
2. Go through the readme of the patch
3. Run the reporting script
4. Verify the output files and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance.

Note:  Although patch is released for R12.1, For R12.2 version scripts mentioned in patch 14183142 can be executed as per read me of the patch.",PA,Project asset costs not interfacing to FA.,Transactions for those asset lines with respective asset details are missing in pa_project_asset_line_details details table.,2,Oracle Project Costing,CAPITAL,CAPITAL,WEEK,SAT,Project to Profit,Users are unable to interface Project Assets to Fixed Assets.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_BURD_MISSING_CR_DR_CDLS,"SELECT DISTINCT
       d.expenditure_item_id expenditure_item_id,
       d.line_num line_num,
       d.transfer_status_code transfer_status_code,
       d.transfer_rejection_reason transfer_rejection_reason,
       p.segment1 project_number,
       t.task_number task_number
FROM pa_cost_distribution_lines_all d ,
     (
       SELECT /*+ no_push_pred */
              ei.expenditure_item_id,
              sum(decode(cdl.line_type,'C',amount)) sum_c,
              sum(decode(cdl.line_type,'D',amount)) sum_d
       FROM pa_cost_distribution_lines_all cdl,
            pa_expenditure_items_all ei
       WHERE cdl.line_type IN ('C','D')
       AND   ei.expenditure_item_id = cdl.expenditure_item_id
       AND   cdl.transfer_status_code IN ('A','P','R')
       AND   ei.creation_date >= sysdate - 7
       GROUP BY ei.expenditure_item_id
       HAVING nvl(sum(decode(cdl.line_type,'C',1,0)), 0) <>
                nvl(sum(decode(cdl.line_type,'D',1,0)) , 0)
     ) ei,
     pa_projects_all p,
     pa_tasks t
WHERE d.expenditure_item_id = ei.expenditure_item_id
AND   d.line_type IN ('C','D')
AND   d.transfer_status_code IN ('A','P','R')
AND   d.project_id = p.project_id
AND   d.task_id = t.task_id
AND   p.project_id = t.project_id
AND   rownum<=5",2507647.1,"SYMPTOM: Either credit or debit line is not generated for expenditure items.

CAUSE: Issue is caused due to data corruption in PA_COST_DISTRIBUTION_LINES_ALL table. Burden Credit and Burden Debit Amounts are not matching.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Missing or Extra Credit or Debit Burden Distributions Exist for Expenditure Items,The debit and credit burden distributions for some expenditure items do not balance.,2,Oracle Project Costing,BURDEN,BURDEN,WEEK,SAT,Project to Profit,The accounting process for burden transactions will be impacted and the burden amounts will be incorrect.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_BURD_CDL_GEN_FOR_NO_TOT_BURDEN_FLAG_PROJTYPE,"SELECT ei.expenditure_item_id expenditure_item_id,
       ei.cost_distributed_flag cost_distributed_flag,
       ei.cost_burden_distributed_flag cost_burden_distributed_flag,
       p.segment1 project_number,
       t.task_number task_number,
       ei.ind_cost_dist_rejection_code ind_cost_dist_rejection_code
FROM pa_expenditure_items_all ei,
     pa_projects_all p,
     pa_project_types_all pt,
     pa_tasks t
WHERE nvl(ei.cost_burden_distributed_flag, 'Z') NOT IN ('Y','N')
AND   ei.project_id = p.project_id
AND   p.project_type = pt.project_type
AND   pt.total_burden_flag = 'N'
AND   p.org_id = pt.org_id
AND   ei.task_id = t.task_id
AND   p.project_id = t.project_id
AND   ei.system_linkage_function <> 'BTC'
AND   EXISTS (
        SELECT 1 FROM pa_cost_distribution_lines_all cdl
        WHERE cdl.expenditure_item_id = ei.expenditure_item_id
        AND   cdl.project_id = ei.project_id
        AND   cdl.task_id = ei.task_id
        AND   line_type IN ('C','D'))
AND   ei.creation_date >= SYSDATE - 7
AND   rownum <= 5",2507691.1,"SYMPTOM: Burden Lines generated for Project Types with Account For Total Burden Cost flag is disabled.

CAUSE: Issue is caused due to data corruption in PA_COST_DISTRIBUTION_LINES_ALL table. Burden Credit and Burden Debit lines generated even they should not be generated.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Total Burden Distributions Generated For Project Types Without Total Burden Costing Enabled,Credit or debit burden distributions are generated for project types which do not have total burden costing enabled,2,Oracle Project Costing,BURDEN,BURDEN,WEEK,SAT,Project to Profit,Total burden cost distribution lines are generated for expenditures even though the project type does not have total burden costing enabled.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_PA_EXP_NEG_LINE_VIEW_ACCT,"SELECT
    expenditure_item_id  expenditure_item_id,
    transfer_status_code  transfer_status_code,
    project_id  project_id,
    task_id  task_id,
    amount  amount         
FROM
    (
        SELECT
            expenditure_item_id,
            transfer_status_code,
            project_id,
            task_id,
            amount
        FROM
            pa_cost_distribution_lines_all cdl
        WHERE
                transfer_status_code = 'A'
            AND acct_source_code = 'PA'
            AND EXISTS (
                SELECT
                    1
                FROM
                    xla_events xe
                WHERE
                        xe.application_id = 275
                    AND xe.event_id = cdl.acct_event_id
                    AND xe.event_status_code = 'P'
                    AND xe.process_status_code = 'P'
            )
            AND NOT EXISTS (
                SELECT
                    1
                FROM
                    xla_distribution_links xdl
                WHERE
                        xdl.application_id = 275
                    AND xdl.event_id = cdl.acct_event_id
                    AND xdl.source_distribution_id_num_1 = cdl.expenditure_item_id
                    AND nvl(xdl.source_distribution_id_num_2, - 99) = cdl.line_num
            )
            AND cdl.creation_date >= sysdate - 7
            AND  rownum <= 6
    )",2848059.1,"SYMPTOM: Negative Line of The Recalculated Expenditue is Not Appearing In View Accounting
.
CAUSE: The cause of the issue is invalid / incorrect data in  pa_cost_distribution_lines_all and xla_distribution_links   table

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Negative Line of The Recalculated Expenditure is Not Appearing In View Accounting,After recalculation of expenditure negative lines are not accounted to GL,2,Oracle Project Costing,EXPEND,EXPEND,WEEK,SAT,Project to Profit,Due to this issue  accounting  is wrong in GL as the recalculated transaction not accounted to GL,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_P2P_CDL_AUTO_ACC_ERROR,"SELECT project_number project_number,
       expenditure_type expenditure_type,
       expenditure_item_date expenditure_item_date,
       project_status_code project_status_code,
       rej_reason rejection_reason
FROM (
SELECT p.segment1 AS project_number,
       p.Project_status_code,
       cdl.expenditure_item_id,
       ei.expenditure_item_date,
       cdl.line_num,
       cdl.project_id,
       ei.org_id,
       ei.expenditure_type,
       ei.denom_raw_cost,
       cdl2.System_Reference1,
       cdl2.System_Reference2,
       cdl2.System_Reference3,
       cdl2.System_Reference4,
       cdl2.System_Reference5,
       cdl2.Transfer_Status_Code,
       ei.transaction_source txn_src,
       'Case 13:Distribution Lines getting rejected in Accounting with '||
         'error : Original transaction not accounted in final mode' AS rej_reason
  FROM pa_cost_distribution_lines_all cdl2,
       pa_expenditure_items_all ei,
       pa_cost_distribution_lines_all cdl ,
       pa_projects_all p,
       pa_project_types_all pt
  WHERE cdl.expenditure_item_id = ei.expenditure_item_id
  AND   ei.cost_dist_rejection_code is null
  AND   ei.system_linkage_function = 'VI'
  AND   ei.transaction_source IN ('AP DISCOUNTS','PO RECEIPT')
  AND   cdl.transfer_status_code IN ('R','P','A')
  AND   (cdl.system_reference4 is null OR
         cdl.system_reference5 is null )
  AND   cdl.Project_id = p.project_id
  AND   ei.Project_Id = p.project_Id
  AND   ei.org_id = cdl.org_id
  AND   p.project_Type = pt.project_type
  AND   cdl2.expenditure_item_id =
          decode(ei.adjusted_expenditure_item_id,
            null, decode(ei.transferred_from_exp_item_id,
                    null, ei.expenditure_item_id,
                    decode(cdl.line_num,
                      1, ei.transferred_from_exp_item_id,
                      ei.expenditure_item_id)),
            ei.adjusted_expenditure_item_id)
  AND   cdl2.line_num = (
          SELECT max(cdl3.line_num) FROM pa_cost_distribution_lines_all cdl3
          WHERE cdl3.expenditure_item_id = cdl2.expenditure_item_id
          AND   (cdl3.system_reference4 is not null OR
                 (cdl3.system_reference5 is not null AND
                  cdl3.LINE_TYPE = 'R')))
AND   trunc(ei.creation_date) >= sysdate-7
AND   rownum < 5)",2405009.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please follow below GDF's which is applicable to your version.
On release 11.5.10, download the applicable release of Patch 13833481.

On release 12.0.X, download Patch 15854281.

On release 12.1. Up to and including 12.1.3.delta5 download the applicable release of Patch 13833481.

On release 12.1.3.delta6+ and 12.2.5+, download the applicable release Patch 22311067.

2. Go through the readme of the patch
3. Run the reporting script
4. Verify the log and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance",PA,CDL lines rejected in Accounting with Original transaction not accounted error,Distribution Lines getting rejected in Accounting with error : Original transaction not accounted in final mode.,2,Oracle Project Costing,P2P_FLOW,P2P_FLOW,WEEK,SAT,Project to Profit,Distribution Lines getting rejected in Accounting with error : Original transaction not accounted in final mode. This prevents period closure.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_CAP_ASSET_LINES_MISSING_FA,"SELECT p.project_id project_id,
l.project_asset_line_id project_asset_line_id,
l.project_asset_line_detail_id project_asset_line_detail_id,
l.project_asset_id project_asset_id,
l.task_id task_id
FROM pa_project_asset_lines_all l,
pa_projects_all p,
pa_project_types_all pt,
pa_project_statuses ps
WHERE l.project_id = p.project_id
AND trunc(l.creation_date) > SYSDATE - 7
AND l.transfer_status_code = 'T'
AND p.project_type = pt.project_type  
AND p.org_id = pt.org_id 
AND pt.project_type_class_code = 'CAPITAL'
AND p.project_status_code = ps.project_status_code  
AND ps.project_system_status_code <> 'CLOSED'   
AND l.transfer_rejection_reason = 'ASSET_NOT_POSTED'
AND NOT EXISTS (
SELECT 1 FROM fa_mass_additions ma
WHERE ma.project_id = l.project_id
AND ma.project_asset_line_id = l.project_asset_line_id
AND ma.task_id = l.task_id
UNION
SELECT 1
FROM fa_additions a,
fa_asset_invoices ai
WHERE a.asset_id = ai.asset_id
AND ai.project_asset_line_id = l.project_asset_line_id
AND ai.project_id = l.project_id)
AND rownum<=6",2511609.1,"To implement the solution, the following action plan should be followed in test instance.

1. Please download patch 14183142.
2. Go through the readme of the patch
3. Run the reporting script
4. Verify the output files and look onto the message
5. Run appropriate datafix which mentioned in step 4
6. Verify the result.
7. If the test is successful, please move the fix to appropriate instance.

Note:  Although patch is released for R12.1, For R12.2 version scripts mentioned in patch 14183142 can be executed as per read me of the patch.",PA,Asset Lines Have Transferred Status But Are Missing In FA.,Assets costs are not interfacing to FA due to asset lines with transferred status in PA but missing in FA.,2,Oracle Project Costing,CAPITAL,CAPITAL,WEEK,SAT,Project to Profit,"Asset lines have ""Transferred"" status but are missing in Fixed Assets.  As a result they cannot be transferred to FA.",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_WP_INVALID_START_DATE,"SELECT DISTINCT
       expenditure_item_date expenditure_item_date,
       invoice_num invoice_num,
       segment1 project_number,
       element_number task_number,
       scheduled_start_date scheduled_start_date,
       actual_start_date actual_start_date
FROM(
  SELECT ei.expenditure_item_date,
         to_char(null) invoice_num,
         p.segment1,
         pe.element_number,
         pevs.scheduled_start_date,
         pevs.actual_start_date,
         pevs.estimated_start_date
  FROM pa_expenditure_items_all ei,
       pa_projects_all p,
       pa_proj_elements pe,
       pa_proj_element_versions pev,
       pa_proj_elem_ver_schedule pevs
  WHERE p.project_id = pe.project_id
  AND   ei.project_id = pe.project_id
  AND   ei.task_id = pe.proj_element_id
  AND   pe.proj_element_id = pev.proj_element_id
  AND   pev.element_version_id = pevs.element_version_id
  AND   (ei.expenditure_item_date < pevs.scheduled_start_date OR
         ei.expenditure_item_date < pevs.actual_start_date OR
         ei.expenditure_item_date < pevs.estimated_start_date)
  AND   ei.creation_date >= sysdate - 7
  UNION
  SELECT ad.expenditure_item_date,
         ai.invoice_num,
         p.segment1,
         pe.element_number,
         pevs.scheduled_start_date,
         pevs.actual_start_date,
         pevs.estimated_start_date
  FROM ap_invoice_distributions_all ad,
       pa_projects_all p,
       pa_proj_elements pe,
       pa_proj_element_versions pev,
       pa_proj_elem_ver_schedule pevs,
       ap_invoices_all ai
  WHERE p.project_id = pe.project_id
  AND   ai.invoice_id = ad.invoice_id
  AND   ad.project_id = pe.project_id
  AND   ad.task_id = pe.proj_element_id
  AND   pe.proj_element_id = pev.proj_element_id
  AND   pev.element_version_id = pevs.element_version_id
  AND   (ad.expenditure_item_date < pevs.scheduled_start_date OR
         ad.expenditure_item_date < pevs.actual_start_date OR
         ad.expenditure_item_date < pevs.estimated_start_date )
  AND   ad.creation_date >= sysdate - 7
  )
WHERE rownum <= 6",2514928.1,"To implement the solution, the following action plan should be followed in test instance.

1. Login to Project Self-service responsibility.
2. Go to Projects: Delivery > Search Projects
3. Navigate to Workplan->Working Version -> Update Work Breakdown Structure .
4. Change the scheduled start date of the task , so that expenditure item date of the expenditure charged for the task is later than scheduled start date of the task.
5. Publish the workplan",PA,Expenditure Items Exist with Expenditure Item Dates Before the Task Start Dates ,"Due to mismatch in task and transaction dates, errors such as ""PA_EI_INVALID_START_DATE"" can occur when publishing the workplan.",2,Oracle Project Planning and Control,WORKPLAN,WORKPLAN,WEEK,SAT,Project to Profit,Users may not be able to publish the project workplan.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_WP_INVALID_FINISH_DATE,"SELECT DISTINCT
       expenditure_item_date expenditure_item_date,
       invoice_num invoice_num,
       segment1 project_number,
       element_number task_number,
       scheduled_finish_date scheduled_finish_date,
       actual_finish_date actual_finish_date
FROM (
  SELECT ei.expenditure_item_date,
         to_char(null) invoice_num,
         p.segment1 ,
         pe.element_number, 
         pevs.scheduled_finish_date,
         pevs.actual_finish_date ,
         pevs.estimated_finish_date
  FROM pa_expenditure_items_all ei,
       pa_projects_all p ,
       pa_proj_elements pe ,
       pa_proj_element_versions pev ,
       pa_proj_elem_ver_schedule pevs
  WHERE p.project_id = pe.project_id
  AND   ei.project_id = pe.project_id
  AND   ei.task_id = pe.proj_element_id
  AND   pe.proj_element_id = pev.proj_element_id
  AND   pev.element_version_id = pevs.element_version_id
  AND   (pevs.scheduled_finish_date < ei.expenditure_item_date OR
         pevs.actual_finish_date < ei.expenditure_item_date OR
         pevs.estimated_finish_date < ei.expenditure_item_date )
  AND   ei.creation_date >= sysdate - 7
  UNION
  SELECT ap.expenditure_item_date,
         aph.invoice_num ,
         p.segment1 ,
         pe.element_number,
         pevs.scheduled_finish_date,
         pevs.actual_finish_date ,
         pevs.estimated_finish_date
  FROM ap_invoice_distributions_all ap ,
       pa_projects_all p ,
       pa_proj_elements pe ,
       pa_proj_element_versions pev ,
       pa_proj_elem_ver_schedule pevs ,
       ap_invoices_all aph
  WHERE p.project_id = pe.project_id
  AND   aph.invoice_id = ap.invoice_id
  AND   ap.project_id = pe.project_id
  AND   ap.task_id = pe.proj_element_id
  AND   pe.proj_element_id = pev.proj_element_id
  AND   pev.element_version_id = pevs.element_version_id
  AND   (pevs.scheduled_finish_date < ap.expenditure_item_date OR
         pevs.actual_finish_date < ap.expenditure_item_date OR
         pevs.estimated_finish_date < ap.expenditure_item_date )
  AND   ap.creation_date >= sysdate - 7
  )
WHERE rownum <= 6
",2514941.1,"To implement the solution, the following action plan should be followed in test instance.

1. Login to Project Self-service responsibility.
2. Go to Projects: Delivery > Search Projects
3. Navigate to Workplan->Working Version -> Update Work Breakdown Structure .
4. Change the scheduled end date of the task , so that expenditure item date of the expenditure charged for the task is earlier than scheduled end date of the task.
5. Publish the workplan",PA,Expenditure Items Exist with Expenditure Item Dates After the Task Finish Dates ,"Due to mismatch in task and transaction dates, Errors ""PA_EI_INVALID_DATES"" or ""PA_SI_INVALID_FINISH_DATE"" can occur when publishing the workplan.",2,Oracle Project Planning and Control,WORKPLAN,WORKPLAN,WEEK,SAT,Project to Profit,Users may not be able to publish the project workplan impacting progress on the project.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_WP_TASK_MIS_SHARE_VERD,"SELECT p.project_id project_id,
       p.segment1 project_number,
       p.str_vers_id structure_version_id
FROM (
  SELECT p.project_id,
         p.segment1,
         pa_project_structure_utils.get_latest_fin_struc_ver_id(p.project_id) str_vers_id
  FROM pa_projects_all p,
       pa_project_statuses ps
  WHERE p.project_status_code = ps.project_status_code
  AND   ps.project_system_status_code != 'CLOSED'
  AND   ps.status_type = 'PROJECT'
  AND   trunc(SYSDATE) BETWEEN
          ps.start_date_active AND
          nvl(ps.end_date_active, trunc(SYSDATE))
  AND   p.structure_sharing_code = 'SHARE_FULL'
  AND   pa_workplan_attr_utils.check_wp_versioning_enabled(p.project_id) = 'N'
  ) p
WHERE p.project_id IN (
        SELECT t.project_id
        FROM pa_tasks t,
             pa_proj_element_versions pev,
             pa_proj_elements pe
        WHERE t.project_id = p.project_id
        AND   p.str_vers_id = pev.parent_structure_version_id(+)
        AND   t.project_id = pev.project_id(+)
        AND   t.task_id = pev.proj_element_id(+)
        AND   t.project_id = pe.project_id(+)
        AND   t.task_id = pe.proj_element_id(+)
        AND   (pev.proj_element_id is null OR
               pe.proj_element_id is null)
        UNION
        SELECT pe.project_id
        FROM pa_tasks t,
             pa_proj_element_versions pev,
             pa_proj_elements pe
        WHERE pe.project_id = p.project_id
        AND   pe.object_type = 'PA_TASKS'
        AND   pe.link_task_flag = 'N'
        AND   pe.project_id = pev.project_id
        AND   pe.proj_element_id = pev.proj_element_id
        AND   pev.parent_structure_version_id = p.str_vers_id
        AND   pe.project_id = t.project_id (+)
        AND   pe.proj_element_id = t.task_id (+)
        AND   t.task_id is null
        AND   t.creation_date >= SYSDATE - 7
  )
AND   rownum <= 6",2571658.1,"SYMPTOM: When attempting to delete task from Project form,
the following error occurs.

Error
---------------
Project ID is not specified

CAUSE: This issue is occurring for the tasks which are present in only pa_tasks table and missing other workplan tables.
The cause of the issue is invalid / incorrect data in pa_proj_element_versions.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Tasks Missing from Work Plan Tables for Fully Shared Structures with Versioning Disabled.,Financial structure tasks are missing in the workplan preventing the publishing of the workplan and collection of progress.,2,Oracle Project Planning and Control,WORKPLAN,WORKPLAN,WEEK,SAT,Project to Profit,Tasks Missing In Workplan Tables For Fully Shared Workplan Versioning Disabled Projects as a result not able to publish the workplan and not able to collect the progress information.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_WP_PATASK_MIS_SHARE_VERD,"SELECT DISTINCT
       p.project_id project_id,
       p.segment1 project_number
FROM pa_projects_all p,
     pa_proj_elements pe
WHERE p.project_id = pe.project_id
AND   p.structure_sharing_code = 'SHARE_FULL'
AND   pa_workplan_attr_utils.check_wp_versioning_enabled(p.project_id) = 'N'
AND   pe.object_type = 'PA_TASKS'
AND   pe.link_task_flag = 'N'
AND   pe.proj_element_id NOT IN (
        SELECT t.task_id FROM pa_tasks t
        WHERE t.project_id = pe.project_id)
AND   pe.last_update_date >= SYSDATE - 7
AND   rownum <= 6",2571695.1,"SYMPTOM: When attempting to add task in workplan the following error occurs.

Error
---------------
Task Number is not unique

CAUSE: This issue is occurring as task is missing in pa_tasks.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,"Tasks Missing in the PA_TASKS Table for Fully Shared, Work Plan Versioning Disabled Projects",Some tasks in the workplan are missing from the PA_TASKS table making it not possible to monitor the progress.,2,Oracle Project Planning and Control,WORKPLAN,WORKPLAN,WEEK,SAT,Project to Profit,As the tasks missing in PA_TASKS not able to monitor the progress.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_WP_MISSING_EXCHANGE_RATE_COST_RATE,"SELECT p.segment1 project_number,
       pe.element_number task_number,
       rlm.alias resource_name,
       bl.start_date resource_assignment_start_date,
       bl.end_date resource_assignment_end_date,
       bl.period_name Period_Name
FROM pa_budget_lines bl,
     pa_resource_assignments ra,
     pa_budget_versions bv,
     pa_proj_elem_ver_structure pevs,
     pa_proj_elements pe,
     pa_resource_list_members rlm,
     pa_projects_all p
WHERE (bl.burden_rejection_code is not null OR
       bl.cost_rejection_code is not null OR
       bl.revenue_rejection_code is not null)
AND   bl.resource_assignment_id = ra.resource_assignment_id
AND   ra.budget_version_id = bv.budget_version_id
AND   bv.project_structure_version_id = pevs.element_version_id
AND   bv.fin_plan_type_id = '10'
AND   pe.proj_element_id = ra.task_id
AND   ra.resource_list_member_id = rlm.resource_list_member_id
AND   pevs.status_code = 'STRUCTURE_WORKING'
AND   p.project_id = pe.project_id
AND   bl.last_update_date > SYSDATE - 7
AND   rownum <= 6",2513910.1,"To implement the solution, the following action plan should be followed in test instance.

Navigate to Workplan ->Setup -> Plan Settings -> Rate Schedule

1 If ""Use planning rates"" is not enabled in workplan, then the workplan is using actual rates as the planning rates. Verify whether a rate is defined for the resource in the actual rate schedule being used by Project Costing:

For labor transaction the hierarchy will be
Employee level
Rate schedule attached to organization labor costing rule.
Confirm that the rate exists from the above.

For Non labor transactions, check that the rate exists in the non labor resource schedule or at expenditure type level.

If ""Use planning rates"" is enabled in workplan, then ensure that a rate exists in the rate schedule attached to the workplan in the below hierarchy
Employee
Job
Resource class

If ""Plan Amounts in Multiple Currencies"" is set to Yes

If the project currency and the project functional currency for a project are different, the system automatically selects the ""Plan Amounts in Multiple Currencies"" check box.
Otherwise, you can also select this option at the project, plan type and plan version levels to enable the entry of transactions in multiple transaction currencies.
In this case check that an exchange rate is defined for the rate type and rate date associated to workplan.

Note: Solution is applicable for R12.1.1 onwards.",PA,Cost  or Conversion Rates Missing Causing Errors  When Publishing the Workplan,"Cost or conversion rates are missing for planning elements, causing errors when publishing the workplan.",2,Oracle Project Planning and Control,WORKPLAN,WORKPLAN,WEEK,SAT,Project to Profit,Users may not be able to publish the project workplan impacting progress on the project.,EBS Financials,EBS - Projects
ME$EBS_FIN_PA_WP_TASK_MIS_SHARE_VERE,"SELECT project_id project_id,
       segment1 project_number,
       task_id task_id,
       task_number task_number,
       str_version_id structure_version_id
FROM (
  SELECT p.project_id,
         p.segment1,
         t.task_id,
         t.task_number,
         pa_project_structure_utils.get_latest_fin_struc_ver_id(p.project_id)
           str_version_id
  FROM pa_projects_all p,
       pa_tasks t,
       pa_project_statuses ps
  WHERE p.project_status_code = ps.project_status_code
  AND   ps.project_system_status_code != 'CLOSED'
  AND   ps.status_type = 'PROJECT'
  AND   trunc(SYSDATE) BETWEEN
          ps.start_date_active AND nvl(ps.end_date_active, trunc(SYSDATE))
  AND   p.structure_sharing_code = 'SHARE_FULL'
  AND   pa_workplan_attr_utils.check_wp_versioning_enabled(p.project_id) = 'Y'
  AND   t.project_id = p.project_id
  AND   (NOT EXISTS (
           SELECT 1 FROM pa_proj_element_versions pev
           WHERE  pev.parent_structure_version_id =
                    pa_project_structure_utils.get_latest_fin_struc_ver_id(p.project_id)
           AND    pev.project_id = t.project_id
           AND    pev.proj_element_id = t.task_id) OR
         NOT EXISTS (
           SELECT 1 FROM pa_proj_elements pe
           WHERE pe.project_id = t.project_id
           AND   pe.proj_element_id = t.task_id))
  AND   t.last_update_date >= SYSDATE - 7
  )
WHERE rownum <= 6
",2571248.1,"SYMPTOM: When attempting to add task on workplan,
the following error occurs.

Error
---------------
Task Number is not Unique

CAUSE: The cause of the issue is invalid / incorrect data in pa_proj_elements and pa_proj_element_versions.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,Tasks missing in work plan tables for fully shared work plan versioning enabled projects,"Not able to publish the workplan , unable to enter the actual and not able to monitor the progress",2,Oracle Project Planning and Control,WORKPLAN,WORKPLAN,WEEK,SAT,Project to Profit,"Not able to publish the workplan , unable to enter the actual and not able to monitor the progress",EBS Financials,EBS - Projects
ME$EBS_FIN_PA_WP_TASK_WBS_SHARE_VERD,"SELECT DISTINCT
       p.project_id project_id,
       p.segment1 Project_Number
FROM pa_projects_all p,
     pa_tasks pt,
     pa_proj_elements pe,
     pa_proj_element_versions pev,
     pa_proj_elem_ver_structure pevs
WHERE p.project_id = pt.project_id
AND   pt.project_id = pe.project_id
AND   pe.project_id = pev.project_id
AND   pev.project_id = pevs.project_id
AND   pt.task_id = pe.proj_element_id
AND   pe.proj_element_id = pev.proj_element_id
AND   pe.object_type = 'PA_TASKS'
AND   pev.object_type = 'PA_TASKS'
AND   nvl(pe.link_task_flag, 'N') = 'N'
AND   pev.financial_task_flag = 'Y'
AND   pev.parent_structure_version_id = pevs.element_version_id
AND   pevs.element_version_id =
        pa_project_structure_utils.get_latest_fin_struc_ver_id(p.project_id)
AND   pt.wbs_level <> pev.wbs_level
AND   p.structure_sharing_code = 'SHARE_FULL'
AND   pa_proj_task_struc_pub.is_wp_versioning_enabled(p.project_id) = 'N'
AND   pt.creation_date >= SYSDATE - 7
AND   rownum <= 6
",2571660.1,"SYMPTOM: When attempting to publish workplan, the following error occurs.

Error
---------------
Task cannot be updated to become a top task

CAUSE: WBS Level at pa_tasks and pa_proj_elements are not same for the same task number.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",PA,"Task data corrupted in Workplan tables(WBS level, outline number and parent child relations)",The shared workplan structure does not match the financial structure hierarchy data and as a result progress cannot be collected/monitored.,2,Oracle Project Planning and Control,WORKPLAN,WORKPLAN,WEEK,SAT,Project to Profit,As the tasks data are corrupted in the workplan users are not able to monitor the progress.,EBS Financials,EBS - Projects
ME$EBS_MFG_PO_DIFF_BPA_DESC_IP_ITEM_DESC,"select
ph.po_header_id po_header_id,
ph.global_agreement_flag global_agreement_flag,
pl.item_description item_description,
pl.po_line_id po_line_id,
pl.org_id org_id,
pl.ip_category_id ip_category_id
from
po_headers_all ph,
po_lines_all pl,
po_attribute_values_tlp pavt,
icx_cat_attribute_values_tlp icavt
where
ph.po_header_id = pl.po_header_id
and pavt.po_line_id = pl.po_line_id
and icavt.po_line_id = pavt.po_line_id
and ph.authorization_status = 'APPROVED'
and pl.item_id is null
and pavt.language = icavt.language
and pavt.language = userenv('lang')
and
(
pavt.description <> pl.item_description
OR icavt.description <> pl.item_description
)
and rownum < 1000
order by po_header_id desc",1598083.1,"SYMPTOMS
Intermittently, only a few lines on a Requisition are autocreated onto a Blanket Release.
Although eligible, the other remaining lines on the same Requisition are not autocreated onto a Release.

There may be an ERROR message displayed at autocreate

CAUSE

The reason that the Requisition line is not autocreated onto a Purchase order is because 
the code trims the blank spaces of the item description on the Requisition line.
As a result, the length of the description on the Requisition does not match the length of the item description on the Blanket Purchase Agreement.
This is the reason why the autocreation fails for this Requisition line.

This issue has been fixed in the following files:
PoRequisitionLinesVORowImpl.class 120.10.12010000.10 
ReqLineSvrCmd.class 120.12.12010000.5 120.12.12010000.7

At least one of your current versions of these files are lower than the fixed versions:

SOLUTION

To implement the solution, please apply Patch 19569271:R12.ICX.B and then retest the issue.

Review Doc ID 1598083.1 for additional details.",PO,Difference between BPA Description and iProcurement Item Description.,This is a reason that the autocreate process could fail.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,DAY,1,P2P: Purchasing,"Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.

This monitoring unit detects requisitions that will fail at autocreate because there is data corruption where the item description on the requisition line and the blanket purchase agreement line no longer match.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_DIFF_REQ_DESC_BPA_LINE_DESC,"select
prh.segment1 req_num,
prla.requisition_header_id req_header_id,
prla.requisition_line_id req_line_id,
prla.blanket_po_header_id blanket_po_header_id,
prla.item_description req_line_desc,
pla.item_description po_line_desc
from
po_requisition_lines_all prla,
po_requisition_headers_all prh,
po_lines_all pla
where
prla.requisition_header_id = prh.requisition_header_id
and prla.item_id is null
and prla.blanket_po_header_id = pla.po_header_id
and prla.blanket_po_line_num = pla.line_num
and prla.item_description <> pla.item_description
and prh.approved_date >= sysdate - 30
and rownum < 1000
order by prla.requisition_header_id desc
",1598083.1,"SYMPTOMS

During the creation of the Requisition line, the item description is derived from the BPA line. Due to a bug in the code the blank spaces in the description were trimmed on the Requisition line.
As a result, the description on the Requisition line and the BPA line do no longer match. This is the reason that the autocreate process fails.

CAUSE
Description of one-time item derived from BPA was trimmed in the requisition creating process, this causes unable to create BPA release via autocreate due to mismatch of the original one-time item in BPA.

The root cause of the issue has been determined by Development in:

Bug 16838089 - CREATEPO FAILS WHEN ITEM DESCRIPTION CONTAINS NEXT LINE IN END

SOLUTION

To implement the solution, please execute the following steps:

1. Download and review the readme and pre-requisites for Patch 19569271:R12.ICX.B which includes this fix
As an alternative consider applying the current Rollup Patch (RUP) for 12.1.3 listed in Note 1468883.1 which includes the fix for this issue.

 
2. Ensure that you have taken a backup of your system before applying the recommended patch.

3. Apply the patch in a test environment.

4. Confirm the following file versions:

    PoRequisitionLinesVORowImpl.class 120.10.12010000.10  
    ReqLineSvrCmd.class 120.12.12010000.7

5. Retest the issue.

6. Migrate the solution as appropriate to other environments.

The patch will prevent the issue from occurring again in future.
To obtain a datafix for existing Requisition lines, you may request a datafix from Support",PO,Requisition Line Description is Different than the BPA Line Description.,Description on the Requisition line and the BPA line no longer match. This is a reason that the autocreate process could fail.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,WEEK,SAT,P2P: Purchasing,"Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.

This monitoring unit detects requisitions that will fail at autocreate because there is data corruption where the description on the requisition line and the blanket purchase agreement line no longer match.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_REQS_SOURCED_BLANKET_CONTRACT_HEADER_LINE_ERROR,"SELECT prha.segment1 req_num
, prla.line_num req_line_num
, poh.segment1 SRC_PO_num
, pol.line_num SRC_Po_Line_num
FROM po_requisition_headers prha
, po_requisition_lines prla
, po_headers poh
, po_lines pol
, PER_PEOPLE_F buyer
, po_agents poa
, per_people_f reqstr
WHERE prha.requisition_header_id = prla.requisition_header_id
and poh.po_header_id = prla.blanket_po_header_id 
and PRLA.blanket_po_header_id = pol.po_header_id (+) 
AND PRLA.BLANKET_PO_LINE_NUM = POL.LINE_NUM (+) 
AND prha.authorization_status = 'APPROVED' 
/* AND nvl(prla.reqs_in_pool_flag,'N') = 'Y'  */
AND prla.line_location_id IS NULL 
AND nvl(prla.closed_code, 'OPEN') <> 'FINALLY CLOSED' 
AND nvl(prla.cancel_flag, 'N') <> 'Y' 
and prla.blanket_po_header_id is not null 
and poh.agent_id = poa.agent_id
and poa.agent_id = buyer.person_id 
and prha.Preparer_ID = reqstr.person_id 
and (
( nvl(poh.end_date,sysdate) < sysdate + 30 and poh.end_date is not null) 
or nvl(poh.cancel_flag,'N') = 'Y' 
or poh.authorization_status <> 'APPROVED' 
or (nvl(pol.expiration_date,sysdate) < sysdate + 30 and pol.expiration_date is not null ) 
or nvl(pol.cancel_flag,'N') = 'Y' 
or pol.MIN_RELEASE_AMOUNT > (prla.quantity * PRLA.UNIT_PRICE) 
)
and rownum < 1000
order by 1,2,3",2208149.1,"SYMPTOMS

Requisitions sourced to blankets or contract purchase order that have an issue with the blanket header or line

CAUSE
- Source document header end date nearing the end or is already past the date
- Source document has been cancelled
- Source document is currently not approved in status
- Source document line is expiring in 30 days or less or has already expired
- Source document line is cancelled
- Minimum release amount on source document is greater than the requisition line amount

SOLUTION

1. Run the EBS Procurement Autocreate Analyzer (Doc ID 2101058.1) and review the Data corruption tile for errors.  You will find one or more of the following errors:
- Source document header end date nearing the end or is already past the date
- Source document has been cancelled
- Source document is currently not approved in status
- Source document line is expiring in 30 days or less or has already expired
- Source document line is cancelled
- Minimum release amount on source document is greater than the requisition line amount

2. Update the source document in accordance with Doc ID 2208149.1

3. Retest and confirm the issue is solved.",PO,Requisitions sourced to Blanket or Contract with issue.,Requisitions sourced to blankets or contract purchase order that have an issue with the blanket header or line.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,DAY,1,P2P: Purchasing,"Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.

This monitoring unit detects requisitions that will fail at autocreate because there is data corruption where the requisitions are sourced to blankets or contract purchase order that have an issue with the blanket header or line. The following are checked:

- Source document header end date nearing the end or is already past the date
- Source document has been cancelled
- Source document is currently not approved in status
- Source document line is expiring in 30 days or less or has already expired
- Source document line is cancelled
- Minimum release amount on source document is greater than the requisition line amount",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_REQS_WITH_BLANKETS_APPROACHING_MAX_TOTAL_RELEASED,"SELECT req_number req_number,
Source_Doc_Number Source_Doc_Number,
Source_Doc_Amount_Limit Source_Doc_Amount_Limit,
blanket_released_amount blanket_released_amount,
Amount_Remaining_To_Release Amount_Remaining_To_Release,
Total_Requisition_Amount Total_Requisition_Amount
from
(
/*SPLIT_HERE*/
SELECT prha.segment1 req_number
, BLRL.SEGMENT1 Source_Doc_Number
, blrl.amount_limit Source_Doc_Amount_Limit
, BLRL.blanket_released_amount
, blrl.amount_limit - BLRL.blanket_released_amount Amount_Remaining_To_Release
, SUM(prla.unit_price * prla.quantity ) Total_Requisition_Amount
FROM po_requisition_headers prha
, po_requisition_lines prla
, (SELECT
poh.po_header_id, poh.segment1,poh.amount_limit,
nvl ( sum ( decode ( PLL2.quantity, NULL , ( PLL2.amount-
nvl(PLL2.amount_cancelled,0) ),
( ( PLL2.quantity - nvl(PLL2.quantity_cancelled,0)
)* PLL2.price_override ) ) ), 0 ) blanket_released_amount
FROM
PO_LINE_LOCATIONS PLL2, PO_RELEASES_all POR2, po_headers POH
WHERE
PLL2.po_release_id = POR2.po_release_id
AND POR2.po_header_id = POH.po_header_id
AND nvl(POR2.approved_flag, 'N') = 'Y'
AND POH.amount_limit is Not Null
group by poh.po_header_id, poh.segment1, poh.amount_limit ) BLRL
WHERE prha.requisition_header_id = prla.requisition_header_id
AND prla.line_location_id IS NULL 
AND nvl(prla.closed_code, 'OPEN') <> 'FINALLY CLOSED'
AND nvl(prla.cancel_flag, 'N') <> 'Y'
and prla.blanket_po_header_id = blrl.po_header_id
and prla.creation_Date > sysdate - 360
GROUP BY prha.segment1
,prha.authorization_status
,prla.document_type_code
, BLRL.SEGMENT1
, blrl.amount_limit
, BLRL.blanket_released_amount
, blrl.amount_limit - BLRL.blanket_released_amount
HAVING nvl(blrl.amount_limit - BLRL.blanket_released_amount,0) < SUM(prla.unit_price * prla.quantity ) + 500 
union
SELECT prha.segment1 req_number
, GLOBAL_REL.SEGMENT1 Source_Doc_Number
, GLOBAL_REL.amount_limit Source_Doc_Amount_Limit
, GLOBAL_REL.blanket_released_amount
, GLOBAL_REL.amount_limit - GLOBAL_REL.blanket_released_amount Amount_Remaining_To_Release
, SUM(prla.unit_price * prla.quantity ) Total_Requisition_Amount
FROM po_requisition_headers prha
, po_requisition_lines prla
, (SELECT
poh.po_header_id, poh.segment1,poh.amount_limit,
nvl ( sum ( decode ( PLL2.quantity, NULL , ( PLL2.amount-
nvl(PLL2.amount_cancelled,0) ),
( ( PLL2.quantity - nvl(PLL2.quantity_cancelled,0)
)* PLL2.price_override ) ) ), 0 ) blanket_released_amount
FROM
PO_LINE_LOCATIONS PLL2,
PO_LINES POL,
po_headers POH,
po_headers STD
WHERE 1=1
AND POL.FROM_HEADER_ID (+) = POH.PO_HEADER_ID
AND PLL2.PO_LINE_ID (+) = POL.PO_LINE_ID
and std.po_header_id (+) = pol.po_header_id
and std.authorization_status (+) = 'APPROVED'
AND POH.amount_limit is Not Null
group by poh.po_header_id, poh.segment1, poh.amount_limit) GLOBAL_REL
WHERE prha.requisition_header_id = prla.requisition_header_id
AND prla.line_location_id IS NULL
AND nvl(prla.closed_code, 'OPEN') <> 'FINALLY CLOSED'
AND nvl(prla.cancel_flag, 'N') <> 'Y'
and prla.blanket_po_header_id = GLOBAL_REL.po_header_id
and prla.creation_Date > sysdate - 360
GROUP BY prha.segment1
,prha.authorization_status
, prla.document_type_code
, GLOBAL_REL.SEGMENT1
, GLOBAL_REL.amount_limit
, GLOBAL_REL.blanket_released_amount
, GLOBAL_REL.amount_limit - GLOBAL_REL.blanket_released_amount
HAVING nvl(GLOBAL_REL.amount_limit - GLOBAL_REL.blanket_released_amount,0) < SUM(prla.unit_price * prla.quantity ) + 500
/*SPLIT_HERE*/
)
where rownum < 1000",1487706.1,"SYMPTOMS
Requisitions released against a Blanket Agreement are causing the agreement to approach or exceed the total agreed amount:

CAUSE
There may exist  Incomplete and/or In-process release documents contributing to the amount released.
The agreement may be nearing end of use, or may require increase of the amount agreed if additional purchases exceeding the agreed amount are planned.

SOLUTION
1.  Run the Autocreate Analyzer for the document that has this issue.  Review the output for errors highlighting this condition:
 - Requisitions with Blankets That Are Approaching Total Agreed Amount

2.  On the Purchase Orders screen, ""Released"" amount is the summation of all the Releases including Approved, Incomplete, In-process.   
- Consider completing or removing the Incomplete and/or In-process documents.  
- Consider allowing a higher amount agreed on the Blanket Agreement if relevant.

3.  Review Doc ID 1487706.1 for additional information about this, use the SQL query from this document to check amount released.",PO,Requisition with Blankets that are approaching total agreed amount.,Requisitions with amounts that might EXCEED the total on the blanket.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,DAY,1,P2P: Purchasing,"Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.

This monitoring unit detects requisitions that will fail at autocreate because there is data corruption where the requisitions with amounts that might exceed the total on the blanket. This happens due to some releases being created but not yet approved and in this case, it will be taken into consideration per the standard functionality.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_AUTOCREATE_SHIP_ORG_DESTINATION_ORG,"select pod.po_header_id header_id,
pod.po_distribution_id distribution_id,
pod.line_location_id line_location_id,
pod.destination_organization_id destination_org_id,
poll.ship_to_organization_id ship_to_org_id
from po_distributions_all pod,po_line_locations_all poll
where pod.line_location_id = poll.line_location_id
and pod.po_header_id = poll.po_header_id
and pod.destination_organization_id != poll.ship_to_organization_id
and nvl(poll.closed_code,'OPEN') != 'FINALLY CLOSED'
and nvl(poll.cancel_flag,'N') != 'Y' and nvl(poll.quantity_received,0) = 0
and rownum < 1000
order by pod.po_header_id desc",1280061.1,"SYMPTOMS

In buyer work center>Find that when update Purchase order Ship to org field in schedules and distributions, the updated value is shown correct in forms but reflect incorrectly In PO dump data.

Expected Behavior
 Expect Purchase order to show. 

Steps to reproduce

 1. Go to Buyer work center 
 2. Query The PO 
 3. Try to update the Ship to Org in schedules and distributions 
- The value in the form is correct 
- In the PO dump tables we find the Ship to org id in shipments <> Destination orgid in distributions and hence in mtl_supply table

CAUSE

In BWC the Ship to location and ship to org behaves as, 
1. on change of Ship_to_Location, Ship_to Org changes. 
2. Ship_To_Location can have the Location that belongs to the organization which is assigned to the item, and does not belong to any organization 
which is global in case it belongs to a different organization than the current one.

On Change of Ship_To_Org, the destination organization should be changed, which is handled in handleShipToOrgChange(..) of PoShipmentsRenderCmd.java. 
But in handleShipToLocationChange(..), the call to handleShipToOrgChange(..) was removed for a bug 8708888, assuming the new location selected will always be from same org or else it will be orphan. However, this is not always the case.

Reference
Bug 10372780 - ITEMS ORDERED IN POS NOT SHOWN IN THE ITEM SUPPLY/DEMAND SCREEN AND MRP SNAPSHOT

SOLUTION
1. Download and review the readme and pre-requisites for Patch.10418505 R12.PO.B

2. Ensure that you have taken a backup of your system before applying the recommended patch. 

3. Apply the patch in a test environment. 

4. Confirm the following file versions: 
 java/document/server/PoShipmentsRenderCmd.java 120.84.12010000.27

5. Retest the issue. 

6. Migrate the solution as appropriate to other environments.

Review Doc ID 1280061.1 for more information including datafix details.",PO,Ship to org id in shipments not equal to Destination org id in distributions.,There is data corruption where Purchase Orders have the Ship to org id in shipments table not equal to Destination org id in distributions table.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,DAY,1,P2P: Purchasing,"Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.

This monitoring unit detects requisitions that will fail at autocreate because there is data corruption where purchase orders have the ship to org id in shipments table not equal to destination org id in distributions table.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_AUTOCREATE_TO_ORG_SHIP_TO_ORG,"select mtl.PO_HEADER_ID header_id,
mtl.to_organization_id to_org_id,
poll.ship_to_organization_id ship_to_org_id
from mtl_supply mtl,po_line_locations_all poll
where mtl.supply_type_code = 'PO'
and mtl.po_line_location_id = poll.line_location_id
and mtl.po_header_id = poll.po_header_id
and mtl.to_organization_id != poll.ship_to_organization_id
and nvl(poll.closed_code,'OPEN') != 'FINALLY CLOSED'
and nvl(poll.cancel_flag,'N') != 'Y' and nvl(poll.quantity_received,0) = 0
and rownum < 1000
order by mtl.po_header_id desc",1280061.1,"1. Download and review the readme and pre-requisites for Patch 10418505 R12.PO.B

2. Ensure that you have taken a backup of your system before applying the recommended patch. 

3. Apply the patch in a test environment. 

4. Confirm the following file versions: 
 java/document/server/PoShipmentsRenderCmd.java 120.84.12010000.27

5. Retest the issue. 

6. Migrate the solution as appropriate to other environments.

Review Doc ID 1280061.1 for additional information about this issue.",PO,Purchase Order Ship To Organization Does Not Match Distribution.,There is data corruption where Purchase Orders have the to_org_id column in mtl_supply table not equal to ship_to_organization_id in PO Shipments.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,DAY,1,P2P: Purchasing,"Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.

This monitoring unit detects requisitions that will fail at autocreate because there is data corruption where purchase orders have the TO_ORGANIZATION_ID column in MTL_SUPPLY table not equal to SHIP_TO_ORGANIZATION_ID in purchase order shipments.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_AUTOCREATE_SOURCING_DOC_CHECKS_SUMMARY_CHILD_02,"SELECT IssueDesc IssueDesc, PoNumber PoNumber, PoHeader_ReqHeader_Reqline_Id PoHeader_ReqHeader_Reqline_Id, OrgId OrgId, ReqNumber ReqNumber, ReqLineNum ReqLineNum
from
(SELECT distinct concat(prha.authorization_status, ' Requisition is associated to Blanket or Contract Agreement that is canceled') IssueDesc,
poh.segment1 PoNumber,
concat(concat(concat(concat(TO_CHAR(prla.blanket_po_header_id),' / '), TO_CHAR(prha.requisition_header_id)),' / '), TO_CHAR(prla.requisition_line_id)) PoHeader_ReqHeader_Reqline_Id,
prha.org_id OrgId, prha.segment1 ReqNumber, prla.line_num ReqLineNum /* , prha.authorization_status, prha.wf_item_type, prha.wf_item_key */
FROM po_requisition_headers_all prha , po_requisition_lines_all prla , po_headers_all poh , po_lines_all pol
WHERE prha.requisition_header_id = prla.requisition_header_id and poh.po_header_id = prla.blanket_po_header_id /* link to blanket po header */
and pol.po_header_id (+) = poh.po_header_id /* link to get blanket lines outer join for contracts */
AND prha.authorization_status IN ('APPROVED','IN PROCESS') /* only approved or in process reqs */
AND prla.line_location_id IS NULL /* not put on po release or std po yet */
AND nvl(prla.closed_code, 'OPEN') <> 'FINALLY CLOSED' /* NOT CLOSED */
AND nvl(prla.cancel_flag, 'N') <> 'Y' /* NOT CANCELLED */
and prla.blanket_po_header_id is not null /* get only sourced reqs */
and ( nvl(poh.cancel_flag,'N') = 'Y' /* check for cancelled */
)
order by TO_NUMBER(REGEXP_SUBSTR(PoHeader_ReqHeader_Reqline_Id, '(\d\d+)',1,1)) desc
)
where rownum < 1000",2361195.1,"SYMPTOMS

Approved Requisition(s) is associated to a Blanket or Contract Agreement(s) that is Canceled.  This will prevent Autocreate of the requisition onto a Blanket Release or Standard Purchase Order.  

Error
Error: Line # 1 The referenced Global Agreement line is in CLOSED, FINALLY CLOSED or CANCELLED status

Steps to reproduce
Example 1
1. Create and Approve a Global Blanket Purchase Agreement (GBPA), Blanket Purchase Agreement (BPA), or Contract Purchase Agreement (CPA).
2. Create a Purchase Requisition that contains items sourced from the GBPA and begin or complete approval of the Requisition.
3. Cancel the source document
4. Let the CREATEPO workflow attempt to automatically create the Requisition to Standard Purchase Order, or as Buyer attempt to autocreate the requisition to a Standard Purchase Order.  Encounter the error indicating the agreement source document is canceled.

Impact
Delay at Autocreate will delay ordering, receipt, and use of the items requested on the Requisition.

CAUSE
The source agreement has been canceled, and this prevents Autocreate or approval of the Purchase Release or Purchase Order that is Autocreated for the Requisition.

Likely the items were added to the requisition and the requisition began the approval process before the agreement was canceled.

SOLUTION
Perform the following steps to resolve the issue:

1. Create a new agreement or find a different agreement for sourcing the items needed on the requisition.
2. Approve the new Blanket or Contract Agreement if not already approved.
3. Update the requisition by choosing the items sourced from the new or different agreement, or at least remove the reference to the canceled agreement if you decide to not associate the requisition to an agreement.
4. Reattempt autocreate of the Requisition
	- Autocreate a Blanket Release if the Requisition is sourced from a Local Blanket Purchase Agreement (BPA).
	- Autocreate a Standard Purchase Order if the Requisition is sourced from a Global Blanket Purchase Agreement (GBPA) or Contract Purchase Agreement (CPA).
5. Confirm the Requisition is Autocreated successfully.

Update the SR confirming the issue is solved and close the SR.

NOTE:  Review the following document which summarizes the criteria used, including the requirement that the agreement is not canceled:
What Conditions Prevent Autocreate of a Requisition That is Sourced to a Blanket Agreement or Contract Agreement? (Doc ID 2361195.1)",PO,Approved Requisition is associated to Blanket or Contract Agreement that is Canceled,Approved Requisition(s) is associated to a Blanket or Contract Agreement(s) that is Canceled.  This will prevent Autocreate of the requisition.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,WEEK,SAT,P2P: Purchasing,"BUSINESS FLOW
Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.  This monitoring unit detects Requisitions that will fail at autocreate because the Blanket Purchase Agreement (BPA), against which the requisition is sourced, is Canceled.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_REQAPPROVAL_ACTION_RESERVE_DOC,"select 
segment1 Requisition_Number,
org_id Org_ID,
Activity Activity,
Result Result,
ERROR_NAME ERROR_NAME,
ERROR_MESSAGE ERROR_MESSAGE
from (
SELECT reqh.segment1 segment1,
reqh.org_id org_id,
ac.name||' ('||ac.display_name||')' Activity,
ias.activity_result_code Result,
ias.error_name ERROR_NAME,
ias.error_message ERROR_MESSAGE,
ias.error_stack ERROR_STACK
FROM 
po_requisition_headers_all reqh,
wf_item_activity_statuses ias,
wf_process_activities pa,
wf_activities_vl ac,
wf_activities ap,
wf_items i,
dba_source als
WHERE ias.item_type like 'REQAPPRV'
AND ias.activity_status = 'ERROR'
AND ias.process_activity = pa.instance_id
AND pa.activity_name = ac.name
AND pa.activity_item_type = ac.item_type
AND pa.process_name = ap.name
AND pa.process_item_type = ap.item_type
AND pa.process_version = ap.version
AND i.item_type = 'REQAPPRV'
AND i.item_key = ias.item_key
AND i.item_key = reqh.wf_item_key
AND i.item_type = reqh.wf_item_type
AND i.begin_date >= ac.begin_date
AND i.begin_date < nvl(ac.end_date, i.begin_date+1)
AND ias.error_stack like '%Wf_Engine_Util.Function_Call(PO_REQAPPROVAL_ACTION.RESERVE_DOC%'
AND '12.1' = substr((SELECT max(release_name) FROM fnd_product_groups),1,4)
AND FND_IREP_LOADER_PRIVATE.compare_versions(substr(substr(als.text,regexp_instr(als.text,' *[0-9]',1,1,1)-1),1, instr(substr(als.text,regexp_instr(als.text,' *[0-9]',1,1,1)-1), ' ',1,1)-1),'120.41.12010000.3') = '<'
AND als.type = 'PACKAGE BODY'
AND als.name = 'POR_AME_REQ_WF_PVT'
AND als.text like '%$Header%'
ORDER BY ias.begin_date desc, ias.execution_time)",1277855.1,"SYMPTOMS

When approving a Purchase Requisition (PR) using AME with encumbrance the following error occurs:

Error (example)
Wf_Engine_Util.Function_Call(PO_REQAPPROVAL_ACTION.RESERVE_DOC, REQAPPRV, 1111-2222, 123456, RUN)

Errors only occur when Encumbrance and AME are used.
If the requisition is already reserved, the approval completes without error.


CAUSE

The issue is caused by Bug 10025421 - ERROR IN REQUISITION APPROVAL WORKFLOW

The reason why the Funds Checker program is failing is that it expects a valid user responsibility id.
But the user responsibility id obtained by FND_GLOBAL.RESP_ID is null, and this causes the issue.

SOLUTION

To implement the solution, please execute the following steps:

1. Download and review the readme and pre-requisites for
Patch 9877170:R12.PO.B
$PO_TOP/patch/115/sql POXAMEPB.pls 120.41.12010000.3

Patch 9886447:R12.PO.B - In Oracle Purchasing, when tried to approve multiple POs at the same time, some POs get stuck in Pre-Approved state
$PO_TOP/patch/115/sql POXWPA4B.pls120.10.12010000.7

Patch 9845600:R12.ZX.B - STANDARD PURCHASE ORDERS ARE STOPYING WITH
$ZX_TOP/patch/115/sql/zxifsrvctypspkgb.pls 120.246.12010000.47

2. Ensure that you have taken a backup of your system before applying the recommended patches.

3. Apply the patches in a test environment.   The patches ensures the responsibility id context is maintained correctly and other required code improvements are in place

4. Confirm the following file versions (or higher):

$PO_TOP/patch/115/sql POXAMEPB.pls 120.41.12010000.3
$PO_TOP/patch/115/sql POXWPA4B.pls120.10.12010000.7
$ZX_TOP/patch/115/sql/zxifsrvctypspkgb.pls 120.246.12010000.47

5. Retest the issue.

6. Migrate the solution as appropriate to other environments.

NOTE: If Package PACKAGE BODY PO_DOCUMENT_CHECKS_PVT should be invalid and showing compliation error.
          PLS-00306: wrong number or types of arguments in call to'INV_CHECK_LCM'
          Then apply Patch 1042804:R12.PO.B which originally ships file: POXVDCKB.pls  and version: 120.64.12010000.45",PO,REQ Approval Error PO_REQAPPROVAL_ACTION.RESERVE_DOC When Using AME With Encumbrance,When approving a Purchase Requisition using AME with encumbrance the following error occurs: Wf_Engine_Util.Function_Call(PO_REQAPPROVAL_ACTION.RESERVE_DOC,4,Oracle Purchasing,APPROVALS,,WEEK,SAT,P2P: Purchasing,"This detects an error that occurs during requisition approval when both AME and encumbrance are enabled.
The error is caused by a code bug, and reports the problem only when both the error occurs and the code version is lower than the one including the fix.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_INVALID_REQ_ENCUMBRANCE,"SELECT org_id org_id,
doc_type document_type,
doc_number document_number,
req_head_id requisition_header_id
FROM
(
/*SPLIT_HERE*/
SELECT 'OPEN_AMT' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.matching_basis,'ZZZ') = 'AMOUNT'
AND NVL(prl.Cancel_Flag,'N') = 'N'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND NVL(prh.authorization_status,'INCOMPLETE') = 'APPROVED'
AND prl.line_location_id IS NULL
AND prl.modified_by_agent_flag IS NULL
AND ROUND(NVL(prd.encumbered_amount,0), c.precision) <> ROUND(NVL(prd.req_line_amount,0)+NVL(prd.NONRECOVERABLE_TAX,0),c.precision)
UNION
SELECT 'OPEN_QTY' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.matching_basis,'YYY') = 'QUANTITY'
AND NVL(prl.Cancel_Flag,'N') = 'N'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND NVL(prh.authorization_status,'INCOMPLETE') = 'APPROVED'
AND prl.line_location_id IS NULL
AND prl.modified_by_agent_flag IS NULL
AND ROUND(NVL(prd.encumbered_amount,0), c.precision) <> ROUND(prl.unit_price * prd.req_line_quantity + NVL(prd.NONRECOVERABLE_TAX,0),c.precision)
UNION
SELECT 'MODIFIED' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.Cancel_Flag,'N') = 'N'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND NVL(prh.authorization_status,'INCOMPLETE') = 'APPROVED'
AND prl.line_location_id IS NULL
AND NVL(modified_by_agent_flag,'N') = 'Y'
AND NVL(prd.encumbered_amount,0) <> 0
UNION
SELECT 'AUTOCREATED' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
po_distributions_all pod,
po_line_locations_all pll,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.Cancel_Flag,'N') = 'N'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND NVL(prh.authorization_status,'INCOMPLETE') = 'APPROVED'
AND pod.req_distribution_id = prd.distribution_id
AND pod.line_location_id = pll.line_location_id
AND prl.line_location_id IS NOT NULL
AND Pll.Shipment_Type <> 'SCHEDULED'
AND ( NVL(Pod.Encumbered_Flag,'N') = 'Y'
OR NVL(Pll.Cancel_Flag,'N') = 'Y'
OR NVL(Pll.Closed_Code,'OPEN') = 'FINALLY CLOSED' )
AND NVL(prd.encumbered_amount,0) <> 0
UNION
SELECT 'REJECTED' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.Cancel_Flag,'N') = 'N'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND NVL(prh.authorization_status,'INCOMPLETE') = 'REJECTED'
AND prl.line_location_id IS NULL
AND NVL(prd.encumbered_amount,0) <> 0
UNION
SELECT 'RETURNED' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.Cancel_Flag,'N') = 'N'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND NVL(prh.authorization_status,'INCOMPLETE') = 'RETURNED'
AND prl.line_location_id IS NULL
AND NVL(prd.encumbered_amount,0) <> 0
UNION
SELECT 'CANCEL' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.Cancel_Flag,'N') = 'Y'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND prl.Source_Type_Code = 'VENDOR'
AND NVL(prd.encumbered_amount,0) <> 0
UNION
SELECT 'FINAL_CLOSE' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.Closed_Code,'OPEN') = 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND prl.Source_Type_Code = 'VENDOR'
AND NVL(prd.encumbered_amount,0) <> 0
UNION
SELECT 'INTERNAL_REQ_CANCEL' dist_category,
prh.org_id org_id,
prh.segment1 doc_number,
'REQ' doc_type,
prh.requisition_header_id req_head_id,
ROW_NUMBER() OVER (ORDER BY prh.requisition_header_id desc) rno
FROM po_requisition_lines_all prl,
po_req_distributions_all prd,
po_requisition_headers_all prh,
gl_ledgers g,
fnd_currencies c,
financials_system_params_all fsp,
hr_operating_units hr
WHERE prl.requisition_line_id = prd.requisition_line_id
AND prl.requisition_header_id = prh.requisition_header_id
AND prd.set_of_books_id = g.ledger_id
AND g.currency_code = c.currency_code
AND fsp.org_id = hr.organization_id
AND fsp.org_id = prh.org_id
AND NVL(fsp.req_encumbrance_flag,'N') = 'Y'
AND NVL(prl.Cancel_Flag,'N') = 'Y'
AND NVL(prl.Closed_Code,'OPEN') <> 'FINALLY CLOSED'
AND NVL(prd.Prevent_Encumbrance_Flag,'N') = 'N'
AND prd.budget_account_id IS NOT NULL
AND prl.Source_Type_Code = 'INVENTORY'
AND ROUND(NVL(prd.encumbered_amount,0), c.precision) <> ROUND((NVL(prl.Quantity_Delivered,0) * prd.req_Line_Quantity / prl.Quantity) * (NVL(prl.Unit_Price,0) + NVL(prd.NonRecoverable_Tax,0)),c.precision)
/*SPLIT_HERE*/
order by req_head_id desc
)
where rno < 3
and rownum < 1000",1581836.1,"SYMPTOM: Found requisition with invalid encumbrance amount

CAUSE: Data corruption

SOLUTION:
Apply solution in generic datafix note 1581836.1


This datafix

    Correct invalid PO encumbrance for SPO or requisition
    Fully supports India GST tax for encumbrance accounting
    Post Encumbrance Accounting for the encumbrance adjustments thus please ensure to
        Choose an accounting date in an opened period
        Have sufficient funds in the budget account if posting a positive adjustment to re-encumber funds
        Validate the Project, Task, Award, Expenditure Type, Expenditure Item Date for the adjustment amount and accounting date if using Projects Accounting or Grants Accounting",PO,Requisition with invalid encumbrance amount,There exist requisition with invalid encumbrance amount,2,Oracle Purchasing,ACCOUNTING,ENCUMBRANCE,WEEK,SAT,P2P: Encumbrance,Invalid encumbrance balance,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_INVALID_AAD_PO_CST,"SELECT o.object_name object_name,
    o.object_type object_type,
    o.status status,
    a.ledger_name ledger_name,
    a.compile_status_code compile_status,
    a.application_name application
  FROM all_objects o,
    (SELECT gll.LEDGER_ID,
      gll.NAME ledger_name,
      xamr.ACCTG_METHOD_RULE_ID,
      xamr.APPLICATION_ID,
      xamr.APPLICATION_NAME,
      xamr.PRODUCT_RULE_CODE,
      xamr.PRODUCT_RULE_NAME AAD,
      xamr.PRODUCT_RULE_TYPE_DSP owner,
      'XLA_'
      ||LPAD(xpr.application_id ,5 ,0)
      || '_AAD_'
      ||xpr.product_rule_type_code
      || '_'
      ||LPAD(xpr.product_rule_hash_id,6 ,0)
      || '%' package_name,
      xamr.ACCOUNTING_METHOD_CODE,
      xamr.ACCOUNTING_METHOD_TYPE_CODE,
      xamr.AMB_CONTEXT_CODE,
      xamr.AMB_CONTEXT_NAME,
      xamr.PRODUCT_RULE_TYPE_CODE,
      xamr.PRODUCT_RULE_DESC,
      xamr.START_DATE_ACTIVE,
      xamr.END_DATE_ACTIVE,
      xamr.CREATION_DATE,
      xamr.CREATED_BY,
      xamr.LAST_UPDATE_DATE,
      xpr.compile_status_code
    FROM xla_product_rules_vl xpr,
      xla_acctg_method_rules_fvl xamr,
      gl_ledgers gll
    WHERE xpr.PRODUCT_RULE_CODE     = xamr.PRODUCT_RULE_CODE
    AND xamr.ACCOUNTING_METHOD_CODE = gll.SLA_ACCOUNTING_METHOD_CODE
    AND xpr.APPLICATION_ID          = xamr.APPLICATION_ID
    AND xpr.AMB_CONTEXT_CODE        = xamr.AMB_CONTEXT_CODE
    AND xamr.AMB_CONTEXT_CODE       = 'DEFAULT'
    AND xpr.APPLICATION_ID         IN (201,707)
    AND xpr.compile_status_code    IN ('N', 'E', 'R', 'I')
    ) a
  WHERE o.object_name LIKE a.package_name
and rownum < 1000
",1406203.1,"SYMPTOM: Found Invalid AAD for Purchasing or Cost Management

CAUSE: How to Validate the Application Accounting Definition

SOLUTION:
Validate the Application Accounting Definition

Review and apply solution in How to Run Import And Validate AAD (Application Accounting Definition) with troubleshooting tips note 1406203.1",PO,Found Invalid AAD for Purchasing or Cost Management,Found Invalid AAD for Purchasing or Cost Management that could cause Create Accounting failure for PO receiving accounting and/or Encumbrance accounting,2,Oracle Purchasing,ACCOUNTING,,DAY,1,P2P: Purchasing,"This will impact PO receiving accounting, and PO document encumbrance processing if encumbrance is enabled",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_AUTOCREATE_SOURCING_DOC_CHECKS_SUMMARY_CHILD01_A,"SELECT IssueDesc IssueDesc, PoNumber PoNumber, PoHeader_ReqHeader_Reqline_Id PoHeader_ReqHeader_Reqline_Id, OrgId OrgId, ReqNumber ReqNumber, ReqLineNum ReqLineNum
from
(SELECT distinct 'Approved Requisition is associated to Blanket or Contract Agreement that is not Approved' IssueDesc,
poh.segment1 PoNumber, 
concat(concat(concat(concat(TO_CHAR(prla.blanket_po_header_id),' / '), TO_CHAR(prha.requisition_header_id)),' / '), TO_CHAR(prla.requisition_line_id)) PoHeader_ReqHeader_Reqline_Id, 
prha.org_id OrgId, prha.segment1 ReqNumber, prla.line_num ReqLineNum
FROM po_requisition_headers_all prha , po_requisition_lines_all prla , po_headers_all poh , po_lines_all pol
WHERE prha.requisition_header_id = prla.requisition_header_id and poh.po_header_id = prla.blanket_po_header_id /* link to blanket po header */
and pol.po_header_id (+) = poh.po_header_id /* link to get blanket lines outer join for contracts */
AND prha.authorization_status = 'APPROVED' /* only approved reqs */
AND prla.line_location_id IS NULL /* not put on po release or std po yet */
AND nvl(prla.closed_code, 'OPEN') <> 'FINALLY CLOSED' /* NOT CLOSED */
AND nvl(prla.cancel_flag, 'N') <> 'Y' /* NOT CANCELLED */
and prla.blanket_po_header_id is not null /* get only sourced reqs */
and ( poh.authorization_status <> 'APPROVED' /* check for not approved header */
)
order by TO_NUMBER(REGEXP_SUBSTR(PoHeader_ReqHeader_Reqline_Id, '(\d\d+)',1,1)) desc
)
where rownum < 1000",205472.1,"SYMPTOMS

Approved Requisition(s) is associated to a Blanket or Contract Agreement(s) that is not Approved.  This will prevent Autocreate of the requisition onto a Blanket Release or Standard Purchase Order.  

ERROR
Error: Line#1 The referenced Global Agreement is not approved.      

STEPS TO REPRODUCE
Example 1
1. Create and Approve a Global Blanket Purchase Agreement (GBPA), Blanket Purchase Agreement (BPA), or Contract Purchase Agreement (CPA).
2. Create a Purchase Requisition that contains items sourced from the GBPA and approve the Requisition.
3. Update the item price or some value on the GBPA so that the GBPA status changes to ""Requires Reapproval""
4. Let the CREATEPO workflow attempt to automatically create the Requisition to Standard Purchase Order, or as Buyer attempt to autocreate the requisition to a Standard Purchase Order.  Encounter the error indicating the Global Agreement is not approved.

BUSINESS IMPACT
Delay at Autocreate will delay ordering, receipt, and use of the items requested on the Requisition.


CAUSE

The Blanket Agreement has status ""Requires Reapproval"", and this prevents Autocreate or approval of the Purchase Release or Purchase Order that is Autocreated for the Requisition.  The Blanket Agreement status changed to ""Requires Reapproval"" sometime after the Requisition was sourced from the Agreement.
- Review the Autocreate Analyzer output for the Requisition and Agreement combination(s) that has the issue.


SOLUTION

Perform the following steps to resolve the issue:

1. Complete the changes on the Blanket or Contract Agreement.
2. Approve the Blanket or Contract Agreement.
3. Reattempt autocreate of the Requisition
	- Autocreate a Blanket Release if the Requisition is sourced from a Local Blanket Purchase Agreement (BPA).
	- Autocreate a Standard Purchase Order if the Requisition is sourced from a Global Blanket Purchase Agreement (GBPA) or Contract Purchase Agreement (CPA).
4. Confirm the Requisition is Autocreated successfully.

Update the SR confirming the issue is solved and close the SR.",PO,Approved Requisition is associated to Blanket or Contract Agreement that is not Approved,Approved Requisition(s) is associated to a Blanket or Contract Agreement(s) that is not Approved.  This will prevent Autocreate of the requisition.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,WEEK,SAT,P2P: Purchasing,"BUSINESS FLOW
Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.  This monitoring unit detects Requisitions that will fail at autocreate because the Blanket Purchase Agreement (BPA), against which the requisition is sourced, is no longer approved.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_UNPROCESSED_RECEIVING_EVENTS2,"SELECT
    ledger_id     ledger_id,
    ledger_name   ledger_name,
    org_id        org_id
FROM
    (
        SELECT
            xte.ledger_id           ledger_id,
            l.name                  ledger_name,
            xte.security_id_int_2   org_id
        FROM
            xla_transaction_entities_upg   xte,
            xla_events                     xe,
            gl_ledgers                     l
        WHERE
            xte.entity_code IN (
                'RCV_ACCOUNTING_EVENTS'
            )
            AND xe.application_id = xte.application_id
            AND xte.entity_id = xe.entity_id
            AND xte.application_id = 707
            AND xe.process_status_code <> 'P'
            AND xe.process_status_code <> 'I'
            AND xe.event_status_code <> 'P'
            AND xe.event_status_code <> 'I'
            AND xte.ledger_id = l.ledger_id
            AND xe.event_date BETWEEN SYSDATE - 30 AND SYSDATE
            AND xte.security_id_int_2 IS NOT NULL
        GROUP BY
            xte.ledger_id,
            l.name,
            xte.security_id_int_2
        HAVING
            COUNT(*) > 0
    )
where rownum < 1000
",2425620.1,"From Cost Management, Run Create Accounting for Receiving process category or from Purchasing, Run Create Accounting - Receiving",PO,Found unprocessed receiving events for the last 30 days,Found unprocessed receiving events for the last 30 days,2,Oracle Purchasing,ACCOUNTING,ACCRUAL,MONTH,LAST,P2P: Purchasing,Impact period close,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_APPROVAL_INIT1_GET_PO_ATTRIBUTES,"select  BEGINDATE BEGINDATE,
ORG_ID ORG_ID,
TYPECODE TYPECODE,
PONUM PONUM,
POSTATUS POSTATUS,
ERROR_MESSAGE_AND_ERROR_STACK ERROR_MESSAGE_AND_ERROR_STACK
FROM
(SELECT i.begin_date ""BEGINDATE"", i.user_key ""PONUM"", poh.org_id, 
decode(poh.type_lookup_code, 'PLANNED','PA','CONTRACT','PA', 'BLANKET', 'PA', 'STANDARD', 'PO', 'PO') TYPECODE,
poh.authorization_status ""POSTATUS"",
/* ""ac.name||' ('||ac.display_name||')' ""ACTIVITY"",
ias.activity_result_code ""RESULT"",
ias.error_name ""ERROR_NAME"", */
concat(concat('Error_Message: ', ias.ERROR_MESSAGE), concat('  Error_Stack: ', ias.ERROR_STACK)) ERROR_MESSAGE_AND_ERROR_STACK
FROM wf_item_activity_statuses ias,
wf_process_activities pa,
wf_activities_vl ac,
wf_activities ap,
wf_items i,
po_headers_all poh
WHERE ias.item_type = 'POAPPRV'
AND ias.activity_status = 'ERROR'
AND poh.wf_item_key = i.item_key
AND ias.process_activity = pa.instance_id
AND pa.activity_name = ac.name
AND pa.activity_item_type = ac.item_type
AND pa.process_name = ap.name
AND pa.process_item_type = ap.item_type
AND pa.process_version = ap.version
AND i.item_type = 'POAPPRV'
AND i.item_key = ias.item_key
AND i.begin_date >= ac.begin_date
AND i.begin_date < nvl(ac.end_date, i.begin_date+1)
AND ias.error_message like '%ORA-06512%'
AND ias.error_stack like '%Wf_Engine_Util.Function_Call(PO_POAPPROVAL_INIT1.GET_PO_ATTRIBUTES%POAPPRV%'
ORDER BY ias.begin_date desc, ias.execution_time)
where rownum < 1000
order by begindate desc",2174354.1,"SYMPTOMS

When approving Purchase Orders/Blanket Releases after upgrade, the approval workflow fails with:
  ERROR:
  ======
  Failed activity: GET_PO_DATA
  Result: #EXCEPTION
  Error Name: -6512
  Error Message:ORA-06512: at line
  Error Stack: Wf_Engine_Util.Function_Call
  (PO_POAPPROVAL_INIT1.GET_PO_ATTRIBUTES, POAPPRV,)
  Steps to reproduce:
  ===================
  1.  Navigate to Purchasing or Buyer Work Center
  2.  Search for PO
  3.  See the PO is In Process
  4.  Navigate to Workflow Administrator
  5.  Query the Workflow and see the workflow is in error with the above error details

CAUSE

The issue can be caused by
A) A Purchase Order was In Process when an Upgrade was performed, and the Purchase Order Workflow is missing workflow Attributes that cause the error to occur, as described in Doc ID 2174354.1
NOTE: As part of the pre-upgrade steps, all In Process purchasing documents should complete the approval process before doing an upgrade.

B) A Purchase Order distribution has a zero quantity/amount ordered that causes the error as described in Doc ID 377334.1.


As confirmed by the error message from your environment, you are hitting the same issue described in the mentioned documents.

Error: Attribute 'BASE_DOC_CURRENCY' Does Not Exist in PO_POAPPROVAL_INIT1.GET_PO_ATTRIBUTES (Doc ID 2174354.1)
- Purchase orders were In Process when upgrade was performed resulting in the error in workflow

Purchase Order or Blanket Approval Fails at GET_PO_DATA Activity with ORA-06512 Error in Package PO_POAPPROVAL_INIT1.GET_PO_ATTRIBUTES (Doc ID 377334.1)
- Purchase Order distribution contains zero quantity ordered or amount resulting in the error in workflow


SOLUTION

1. Review the output of Purchasing Approval Analyzer for the failing document and check the conditions

2. To fix the issue for purchase orders which were in process during the upgrade

2.1 Add the missing attributes to the workflow, Apply Patch 24375046:R12.PO.D.

2.2 For existing Purchase Orders stuck in workflow due to the above condition (Purchase Orders were in process when upgrade was performed), contact Support for datafix details and reference Doc ID 2174354.1


3. To prevent and fix the issue of purchase orders having zero quantity for quantity ordered or amount on the distribution

3.1 Apply the code fix for your release
        For 12.2.x release:  Apply patch 29171374:R12.PO.D OR patch 29121578:R12.PO.D
        For 12.1.x release:  Apply patch 16515181:R12:PO:B

3.2 Fix the existing purchasing documents that have the issue

3.2.1 Review the Procurement Approval Analyzer output for the problem document, and confirm if there are any distributions having zero quantity ordered or amount.

3.2.2 For the PO Distribution having zero quantity ordered or amount, check if the req_distribution_id is null (NOT populated)

    NOTE1:  ** If req_distribution_id is NOT null ** (there is a req_distribution_id value) then request additional advice from Support regarding a datafix.  Do Not use the below steps if req_distribution_id is NOT null.

After confirming req_distribution_id is NULL for the po_distribution_id that has zero quantity
3.2.2.a. Follow instructions from Note 390023.1 in order to obtain a reset script.
3.2.2.b. Apply reset script against the document according to instructions from Note 390023.1. The reset script will modify the document status to Requires Reapproval or Incomplete.
3.2.2.c. Query the document and delete the distribution with zero quantity ordered/amount ordered.
3.2.2.d. Save changes and resubmit approval process.

    NOTE2:  As mentioned above in NOTE1, ** If req_distribution_id is NOT null ** (there is a req_distribution_id value) on the po_distribution row that has zero quantity ordered or amount, then request additional advice from Support regarding a datafix

    NOTE3:  Some cases of the zero quantity that causes the error may require the solution from Do",PO,PO Approval failed with Error PO_POAPPROVAL_INIT1.GET_PO_ATTRIBUTES ,"PO Approval fails with:
Error Message:ORA-06512: at line
Error Stack: Wf_Engine_Util.Function_Call
(PO_POAPPROVAL_INIT1.GET_PO_ATTRIBUTES, POAPPRV)",2,Oracle Purchasing,APPROVALS,PO_APPROVAL,DAY,1,P2P: Purchasing,The monitoring unit detects a data corruption on PO_DISTRIBUTIONS_ALL table that is causing an error during PO approval workflow.,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_ATTRIBUTE_NOTE_R_MISSING,"select NOTIFICATION_ID NOTIFICATION_ID, MESSAGE_TYPE MESSAGE_TYPE, MESSAGE_NAME MESSAGE_NAME, STATUS STATUS, MAIL_STATUS MAIL_STATUS, SUBJECT SUBJECT from
(SELECT NOTIFICATION_ID, GROUP_ID, MESSAGE_TYPE, MESSAGE_NAME, RECIPIENT_ROLE, STATUS, MAIL_STATUS, FROM_USER, TO_USER, SUBJECT, ITEM_KEY
FROM wf_notifications wn
   WHERE wn.message_name IN ( 'PO_PO_APPROVE', 'PO_PO_APPROVE_PDF', 'PO_PO_REMINDER_1', 'PO_PO_REMINDER_2' )
   AND wn.status = 'OPEN'
   MINUS
   SELECT wn.NOTIFICATION_ID, wn.GROUP_ID, wn.MESSAGE_TYPE, wn.MESSAGE_NAME, wn.RECIPIENT_ROLE, wn.STATUS, wn.MAIL_STATUS, wn.FROM_USER, wn.TO_USER, wn.SUBJECT, wn.ITEM_KEY
   FROM wf_notifications wn,
   wf_notification_attributes wia
   WHERE
   wn.message_name IN ( 'PO_PO_APPROVE', 'PO_PO_APPROVE_PDF', 'PO_PO_REMINDER_1', 'PO_PO_REMINDER_2' )
   AND wn.status = 'OPEN'
   AND wn.notification_id=wia.notification_id AND NAME='NOTE_R'
   order by notification_id desc
)
where rownum < 1000",1507132.1,"Development have provided a data-fix that will insert NOTE_R into those open notifications where this attribute is missing.

Attached to Document 1507132.1 is the script NOTE_R_fix_13552607-1.sql

1. Download and review the script

2. Where practicable, run the script on a clone of the original instance.

3. If no errors are encountered while running the script, retest the original issue

4. Migrate the solution to other environments as required.",PO,PO stuck with error:ORA-20002:3203: Attribute NOTE_R Does Not Exist For Notification nnn,"ORA-20002:3203: Attribute 'NOTE_R' does not exist for notification '5045202'. ORA-06512: at ""APPS.WF_NOTIFICATION"",line 1251",2,Oracle Purchasing,APPROVALS,PO_APPROVAL,WEEK,SAT,P2P: Purchasing,"For POs submitted in an 11i instance which is then upgraded to Rel 12.1.X , the following error can occur:
ORA-20002:3203: Attribute 'NOTE_R' does not exist for notification '5045202'. ORA-06512: at ""APPS.WF_NOTIFICATION"",line 1251. Such POs remain stuck In Process during the Approval process.
This MU will pick up such POs in order to create SR and to offer the solution from Doc ID 1507132.1 and get these POs approved.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_AUTOCREATE_SOURCING_DOC_CHECKS_SUMMARY_CHILD_04,"SELECT distinct IssueDesc IssueDesc, PoNumber PoNumber, PoHeader_ReqHeader_Reqline_Id PoHeader_ReqHeader_Reqline_Id, OrgId OrgId, ReqNumber ReqNumber, ReqLineNum ReqLineNum
from
(SELECT 'Approved Requisition is associated to Blanket or Contract Agreement having the end date within the last 30 days' IssueDesc,
poh.segment1 PoNumber,
concat(concat(concat(concat(concat(concat(TO_CHAR(prla.blanket_po_header_id),' ('), to_date(poh.END_DATE, 'DD-MON-YYYY') ), ') / '), TO_CHAR(prha.requisition_header_id)),' / '), TO_CHAR(prla.requisition_line_id)) PoHeader_ReqHeader_Reqline_Id,
prha.org_id OrgId, prha.segment1 ReqNumber, prla.line_num ReqLineNum
FROM po_requisition_headers_all prha , po_requisition_lines_all prla , po_headers_all poh , po_lines_all pol
WHERE prha.requisition_header_id = prla.requisition_header_id and poh.po_header_id = prla.blanket_po_header_id /* link to blanket po header */
and pol.po_header_id (+) = poh.po_header_id /* link to get blanket lines outer join for contracts */ 
AND prha.authorization_status = 'APPROVED' /* only approved reqs */
AND prla.line_location_id IS NULL /* not put on po release or std po yet */
AND nvl(prla.closed_code, 'OPEN') <> 'FINALLY CLOSED' /* NOT CLOSED */
AND nvl(prla.cancel_flag, 'N') <> 'Y' /* NOT CANCELLED */
and prla.blanket_po_header_id is not null /* get only sourced reqs */
and ( ( nvl(poh.end_date,sysdate) < sysdate and nvl(poh.end_date,sysdate) >= sysdate - 30 and poh.end_date is not null) /* check for end date past */
)
order by TO_NUMBER(REGEXP_SUBSTR(PoHeader_ReqHeader_Reqline_Id, '(\d\d+)',1,1)) desc
)
where rownum < 1000",2361195.1,"SYMPTOMS

Approved Requisition(s) is associated to a Blanket or Contract Agreement(s) that is past or nearing the header level end date.  This will prevent Autocreate of the requisition onto a Blanket Release or Standard Purchase Order.  

Error
Error: Line # 1 The referenced Global Agreement line is in CLOSED, FINALLY CLOSED or CANCELLED status

Steps to reproduce
Example 1
1. Create and Approve a Global Blanket Purchase Agreement (GBPA), Blanket Purchase Agreement (BPA), or Contract Purchase Agreement (CPA).
2. Create a Purchase Requisition that contains items sourced from the GBPA and begin approval of the Requisition.
3. Wait until after the header level end date of the agreement
4. Finish approving the requisition
5. Let the CREATEPO workflow attempt to automatically create the Requisition to Standard Purchase Order, or as Buyer attempt to autocreate the requisition to a Standard Purchase Order.  Encounter the error indicating the agreement source document is past the header level end date

BUSINESS IMPACT
Delay at Autocreate will delay ordering, receipt, and use of the items requested on the Requisition.


CAUSE
The source agreement is past or nearing the header level end date, and this prevents Autocreate or approval of the Purchase Release or Purchase Order that is Autocreated for the Requisition.

Likely the items were added to the requisition and the requisition began the approval process before the agreement was expired.


SOLUTION

Extend the source agreement header level end date, or created a new agreement or choose items sourced from a new or different agreement for the requisition that needs the items.  Then reattempt Autocreate of the Requisition to a Blanket Release or Standard Purchase Order.

Perform the following steps to resolve the issue:

1. Extend the source agreement header level end date, or create a new agreement or find a different agreement for sourcing the items needed on the requisition.
2. Approve the new Blanket or Contract Agreement if not already approved.
3. Update the requisition by choosing the items sourced from the relevant agreement that is not expired
4. Reattempt autocreate of the Requisition
	- Autocreate a Blanket Release if the Requisition is sourced from a Local Blanket Purchase Agreement (BPA).
	- Autocreate a Standard Purchase Order if the Requisition is sourced from a Global Blanket Purchase Agreement (GBPA) or Contract Purchase Agreement (CPA).
5. Confirm the Requisition is Autocreated successfully.

Update the SR confirming the issue is solved and close the SR.

NOTE: Review the following document for criteria checked for autocreate
- What Conditions Prevent Autocreate of a Requisition That is Sourced to a Blanket Agreement or Contract Agreement? (Doc ID 2361195.1)",PO,Approved Requisition is associated to Blanket or Contract Agreement Past the End Date,Approved Requisition(s) is associated to a Blanket or Contract Agreement(s) recently past the End Date.  This will prevent Autocreate of the requisition.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,WEEK,SAT,P2P: Purchasing,"BUSINESS FLOW
Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.  This monitoring unit detects Requisitions that will fail at autocreate because the source Agreement header end date is expired / past within the last 30 days.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_AUTOCREATE_SOURCING_DOC_CHECKS_SUMMARY_CHILD_03,"SELECT IssueDesc IssueDesc, PoNumber PoNumber, PoHeader_ReqHeader_Reqline_Id PoHeader_ReqHeader_Reqline_Id, OrgId OrgId, ReqNumber ReqNumber, ReqLineNum ReqLineNum
from
(SELECT distinct 'Requisition Line is associated to Blanket Agreement Line that is recently expired' IssueDesc,
poh.segment1 PoNumber,
concat(concat(concat(concat(concat(concat(concat(concat(TO_CHAR(prla.blanket_po_header_id),' ('), to_date(pol.expiration_date, 'DD-MON-YYYY') ), ') / '), TO_CHAR(pol.po_line_id)),' / '), TO_CHAR(prha.requisition_header_id)),' / '), TO_CHAR(prla.requisition_line_id)) PoHeader_ReqHeader_Reqline_Id,
prha.org_id OrgId, prha.segment1 ReqNumber, prla.line_num ReqLineNum
FROM po_requisition_headers_all prha , po_requisition_lines_all prla , po_headers_all poh , po_lines_all pol
WHERE prha.requisition_header_id = prla.requisition_header_id and poh.po_header_id = prla.blanket_po_header_id /* link to blanket po header */
and pol.po_header_id (+) = poh.po_header_id /* link to get blanket lines outer join for contracts */
AND prha.authorization_status = 'APPROVED' /* only approved reqs */
AND prla.line_location_id IS NULL /* not put on po release or std po yet */
AND nvl(prla.closed_code, 'OPEN') <> 'FINALLY CLOSED' /* NOT CLOSED */
AND nvl(prla.cancel_flag, 'N') <> 'Y' /* NOT CANCELLED */
and prla.blanket_po_header_id is not null /* get only sourced reqs */
and ( (nvl(pol.expiration_date,sysdate) < sysdate and nvl(pol.expiration_date,sysdate) >= sysdate - 30 and pol.expiration_date is not null ) /* lines expired */
)
order by TO_NUMBER(REGEXP_SUBSTR(PoHeader_ReqHeader_Reqline_Id, '(\d\d+)',1,1)) desc
)
where rownum < 1000
",2361195.1,"SYMPTOMS

Approved Requisition(s) is associated to a Blanket Agreement Line(s) that is Expired.  This will prevent Autocreate of the requisition onto a Blanket Release or Standard Purchase Order.  

Error
Error: Line # 1 The referenced Global Agreement line is in CLOSED, FINALLY CLOSED or CANCELLED status

Steps to reproduce
Example 1
1. Create and Approve a Global Blanket Purchase Agreement (GBPA), Blanket Purchase Agreement (BPA), or Contract Purchase Agreement (CPA).
2. Create a Purchase Requisition that contains items sourced from the GBPA and begin approval of the Requisition.
3. Let the agreement line reach the expiration date
4. Let the CREATEPO workflow attempt to automatically create the Requisition to Standard Purchase Order, or as Buyer attempt to autocreate the requisition to a Standard Purchase Order.  Encounter the error indicating the agreement source document is expired.

BUSINESS IMPACT
Delay at Autocreate will delay ordering, receipt, and use of the items requested on the Requisition.


CAUSE
The source agreement line has been expired, and this prevents Autocreate or approval of the Purchase Release or Purchase Order that is Autocreated for the Requisition.

Likely the items were added to the requisition and the requisition began the approval process before the agreement line was expired.


SOLUTION

Extend the expiration date, or created a new agreement line or choose items sourced from a new or different agreement line for the requisition that needs the items.  Then reattempt Autocreate of the Requisition to a Blanket Release or Standard Purchase Order.

Perform the following steps to resolve the issue:

1. Extend the expiration date, or create a new agreement line(s) or find a different agreement line(s) for sourcing the items needed on the requisition.
2. Approve the new Blanket or Contract Agreement if not already approved.
3. Update the requisition by choosing the items sourced from the relevant agreement line(s) that is not expired
4. Reattempt autocreate of the Requisition

NOTE:  Review the following document for criteria checked for autocreate
- What Conditions Prevent Autocreate of a Requisition That is Sourced to a Blanket Agreement or Contract Agreement? (Doc ID 2361195.1)",PO,Approved Requisition is associated to Blanket or Contract Agreement that is recently Expired,Approved Requisition(s) is associated to a Blanket Agreement line(s) that is recently Expired.  This will prevent Autocreate of the requisition.,2,Oracle Purchasing,PURCHORD,AUTOCREATE,WEEK,SAT,P2P: Purchasing,"BUSINESS FLOW
Procurement buyers depend on Autocreate processes to automatically create requisitions onto purchase orders or releases.  This monitoring unit detects Requisitions that will fail at autocreate because the Agreement line, against which the requisition is sourced, is recently Expired (within the last 30 days).",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_MISSING_ACCOUNTING_RECEIVE_TRANSACTIONS,"SELECT 
T1.transaction_id rcv_transaction_id,
T1.transaction_date rcv_transaction_date,
T1.transaction_type rcv_transaction_type, 
T1.Quantity Quantity_Received,
T1.shipment_line_id receipt_line_id,
T1.po_line_location_id PO_Line_location
FROM RCV_TRANSACTIONS T1,
MTL_PARAMETERS mp
 WHERE t1.organization_id = mp.ORGANIZATION_ID
  AND  NVL(mp.process_enabled_flag, 'N') <> 'Y'
  AND t1.transaction_type in ('RECEIVE','RETURN TO VENDOR','CORRECT')
  AND NOT (t1.transaction_type = 'CORRECT' and t1.destination_type_code = 'INVENTORY')
  AND NOT (t1.transaction_type = 'CORRECT' and t1.destination_type_code = 'EXPENSE')
  AND NOT (t1.transaction_type = 'CORRECT' and t1.destination_type_code = 'SHOP FLOOR')
  AND EXISTS
        (SELECT 1
           FROM PO_LINE_LOCATIONS_ALL poll
          WHERE ACCRUE_ON_RECEIPT_FLAG='Y'
            AND POLL.LINE_LOCATION_ID =T1.PO_LINE_LOCATION_ID)
   AND NVL(COMMENTS,'!') NOT IN ('OPM RECEIPT','OPM Receipt Correction')
   AND NOT EXISTS
           (SELECT 1
              FROM RCV_RECEIVING_SUB_LEDGER T2
             WHERE T2.RCV_TRANSACTION_ID=T1.TRANSACTION_ID)
   AND EXISTS ( SELECT 'GL and PO has OPEN PERIOD for the transaction_date'
           FROM gl_period_statuses GL_PER,
            gl_period_statuses PO_PER,
        financials_system_params_all FSP
      WHERE    GL_PER.application_id = 101
        AND    PO_PER.application_id = 201
            AND    PO_PER.set_of_books_id    = FSP.set_of_books_id
            AND    trunc(PO_PER.start_date)       <=  t1.transaction_date
            AND    trunc(PO_PER.end_date)+0.99999 >= t1.transaction_date
            AND    PO_PER.closing_status     = 'O'
            AND    PO_PER.period_name        = GL_PER.period_name
            AND    GL_PER.set_of_books_id    = FSP.set_of_books_id
            AND    trunc(GL_PER.start_date)       <=  t1.transaction_date
            AND    trunc(GL_PER.end_date)+0.99999 >=  t1.transaction_date
            AND    GL_PER.closing_status in ('O', 'F')
             )
UNION ALL
SELECT 
T1.transaction_id rcv_transaction_id,
T1.transaction_date rcv_transaction_date,
T1.transaction_type rcv_transaction_type, 
T1.Quantity Quantity_Received,
T1.shipment_line_id receipt_line_id,
T1.po_line_location_id PO_Line_location
FROM RCV_TRANSACTIONS T1,
       po_distributions_all POD,
       MTL_PARAMETERS mp
 WHERE t1.organization_id = mp.ORGANIZATION_ID
  AND  NVL(mp.process_enabled_flag, 'N') <> 'Y'
  AND T1.transaction_type in ('DELIVER','RETURN TO RECEIVING','CORRECT')
   AND NOT (T1.transaction_type = 'CORRECT' AND T1.destination_type_code = 'RECEIVING')
   AND T1.po_distribution_id = POD.po_distribution_id
   AND pod.accrue_on_receipt_flag = 'Y'
   AND pod.destination_type_code = 'EXPENSE'
   AND EXISTS
        (SELECT 1
           FROM PO_LINE_LOCATIONS_ALL poll
          WHERE ACCRUE_ON_RECEIPT_FLAG='Y'
            AND POLL.LINE_LOCATION_ID =T1.PO_LINE_LOCATION_ID)
   AND NVL(COMMENTS,'!') NOT IN ('OPM RECEIPT','OPM Receipt Correction')
   AND NOT EXISTS
           (SELECT 1
              FROM RCV_RECEIVING_SUB_LEDGER T2
             WHERE T2.RCV_TRANSACTION_ID=T1.TRANSACTION_ID)
   AND EXISTS ( SELECT 'GL and PO has OPEN PERIOD for the transaction_date'
           FROM gl_period_statuses GL_PER,
            gl_period_statuses PO_PER,
        financials_system_params_all FSP
      WHERE    GL_PER.application_id = 101
        AND    PO_PER.application_id = 201
            AND    PO_PER.set_of_books_id    = FSP.set_of_books_id
            AND    trunc(PO_PER.start_date)       <=  t1.transaction_date
            AND    trunc(PO_PER.end_date)+0.99999 >= t1.transaction_date
            AND    PO_PER.closing_status     = 'O'
            AND    PO_PER.period_name        = GL_PER.period_name
            AND    GL_PER.set_of_books_id    = FSP.set_of_books_id
            AND    trunc(GL_PER.start_date)       <=  t1.transaction_date
            AND    trunc(GL_PER.end_date)+0.99999 >=  t1.transaction_date
            AND    GL_PER.closing_status in ('O', 'F')
            )
and rownum < 1000
order by rcv_transaction_id desc",1941627.1,"SYMPTOM:
Receiving Transaction Summary >View Accounting doesn't shows the accounting details for Receipt transaction.
Accounting missing in RCV_RECEIVING_SUB_LEDGER for the receipt.

CAUSE:
Issue was caused by invalid data in rcv_receiving_sub_ledger table.
There must be accounting entry in  rcv_receiving_sub_ledger for the receipt transactions.


SOLUTION:
1. Ensure that you have taken a backup of your system before applying the recommended solution.
2. Run the following scripts in a TEST environment first: df_missing_rrsl_r12_Org.sql
3. Once the scripts complete, confirm that the data is corrected.
4. If you are satisfied with the results, issue a commit.
5. Confirm that the data is corrected when viewed in the Oracle Applications.
6. If you are satisfied that the issue is resolved, migrate the solution as appropriate to other environments.",PO,Missing Accounting in RCV_RECEIVING_SUB_LEDGER and View Receiving Accounting Form,Receiving Transaction Summary > Tools > View Accounting doesn't show any accounting entries for expense destination PO set to Accrue at Receipt,2,Oracle Purchasing,ACCOUNTING,ACCRUAL,WEEK,FRI:SAT,Accounting to Financial Reports: Reconciliation,Purchasing and Account Payable departments will be affected due to this issue. The missing accounting will lead to reconciliation issue with debit accrual balance in AP and PO Reconciliation Report.,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_RCV_TXN_NOT_XFR_GL4,"SELECT
    ledger_id     ledger_id,
    ledger_name   ledger_name,
    org_id        org_id
FROM
    (
        SELECT
            xte.ledger_id           ledger_id,
            l.name                  ledger_name,
            xte.security_id_int_1   org_id
        FROM
            xla_ae_headers                 xah,
            xla_transaction_entities_upg   xte,
            gl_ledgers                     l
        WHERE
            xah.application_id = xte.application_id
            AND xah.ledger_id = xte.ledger_id
            AND xah.entity_id = xte.entity_id
            AND xah.ledger_id = l.ledger_id
            AND xte.entity_code IN ('RCV_ACCOUNTING_EVENTS')
            AND xah.application_id = 707
            AND xah.gl_transfer_status_code = 'N'
            AND xah.accounting_entry_status_code = 'F'
            AND xah.accounting_date BETWEEN SYSDATE - 30 AND SYSDATE
        GROUP BY
            xte.ledger_id,
            l.name,
            xte.security_id_int_1
        HAVING
            COUNT(*) > 0
    )
where rownum < 1000",2425618.1,"From Cost Management, run Transfer Journal to GL",PO,Found receiving transaction finally accounted but not transferred to General Ledger,Found receiving transaction finally accounted but not transferred to General Ledger,2,Oracle Purchasing,ACCOUNTING,ACCRUAL,MONTH,LAST,P2P: Purchasing,Impact period close and receiving reconciliation reports,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_INVALID_PO_ENCUMBRANCE,"SELECT org_id org_id,
  doc_type document_type,
  doc_number document_number,
  po_header_id po_header_id
FROM
  (
/*SPLIT_HERE*/
SELECT h.org_id org_id,
    'PO' doc_type,
    h.segment1 doc_number,
    h.po_header_id po_header_id,
    'OPEN_QTY_NOT_JAI',
    ROW_NUMBER() OVER (ORDER BY h.po_header_id desc) rno    
  FROM po_headers_all h,
    po_lines_all l,
    po_line_locations_all s,
    po_distributions_all d,
    gl_ledgers g,
    fnd_currencies c,
    financials_system_params_all fsp,
    hr_operating_units hr
  WHERE s.line_location_id                 = d.line_location_id
  AND l.po_line_id                         = s.po_line_id
  AND h.po_header_id                       = d.po_header_id
  AND d.set_of_books_id                    = g.ledger_id
  AND g.currency_code                      = c.currency_code
  AND fsp.org_id                           = hr.organization_id
  AND fsp.org_id                           = h.org_id
  AND NVL(fsp.purch_encumbrance_flag,'N')  = 'Y'
  AND l.matching_basis                     = 'QUANTITY'
  AND NVL(d.encumbered_flag, 'N')          = 'Y'
  AND NVL(s.approved_flag, 'N') = 'Y'
  AND NVL(s.cancel_flag, 'N')              = 'N'
  AND NVL(s.closed_code, 'OPEN')          <> 'FINALLY CLOSED'
  AND NVL(d.prevent_encumbrance_flag, 'N') = 'N'
  AND d.budget_account_id                 IS NOT NULL
  AND NVL(s.shipment_type,'BLANKET')       = 'STANDARD'
  AND (g.currency_code                    <> 'INR'
  OR NOT EXISTS
    (SELECT 1
    FROM ad_events e,
      ad_event_versions v
    WHERE e.event_id = v.event_id
    AND e.owner      = 'JA'
    AND e.event_name = 'JAI_EXISTENCE_OF_TABLES'
    AND v.status     = 'COMPLETED'
    ))
  AND ABS((ROUND(NVL(d.encumbered_amount, 0), c.precision) - ROUND( ROUND((s.price_override * d.quantity_ordered + NVL(d.nonrecoverable_tax, 0)),c.precision) * NVL(d.rate, 1), c.precision))) > .2
  UNION
  SELECT h.org_id org_id,
    'PO' doc_type,
    h.segment1 doc_number,
    h.po_header_id po_header_id,
    'OPEN_AMT_NOT_JAI',
    ROW_NUMBER() OVER (ORDER BY h.po_header_id desc) rno
  FROM po_headers_all h,
    po_lines_all l,
    po_line_locations_all s,
    po_distributions_all d,
    gl_ledgers g,
    fnd_currencies c,
    financials_system_params_all fsp,
    hr_operating_units hr
  WHERE s.line_location_id                 = d.line_location_id
  AND l.po_line_id                         = s.po_line_id
  AND h.po_header_id                       = d.po_header_id
  AND d.set_of_books_id                    = g.ledger_id
  AND g.currency_code                      = c.currency_code
  AND fsp.org_id                           = hr.organization_id
  AND fsp.org_id                           = h.org_id
  AND NVL(fsp.purch_encumbrance_flag,'N')  = 'Y'
  AND l.matching_basis                     = 'AMOUNT'
  AND NVL(d.encumbered_flag, 'N')          = 'Y'
  AND NVL(s.approved_flag, 'N') = 'Y'
  AND NVL(s.cancel_flag, 'N')              = 'N'
  AND NVL(s.closed_code, 'OPEN')          <> 'FINALLY CLOSED'
  AND NVL(d.prevent_encumbrance_flag, 'N') = 'N'
  AND d.budget_account_id                 IS NOT NULL
  AND NVL(s.shipment_type,'BLANKET')       = 'STANDARD'
  AND (g.currency_code                    <> 'INR'
  OR NOT EXISTS
    (SELECT 1
    FROM ad_events e,
      ad_event_versions v
    WHERE e.event_id = v.event_id
    AND e.owner      = 'JA'
    AND e.event_name = 'JAI_EXISTENCE_OF_TABLES'
    AND v.status     = 'COMPLETED'
    ))
  AND ABS((ROUND(NVL(d.encumbered_amount, 0), c.precision) - ROUND( ROUND((d.amount_ordered + NVL(d.nonrecoverable_tax, 0)), c.precision) * NVL(d.rate, 1),c.precision))) > .2
  UNION
  SELECT h.org_id org_id,
    'PO' doc_type,
    h.segment1 doc_number,
    h.po_header_id po_header_id,
    'CANCEL_QTY_NOT_JAI',
    ROW_NUMBER() OVER (ORDER BY h.po_header_id desc) rno
  FROM po_headers_all h,
    po_lines_all l,
    po_line_locations_all s,
    po_distributions_all d,
    gl_ledgers g,
    fnd_currencies c,
    financials_system_params_all fsp,
    hr_operating_units hr
  WHERE s.line_location_id                = d.line_location_id
  AND l.po_line_id                        = s.po_line_id
  AND h.po_header_id                      = d.po_header_id
  AND d.set_of_books_id                   = g.ledger_id
  AND g.currency_code                     = c.currency_code
  AND fsp.org_id                          = hr.organization_id
  AND fsp.org_id                          = h.org_id
  AND NVL(fsp.purch_encumbrance_flag,'N') = 'Y'
  AND l.matching_basis                    = 'QUANTITY'
  AND NVL(s.Approved_Flag,'N')            = 'Y'
  AND NVL(s.Cancel_Flag,'N')              = 'Y'
  AND NVL(s.Closed_Code,'OPEN')          <> 'FINALLY CLOSED'
  AND NVL(d.Prevent_Encumbrance_Flag,'N') = 'N'
  AND d.Budget_Account_id                IS NOT NULL
  AND (g.currency_code                   <> 'INR'
  OR NOT EXISTS
    (SELECT 1
    FROM ad_events e,
      ad_event_versions v
    WHERE e.event_id = v.event_id
    AND e.owner      = 'JA'
    AND e.event_name = 'JAI_EXISTENCE_OF_TABLES'
    AND v.status     = 'COMPLETED'
    ))
  AND ABS((ROUND(NVL(d.encumbered_amount, 0), c.precision) - ROUND( LEAST(d.quantity_ordered,DECODE(d.accrue_on_receipt_flag,'Y',NVL(d.quantity_delivered,0), (NVL(d.quantity_ordered,0) - NVL(d.quantity_cancelled,0)) ) )*(s.price_override + (NVL(d.nonrecoverable_tax,0) /DECODE (d.Quantity_Ordered,0,1,d.Quantity_Ordered))),c.precision))) > .2
  UNION
  SELECT h.org_id org_id,
    'PO' doc_type,
    h.segment1 doc_number,
    h.po_header_id po_header_id,
    'CANCEL_AMT_NOT_JAI',
    ROW_NUMBER() OVER (ORDER BY h.po_header_id desc) rno
  FROM po_headers_all h,
    po_lines_all l,
    po_line_locations_all s,
    po_distributions_all d,
    gl_ledgers g,
    fnd_currencies c,
    financials_system_params_all fsp,
    hr_operating_units hr
  WHERE s.line_location_id                = d.line_location_id
  AND l.po_line_id                        = s.po_line_id
  AND h.po_header_id                      = d.po_header_id
  AND d.set_of_books_id                   = g.ledger_id
  AND g.currency_code                     = c.currency_code
  AND fsp.org_id                          = hr.organization_id
  AND fsp.org_id                          = h.org_id
  AND NVL(fsp.purch_encumbrance_flag,'N') = 'Y'
  AND l.matching_basis                    = 'AMOUNT'
  AND NVL(s.Approved_Flag,'N')            = 'Y'
  AND NVL(s.Cancel_Flag,'N')              = 'Y'
  AND NVL(s.Closed_Code,'OPEN')          <> 'FINALLY CLOSED'
  AND NVL(d.Prevent_Encumbrance_Flag,'N') = 'N'
  AND d.Budget_Account_id                IS NOT NULL
  AND (g.currency_code                   <> 'INR'
  OR NOT EXISTS
    (SELECT 1
    FROM ad_events e,
      ad_event_versions v
    WHERE e.event_id = v.event_id
    AND e.owner      = 'JA'
    AND e.event_name = 'JAI_EXISTENCE_OF_TABLES'
    AND v.status     = 'COMPLETED'
    ))
  AND ABS((ROUND(NVL(d.encumbered_amount, 0), c.precision) - ROUND( LEAST(d.amount_Ordered,DECODE(d.accrue_on_receipt_flag,'Y',NVL(d.amount_delivered,0), (NVL(d.amount_Ordered,0) - NVL(d.amount_cancelled,0)) ) )*(1 + (NVL(d.nonrecoverable_tax,0) / DECODE(d.amount_Ordered,0,1,d.amount_ordered))),c.precision))) > .2
  UNION
  SELECT h.org_id org_id,
    'PO' doc_type,
    h.segment1 doc_number,
    h.po_header_id po_header_id,
    'FINAL_CLOSED_QTY_NOT_JAI',
    ROW_NUMBER() OVER (ORDER BY h.po_header_id desc) rno
  FROM po_headers_all h,
    po_lines_all l,
    po_line_locations_all s,
    po_distributions_all d,
    gl_ledgers g,
    fnd_currencies c,
    financials_system_params_all fsp,
    hr_operating_units hr
  WHERE s.line_location_id                = d.line_location_id
  AND l.po_line_id                        = s.po_line_id
  AND h.po_header_id                      = d.po_header_id
  AND d.set_of_books_id                   = g.ledger_id
  AND g.currency_code                     = c.currency_code
  AND fsp.org_id                          = hr.organization_id
  AND fsp.org_id                          = h.org_id
  AND NVL(fsp.purch_encumbrance_flag,'N') = 'Y'
  AND l.matching_basis                    = 'QUANTITY'
  AND NVL(s.Approved_Flag,'N')            = 'Y'
  AND NVL(s.Closed_Code,'OPEN')           = 'FINALLY CLOSED'
  AND NVL(d.Prevent_Encumbrance_Flag,'N') = 'N'
  AND 0                                   =
    (SELECT
      (SELECT NVL(amount_reversed,0)
      FROM po_distributions_all d1
      WHERE d1.po_distribution_id = d.po_distribution_id
      )
    FROM
      ( SELECT 0 amount_reversed FROM dual
      )
    )
  AND d.Budget_Account_id IS NOT NULL
  AND (g.currency_code    <> 'INR'
  OR NOT EXISTS
    (SELECT 1
    FROM ad_events e,
      ad_event_versions v
    WHERE e.event_id = v.event_id
    AND e.owner      = 'JA'
    AND e.event_name = 'JAI_EXISTENCE_OF_TABLES'
    AND v.status     = 'COMPLETED'
    ))
  AND ABS((ROUND(NVL(d.encumbered_amount, 0), c.precision) - ROUND( LEAST(d.quantity_ordered,DECODE(d.accrue_on_receipt_flag,'Y',NVL(d.quantity_delivered,0), (NVL(d.quantity_ordered,0) - NVL(d.quantity_cancelled,0)) ) )*(s.price_override + (NVL(d.nonrecoverable_tax,0) /DECODE (d.Quantity_Ordered,0,1,d.Quantity_Ordered))),c.precision))) > .2
  UNION
  SELECT h.org_id org_id,
    'PO' doc_type,
    h.segment1 doc_number,
    h.po_header_id po_header_id,
    'FINAL_CLOSED_AMT_NOT_JAI',
    ROW_NUMBER() OVER (ORDER BY h.po_header_id desc) rno
  FROM po_headers_all h,
    po_lines_all l,
    po_line_locations_all s,
    po_distributions_all d,
    gl_ledgers g,
    fnd_currencies c,
    financials_system_params_all fsp,
    hr_operating_units hr
  WHERE s.line_location_id                = d.line_location_id
  AND l.po_line_id                        = s.po_line_id
  AND h.po_header_id                      = d.po_header_id
  AND d.set_of_books_id                   = g.ledger_id
  AND g.currency_code                     = c.currency_code
  AND fsp.org_id                          = hr.organization_id
  AND fsp.org_id                          = h.org_id
  AND NVL(fsp.purch_encumbrance_flag,'N') = 'Y'
  AND l.matching_basis                    = 'AMOUNT'
  AND NVL(s.Approved_Flag,'N')            = 'Y'
  AND NVL(s.Closed_Code,'OPEN')           = 'FINALLY CLOSED'
  AND NVL(d.Prevent_Encumbrance_Flag,'N') = 'N'
  AND 0                                   =
    (SELECT
      (SELECT NVL(amount_reversed,0)
      FROM po_distributions_all d1
      WHERE d1.po_distribution_id = d.po_distribution_id
      )
    FROM
      ( SELECT 0 amount_reversed FROM dual
      )
    )
  AND d.Budget_Account_id IS NOT NULL
  AND (g.currency_code    <> 'INR'
  OR NOT EXISTS
    (SELECT 1
    FROM ad_events e,
      ad_event_versions v
    WHERE e.event_id = v.event_id
    AND e.owner      = 'JA'
    AND e.event_name = 'JAI_EXISTENCE_OF_TABLES'
    AND v.status     = 'COMPLETED'
    ))
  AND ABS((ROUND(NVL(d.encumbered_amount, 0), c.precision) - ROUND( LEAST(d.amount_Ordered,DECODE(d.accrue_on_receipt_flag,'Y',NVL(d.amount_delivered,0), (NVL(d.amount_Ordered,0) - NVL(d.amount_cancelled,0)) ) )*(1 + (NVL(d.nonrecoverable_tax,0) / DECODE(d.amount_Ordered,0,1,d.amount_ordered))),c.precision))) > .2
/*SPLIT_HERE*/ 
order by po_header_id desc
)
where rno < 3
and rownum < 1000
order by po_header_id desc",1581836.1,"SYMPTOM: Found standard PO with invalid encumbrance amount. Note: Decimal invalid encumbrances are ignored

CAUSE: Data Corruption

SOLUTION: 
1. Locate the Procurement Encumbrance Analyzer output.
2. Check section ""Encumbrance Accounting Data Analysis"", Signature 4: PO Encumbered Amount Status
3. Apply suggested solution in Note 1581861.1 for Purchase Order",PO,Purchase Orders with invalid encumbrance amount,There exist open standard PO with invalid encumbrance amount,2,Oracle Purchasing,ACCOUNTING,ENCUMBRANCE,WEEK,SAT,P2P: Encumbrance,Incorrect encumbrance balance for opened PO,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_INVALID_DRAFT_PO_EVENTS2,"SELECT ledger_id ledger_id,
ledger_name ledger_name
FROM
(SELECT
xte.ledger_id ledger_id,
l.name ledger_name
FROM xla_transaction_entities_upg xte,
xla_events xe,
gl_ledgers l
WHERE NVL(xe.budgetary_control_flag, 'N') ='Y'
AND xte.entity_code IN ('REQUISITION','PURCHASE_ORDER','RELEASE')
AND xte.application_id = 201
AND xe.application_id = xte.application_id
AND xte.entity_id = xe.entity_id
AND xte.ledger_id = l.ledger_id
AND xe.EVENT_STATUS_CODE IN ('U' ,'I')
AND xe.PROCESS_STATUS_CODE IN ('I','D','U','E')
GROUP BY xte.ledger_id, l.name
having count(*) > 0
order by ledger_name
)
where rownum < 1000",1264605.1,"SYMPTOM: Found invalid or draft encumbrance events for Purchase Documents

CAUSE:
The draft/Invalid status entries for Purchasing Journal Source are due to encumbrance related events.

1. Whenever Tools-> ""Check Funds"" function is used to verify available funds for a document (PO or Requisition), a record will be created in gl_bc_packets. The gl_bc_packets.status_code 'S' signifies that funds check is successful, 'F' signifies funds check failed. For both these status codes, a corresponding record will be created in XLA in 'Draft' status with journal source Purchasing.

2. When the document is attempted to be reserved and the reserve action fails, a record will be created  in gl_bc_packets with status_code 'R'. For this status code a corresponding record  in XLA will be created (or updated, in case funds check was performed before the reserve action) with 'Invalid' status.

3. When the document is eventually reserved, and encumbrance is created, these records will be updated with status = A in gl_bc_packets and will no longer have status as draft or invalid in XLA. But the records will remain in the XLA in Draft or Invalid status if,
    a. The document has been deleted after it failed funds check.
    b. The budget account on the document is changed after it failed funds check /reservation and encumbrance is created on this new budget account.
These records will not have any accounting / budget impact and will not alter the funds available for the budget and hence can be ignored.


SOLUTION:
Apply datafix from R12: Subledger Period Close Exception Report List Invalid, Draft, or Unprocessed Purchasing Events Such As Requisition Reserved (Doc ID 1264605.1)",PO,Found invalid or draft encumbrance events for Purchase Documents,Found invalid or draft encumbrance events for Purchase Documents,2,Oracle Purchasing,ACCOUNTING,ENCUMBRANCE,MONTH,LAST,P2P: Encumbrance,"They could impact encumbrance balance, and shows on Purchasing accounting reports",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_INVALID_RECEIVING_EVENTS2,"SELECT
    ledger_id     ledger_id,
    ledger_name   ledger_name,
    org_id        org_id
FROM
    (
        SELECT
            xte.ledger_id           ledger_id,
            l.name                  ledger_name,
            xte.security_id_int_2   org_id
        FROM
            xla_transaction_entities_upg   xte,
            xla_events                     xe,
            gl_ledgers                     l
        WHERE
            xte.entity_code IN (
                'RCV_ACCOUNTING_EVENTS'
            )
            AND xe.application_id = xte.application_id
            AND xte.entity_id = xe.entity_id
            AND xte.application_id = 707
            AND xe.process_status_code = 'I'
            AND xte.ledger_id = l.ledger_id
            AND xe.event_date BETWEEN SYSDATE - 30 AND SYSDATE
             AND xte.security_id_int_2 IS NOT NULL
        GROUP BY
            xte.ledger_id,
            l.name,
            xte.security_id_int_2
        HAVING 
           COUNT(*) > 0
       order by ledger_name
)
where rownum < 1000",2425619.1,"SYMPTOM: Found invalid receiving events for the last 30 days

CAUSE: Create Accounting could not process accounting events successfully

SOLUTION:
From Cost Management, Run Create Accounting for Receiving process category or from Purchasing, Run Create Accounting - Receiving. Review and resolve the errors detailed in output file if any.",PO,Found invalid receiving events for the last 30 days,Found invalid receiving events for the last 30 days,2,Oracle Purchasing,ACCOUNTING,ACCRUAL,MONTH,LAST,P2P: Purchasing,Impact period close and receiving reconciliation reporting,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_PF_ENC_TXN_NOT_XFR_GL2,"SELECT ledger_id ledger_id,
ledger_name ledger_name,
org_id org_id
FROM
(SELECT xte.ledger_id ledger_id,
l.name ledger_name,
xte.security_id_int_1 org_id
FROM XLA_AE_HEADERs XAH,
XLA_TRANSACTION_ENTITIES_UPG XTE,
gl_ledgers l
WHERE xah.application_id = XTE.APPLICATION_ID
AND xah.ledger_id = XTE.ledger_id
AND XAH.ENTITY_ID = XTE.ENTITY_ID
AND xah.LEDGER_ID = l.ledger_id
AND xah.application_id = 201
AND xah.gl_transfer_status_code = 'N'
AND xah.accounting_entry_status_code = 'F'
AND xah.accounting_date BETWEEN sysdate - 30 AND sysdate
GROUP BY xte.ledger_id,
l.name,
xte.security_id_int_1
HAVING COUNT(*) > 0
)
where rownum < 1000
",2425635.1,"SYMPTOM: Found encumbrance accounting entries not transferred to General Ledger

CAUSE: Records are not transferred to General Ledger

SOLUTION:
From Purchasing responsibility, run concurrent program  Transfer Journal to General Ledger

Solution is detailed in Encumbrance Accounting Entries not Transferred to General Ledger (Doc ID 2425635.1)",PO,Found encumbrance accounting entries not transferred to General Ledger,Found encumbrance accounting entries not transferred to General Ledger,2,Oracle Purchasing,ACCOUNTING,ENCUMBRANCE,MONTH,LAST,P2P: Encumbrance,"Incorrect GL balance, and impact encumbrance reconciliation in an encumbrance enabled environment",EBS MFG,EBS - Procurement
ME$EBS_FIN_AR_AADS_INVALID_NOTVALIDATED,"select ledger_id LEDGER_ID, name1 GL_NAME, compile_status_code COMP_STAT, product_rule_code PROD_CODE, name2 XPR_NAME
from
(SELECT distinct gl.ledger_id,
gl.name name1,
xpr.compile_status_code compile_status_code,
xpr.product_rule_code product_rule_code, xpr.name name2
FROM xla_product_rules_fvl xpr,
xla_acctg_method_rules_fvl xamr,
gl_ledgers gl,
xla_ae_headers xah
WHERE xpr.application_id = 222
AND xpr.compile_status_code IN ('N', 'E', 'R','I')
AND xpr.product_rule_code = xamr.product_rule_code
AND xamr.application_id = 222
AND sysdate <= nvl(xamr.end_date_active, sysdate)
AND xamr.amb_context_code = 'DEFAULT'
AND xpr.amb_context_code = 'DEFAULT'
AND xamr.accounting_method_code = gl.sla_accounting_method_code
AND xah.ledger_id = gl.ledger_id
AND xah.accounting_date between sysdate-30 and sysdate+30
AND rownum <= 5
)",461990.1,"Please review the steps in Note 461990.1 to validate Accounting definitions.  If this does not resolve the issue, please update the Service Request and an engineer will get back to you.",AR,"Found Receivables AAD with a status of Invalid, Not Validated, or Validating.",AADs have been identified that need to be validated in order for the Create Accounting process to function correctly.,2,Oracle Receivables,SLA,SLA-UPTAKE,WEEK,SAT,Accounting to Financial Reports: Period Close,The presence of invalid or not validated accounting definitions will prevent the Create Accounting process from creating the necessary GL distributions. This will impact period close.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_00233_RCT_DIV_BY_ZERO,"select cash_receipt_id CASH_RECEIPT_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(select cr.cash_receipt_id cash_receipt_id,
        users.user_name user_name,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
   from xla_events gt,
        ar_receivable_applications_all app,
        ar_distributions_all dist,
        gl_sets_of_books sob,
        oe_system_parameters_all osp,
        ar_cash_receipts_all cr,
        ar_cash_receipt_history_all crh,
        ra_customer_trx_all trx,
        fnd_user users
  where cr.created_by = users.user_id
    and gt.event_type_code IN ('RECP_CREATE', 'RECP_UPDATE', 'RECP_RATE_ADJUST', 'RECP_REVERSE')
    and gt.application_id = 222
    and gt.event_id = app.event_id
    and dist.source_table = 'RA' 
    and dist.source_id = app.receivable_application_id
    and app.set_of_books_id = sob.set_of_books_id
    and DECODE(app.acctd_amount_applied_to, 0, DECODE(app.acctd_amount_applied_from, 0, 'N', 'Y'), 'N') = 'Y'
    and app.org_id = osp.org_id(+)
    and app.cash_receipt_id = cr.cash_receipt_id
    and app.cash_receipt_history_id = crh.cash_receipt_history_id(+)
    and app.applied_customer_trx_id = trx.customer_trx_id(+)
    and dist.source_type IN ('REC', 'OTHER ACC', 'ACC', 'BANK_CHARGES', 'ACTIVITY', 'FACTOR',
                             'REMITTANCE', 'TAX', 'DEFERRED_TAX', 'UNEDISC', 'EDISC', 'CURR_ROUND', 'SHORT_TERM_DEBT',
                             'EXCH_LOSS', 'EXCH_GAIN', 'EDISC_NON_REC_TAX', 'UNEDISC_NON_REC_TAX', 'UNAPP')
    and nvl(app.amount_applied_from,0) = 0 
    and nvl(app.amount_applied,0) = 0
    and app.posting_control_id = -3
    and app.gl_date between sysdate-30 and sysdate+30
    and rownum <= 5
)",1474419.1 ,"You are running into issue reported in Note 1474419.1 - AR_00233 Receipts Workbench Issue: Create Accounting Program Fails For Receipts With Error: ORA-01476 divisor is equal to zero


Action Plan:
----------------
1. Run script AR_DFS_RCT_ZERO_DIV.sql

Parameters:

1) p_org_id: <ORG_ID>
2) p_user_id: <USER_ID>
3) p_resp_id: <RESP_ID>
4) p_debug_mode: N
5) p_email_id: <EMAIL_ID>
6) p_run_mode: SEL
7) p_low_rec_id: <LOW_CR_ID>
8) p_high_rec_id: <HIGH_CR_ID>
9) p_start_gl_date: leave blank
10) p_end_gl_date: leave blank
11) p_seq_no: leave blank

2. Output file will be emailed showing records and p_seq_no, run Run script AR_DFS_RCT_ZERO_DIV.sql

Parameters:

1) p_org_id: <ORG_ID>
2) p_user_id: <USER_ID>
3) p_resp_id: <RESP_ID>
4) p_debug_mode: N
5) p_email_id: <EMAIL_ID>
6) p_run_mode: FIX
7) p_low_rec_id: leave blank
8) p_high_rec_id: leave blank
9) p_start_gl_date: leave blank
10) p_end_gl_date: leave blank
11) p_seq_no: <SEQ NO FROM OUTPUT OF FILE IN STEP 1>

commit;

3. Rerun Create Accounting.",AR,Receipt(s) failing with ORA-01476 error.,Identified Receipt(s) wherein Create Accounting fails with ORA-01476: divisor is equal to zero.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,"This type of data corruption causes errors when running Create Accounting. If Create Accounting cannot be run against a receipt, then the receipt cannot post, and the period cannot be closed.",EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_ORPHAN_XLA,"select source_id SOURCE_ID, 
       user_name USER_NAME, 
       resp_id RESP_ID
from
(select xte.source_id_int_1 source_id, 
        users.user_name, 	
       (
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
   from xla_events xe, 
        xla_transaction_entities_upg xte, 
        fnd_user users
  where xe.created_by = users.user_id
    and xte.application_id = 222
    and xe.application_id = 222
    and xe.event_date between sysdate-30 and sysdate+30
    and xe.entity_id = xte.entity_id
    and xte.entity_code ='RECEIPTS'
    and xe.event_status_code <> 'P'
    and not exists
    (select 'x' 
       from ar_distributions_all dis, 
            ar_receivable_applications_all ra
      where ra.cash_receipt_id = xte.source_id_int_1
        and dis.source_table = 'RA'
        and dis.source_id = ra.receivable_application_id
        and ra.posting_control_id = -3
        and ra.event_id = xe.event_id
     union
     select 'x' 
       from ar_distributions_all dis, 
            ar_cash_receipt_history_all crh
      where crh.cash_receipt_id = xte.source_id_int_1
        and dis.source_table = 'CRH'
        and dis.source_id = crh.cash_receipt_history_id
        and crh.posting_control_id = -3
        and crh.event_id = xe.event_id
     union
     select 'x' 
      from ar_distributions_all dis, 
           ar_misc_cash_distributions_all mcd
      where mcd.cash_receipt_id = xte.source_id_int_1
        and dis.source_table = 'MCD'
        and dis.source_id = mcd.misc_cash_distribution_id
        and mcd.posting_control_id = -3
        and mcd.event_id = xe.event_id
    )
    and rownum <= 5
)
",549020.1,"A monitoring sensor has identified the issue described in Doc Id. 549020.1.  Please run the queries provided in the document and upload the output in an Excel Spreadsheet.

An engineer will review the data and provide an action plan accordingly.",AR,Identified orphan XLA records for receipts.,Found record(s) in XLA tables for receipt events that do not exist in core AR tables.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Receipts have records in Subledger tables but not in Receivables tables. These records cannot be posted and will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_S_00011_RCT_CRH_GLDATE_TIMESTAMP,"select cash_receipt_id CASH_RECEIPT_ID,
user_name USER_NAME,
resp_id RESP_ID
from
(select cr.cash_receipt_id,
users.user_name user_name,
(
SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222
) resp_id
from ar_cash_receipts_all cr,
ar_cash_receipt_history_all crh,
xla_transaction_entities_upg t,
xla_events e,
fnd_user users
where crh.created_by = users.user_id
and cr.cash_receipt_id = crh.cash_receipt_id
and crh.postable_flag = 'Y'
and crh.posting_control_id = -3
and t.application_id = 222
and t.ledger_id = cr.set_of_books_id
and t.entity_code = 'RECEIPTS'
and nvl(t.source_id_int_1,-99) = cr.cash_receipt_id
and t.entity_id = e.entity_id
and e.application_id = 222
and crh.gl_date <> e.event_date
and trunc(crh.gl_date) = trunc(e.event_date)
AND crh.gl_date between sysdate-30 and sysdate+30
union
select cr.cash_receipt_id,
users.user_name user_name,
(
SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222
) resp_id
from ar_cash_receipts_all cr,
ar_receivable_applications_all ra,
xla_transaction_entities_upg t,
xla_events e,
fnd_user users
where ra.created_by = users.user_id
and cr.cash_receipt_id = ra.cash_receipt_id
and ra.posting_control_id = -3
and t.application_id = 222
and t.ledger_id = cr.set_of_books_id
and t.entity_code = 'RECEIPTS'
and nvl(t.source_id_int_1,-99) = cr.cash_receipt_id
and t.entity_id = e.entity_id
and e.application_id = 222
and ra.gl_date <> e.event_date
and trunc(ra.gl_date) = trunc(e.event_date)
and ra.gl_date between sysdate-30 and sysdate+30
union
select cr.cash_receipt_id,
users.user_name user_name,
(
SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222
) resp_id
from ar_cash_receipts_all cr,
ar_misc_cash_distributions_all mcd,
xla_transaction_entities_upg t,
xla_events e,
fnd_user users
where mcd.created_by = users.user_id
and cr.cash_receipt_id = mcd.cash_receipt_id
and mcd.posting_control_id = -3
and t.application_id = 222
and t.ledger_id = cr.set_of_books_id
and t.entity_code = 'RECEIPTS'
and nvl(t.source_id_int_1,-99) = cr.cash_receipt_id
and t.entity_id = e.entity_id
and e.application_id = 222
and mcd.gl_date <> e.event_date
and trunc(mcd.gl_date) = trunc(e.event_date)
and mcd.gl_date between sysdate-30 and sysdate+30
)
where rownum <= 5",1263294.1,"This issue is documented in Note 1263294.1 AR_S_00011 Receipts Posting Issue: Unprocessed Cleared Receipt Has AR_CASH_RECEIPT_HISTORY_ALL.EVENT_ID = NULL.  

Please run the query provided in the note and upload the output file in an Excel Spreadsheet.  An engineer will review the data and provide an action plan.",AR,Receipt has GL Date with Time Stamp in ar_cash_receipt_history_all.,Identified receipts that have time stamp in the GL Date values in AR_CASH_RECEIPT_HISTORY_ALL.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,"The GL date format incorrectly includes a timestamp. This prevents a successful run of Create Accounting, and receipt cannot post to the General Ledger, which in turn prevents you from closing the period.",EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_00057_TRX_ORPHAN_XLA,"select source_id SOURCE_ID,
user_name USER_NAME,
resp_id RESP_ID
from
(select distinct xte.source_id_int_1 SOURCE_ID,
users.user_name USER_NAME,
(
SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222
) resp_id
from xla_events xe,
xla_transaction_entities_upg xte,
fnd_user users
where xe.created_by = users.user_id
and xte.entity_code = 'TRANSACTIONS'
and xte.entity_id = xe.entity_id
and xte.application_id = 222
and xe.application_id = 222
and xe.event_date between sysdate-30 and sysdate+30
and xe.event_status_code not in ('P','I','Z')
and xte.upg_batch_id is NULL
and xte.upg_source_application_id is NULL
and not exists
(select 'x'
from ra_cust_trx_line_gl_dist_all dist2, ra_customer_trx_all trx
where trx.customer_trx_id = xte.source_id_int_1
and dist2.customer_trx_id = trx.customer_trx_id
and dist2.account_class = 'REC'
and dist2.latest_rec_flag = 'Y'
and dist2.account_set_flag = 'Y'
and trx.complete_flag = 'Y')
and not exists
(select 'x'
from ra_cust_trx_line_gl_dist_all
where customer_trx_id = xte.source_id_int_1
and event_id = xe.event_id
union
select 'x'
from ar_receivable_applications_all
where customer_trx_id = xte.source_id_int_1
and event_id = xe.event_id
union
select 'x'
from ar_receivable_applications_all
where applied_customer_trx_id = xte.source_id_int_1
and event_id = xe.event_id
)
)
where rownum <= 5",549020.1,"An automated process has detected that this issue is related to:

Period Close: Unprocessed Events Exist in SLA but No Unposted Items Exist in Receivables (Doc ID 549020.1)

Please run the queries provided and upload the output in an Excel Spreadsheet.   An engineer will review the results and update the SR with an action plan.",AR,Identified orphan XLA records for transactions.,Found record(s) in XLA tables for transaction events that do not exist in core AR tables.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Transactions have records in Subledger tables but not in Receivables tables. These records cannot be posted and will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_00322_TRX_NEG_EXCH_RATE,"select customer_trx_id CUSTOMER_TRX_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(select distinct gld.customer_trx_id,
        users.user_name,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
   from ra_cust_trx_line_gl_dist_all gld,
        ra_customer_trx_all  ct,
        gl_ledgers gl,
        fnd_user users    
  where ct.created_by = users.user_id
    and gld.customer_trx_id = ct.customer_trx_id
    and ct.exchange_rate is not null
    and sign(ct.exchange_rate) < 0
    and ct.set_of_books_id = gl.ledger_id
    and ct.invoice_currency_code <> gl.currency_code
    and gld.account_set_flag = 'N'
    and gld.account_class = 'REC'
    and gld.latest_rec_flag = 'Y'
    and gld.posting_control_id = -3
    and sign(gld.acctd_amount) <> sign(gld.amount)
    and gld.gl_date between sysdate-30 and sysdate+30
    and not exists 
    (select 'x'
       from ra_cust_trx_line_gl_dist gld_posted
      where gld_posted.posting_control_id <> -3
        and gld_posted.account_set_flag = 'N'
        and gld_posted.customer_trx_id = gld.customer_trx_id )
    and rownum <= 5
)",1912838.1,"This issue is documented in Note 1912838.1 AR_00322 Transactions Workbench Issue: Exchange Rate Value Is Populated Incorrectly With Negative Value.

In this note, you have the SQL to identify other transactions that display the same type of corruption.  Please run the query and provide the output in an Excel Spreadsheet.  An engineer will review the data and provide an action plan.",AR,Transaction has negative exchange rate.,Identified transaction(s) in non-functional currency wherein the exchange rate is a negative value.,2,Oracle Receivables,TRNSACTION,,WEEK,SAT,Accounting to Financial Reports: Period Close,A negative exchange rate is an abnormal condition and causes GL distributions to be created incorrectly. Transactions with a negative exchange rate cannot post to General Ledger and will delay the period close process.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_ADJ_EVENTS_IN_ERROR_95308,"select user_resp USER_RESP,
org_id ORG_ID,
adjustment_number ADJUSTMENT_NUMBER,
adjustment_id ADJUSTMENT_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number ADJUSTMENT_NUMBER,
xlt.source_id_int_1 ADJUSTMENT_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 95308
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'ADJUSTMENTS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)
",2798817.1,"The GL accounts being accounted needs to be valid and enabled accounts.

1) Enter and enable account
    Responsibility: Receivables 
    Navigation: Setup > Financials > Accounting >  GL Accounts
    Query up the account and ensure that it is Enabled, not end-dated and allows posting.
   Save.

2) Run Create Accounting to account and post the items into this period. 
    Responsibility: Receivables
    Navigation: Control > Request > Run
    Submit 'Create Accounting' or 'Submit Accounting'.",AR,"Adjustment Events in error, invalid account.","Identified adjustment Events in error, invalid account.",2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SUN,Accounting to Financial Reports: Period Close,ADJ_EVENTS_IN_ERROR_95308,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_PRIMARY_RECEIPT_METHOD_END_DATED,"select cust_receipt_method_id CUST_RECEIPT_METHOD_ID,
customer_id CUSTOMER_ID,
site_use_id SITE_USE_ID,
receipt_method_id RECEIPT_METHOD_ID
from (select cust_receipt_method_id,
customer_id,
site_use_id,
receipt_method_id
from ra_cust_receipt_methods rm
where rm.primary_flag = 'Y'
and rm.end_date is not null
and exists (select 'Y'
from ra_cust_receipt_methods rm2
where rm2.primary_flag = 'Y'
and rm2.end_date is not null
and rm2.customer_id = rm.customer_id
and nvl(rm2.site_use_id, rm.site_use_id) = rm.site_use_id))
where rownum <= 5",2396076.1,"If the receipt methods listed by the SQL are not records that you use, then the absence of a Primary record is not relevant. However, if you do use the receipt methods listed, the absence of a primary record may cause issues when you create transactions/receipts.

A support analyst will review the data and will provide you a datafix script.",AR,Found end-dated primary receipt methods,Identified receipt method records marked as primary that are end-dated.,3,Oracle Receivables,RECEIPTS,ARXRW,WEEK,SAT,O2C: Credit to Cash,"End-dated primary receipt methods cause delays in the shipment of orders, because the payment is held up in error.",EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_REV_RECONCILED_CM,"select cash_receipt_id CASH_RECEIPT_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select cr.cash_receipt_id CASH_RECEIPT_ID,
       user_name USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from ar_cash_receipts_all cr, 
       fnd_user users
 where cr.created_by = users.user_id
   and cr.creation_date >=  sysdate - 60
   and status = 'REV'
   and reversal_category = 'REV'
   and exists (select 1 
                 from CE_STATEMENT_RECONCILS_ALL csr, 
                      AR_CASH_RECEIPT_HISTORY_ALL crh
                where csr.REFERENCE_TYPE = 'RECEIPT'
                  and csr.REFERENCE_ID = crh.cash_receipt_history_id
                  and csr.STATUS_FLAG = 'M'
                  and csr.CURRENT_RECORD_FLAG = 'Y'
                  and crh.cash_receipt_id = cr.cash_receipt_id)
   and rownum <= 5
)",2488932.1,A support analyst will review the data and will provide the datafix script.,AR,Reversed Receipt is Reconciled with a Bank Statement Line,Discrepancy found wherein a receipt reversed in AR has rows that are reconciled with a bank statement line in Cash Management.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Reconciliation,A receipt is reversed in Receivables and yet it incorrectly has rows reconciled with a bank statement line in Cash Management. This discrepancy will cause reconciliation issues between Cash Management and Receivables.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_GLD_NULL_EVENT_ID,"select customer_trx_id CUSTOMER_TRX_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select distinct ct.customer_trx_id CUSTOMER_TRX_ID, 
       users.user_name USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from ra_cust_trx_line_gl_dist_all gld,
       ra_customer_trx_all ct,
       ra_cust_trx_types_all ctt,
       fnd_user users
 where ct.created_by = users.user_id
   and ct.customer_trx_id = gld.customer_trx_id
   and ctt.cust_trx_type_id = ct.cust_trx_type_id
   and ctt.post_to_gl = 'Y'
   and gld.posting_control_id = -3
   and gld.account_set_flag = 'N'
   and gld.event_id is null  
  and gld.gl_date between sysdate-30 and sysdate+30
  and rownum <= 5
)",798360.1,"This issue might be related to  Note 798360.1  AR_00046 Transactions Workbench API Issue: AR_INVOICE_API_PUB and AR_CREDIT_MEMO_API_PUB does not Create All the Required Events in XLA_EVENTS.

An engineer will review the data and provide an update accordingly.",AR,Transactions with Null EVENT_ID,Transactions with null EVENT_ID exist in RA_CUST_TRX_LINE_GL_DIST_ALL.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Transaction distributions have incomplete data which causes Accounting program to fail for these Transactions. This will prevent you from closing the General Ledger Period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_ADJ_EVENTS_IN_ERROR_0,"select user_resp USER_RESP,
org_id ORG_ID,
adjustment_number ADJUSTMENT_NUMBER,
adjustment_id ADJUSTMENT_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number ADJUSTMENT_NUMBER,
xlt.source_id_int_1 ADJUSTMENT_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 0
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'ADJUSTMENTS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)
",2397667.1,"To troubleshoot this issue we require some more information.
Please run the Adjustment Analyzer from Doc Id 2069916.1, using the ""Key values:"" in previous update as parameters.

Upload the adjustment analyzer output to the SR for the engineer to review.

Regards,
Oracle Support",AR,Adjustment Events in error.,Identified adjustment events in error.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Adjustment events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_EVENTS_IN_ERROR_0,"select user_resp USER_RESP,
org_id ORG_ID,
trx_number TRX_NUMBER,
customer_trx_id CUSTOMER_TRX_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number TRX_NUMBER,
xlt.source_id_int_1 CUSTOMER_TRX_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 0
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'TRANSACTIONS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)",2396898.1,"To troubleshoot this issue we require some more information.
Please run the Transaction Analyzer from Doc Id  2058269.1, using the ""Key values:"" in previous update as parameters.

Upload the transaction analyzer output to the SR for the engineer to review.",AR,Transaction Events in error.,Identified transaction events in error.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Transaction events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_EVENTS_IN_ERROR_95308,"select user_resp USER_RESP,
org_id ORG_ID,
trx_number TRX_NUMBER,
customer_trx_id CUSTOMER_TRX_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number TRX_NUMBER,
xlt.source_id_int_1 CUSTOMER_TRX_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 95308
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'TRANSACTIONS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)
",2798817.1 ,"The GL accounts being accounted needs to be valid and enabled accounts.

1) Enter and enable account
    Responsibility: Receivables 
    Navigation: Setup > Financials > Accounting >  GL Accounts
    Query up the account and ensure that it is Enabled, not end-dated and allows posting.
   Save.

2) Run Create Accounting to account and post the items into this period. 
    Responsibility: Receivables
    Navigation: Control > Request > Run
    Submit 'Create Accounting' or 'Submit Accounting'.",AR,"Transaction Events in error, invalid account.",Identified transaction events in error with invalid account.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SUN,Accounting to Financial Reports: Period Close,Transaction events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_APP_UNAPP_DIFF_EVENT_ID,"select cash_receipt_id CASH_RECEIPT_ID, 
       app_event_id APP_EVENT_ID,
       unapp_event_id UNAPP_EVENT_ID, 
       unapp_gl_posted_date UNAPP_GL_POSTED_DATE,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select distinct ra.cash_receipt_id CASH_RECEIPT_ID, 
       ra.event_id APP_EVENT_ID,
       ra_unapp.event_id UNAPP_EVENT_ID, 
       ra_unapp.gl_posted_date UNAPP_GL_POSTED_DATE,
       users.user_name USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from ar_receivable_applications_all ra_unapp,
       ar_receivable_applications_all ra,
       ar_distributions_all ard_unapp, 
       fnd_user users
 where ra.created_by = users.user_id 
   and ra_unapp.status = 'UNAPP'
   and ra_unapp.cash_receipt_id = ra.cash_receipt_id
   and ra.status <> 'UNAPP'
   and ra_unapp.event_id <> ra.event_id
   and ra_unapp.gl_date = ra.gl_date
   and ra.posting_control_id <> -3
   and ra_unapp.posting_control_id = -3
   and ra_unapp.receivable_application_id = ard_unapp.source_id
   and ard_unapp.source_table = 'RA'
   and ard_unapp.source_id_secondary = ra.receivable_application_id
   and ra.gl_date between sysdate-30 and sysdate+30 
   and rownum <= 5
)",1550723.1,"This issue is related to AR_00258 Subledger Accounting: Subledger Period Close Exceptions Report Shows Unprocessed Receipt Events (Doc ID 1550723.1).  

An engineer will review the data and provide an update accordingly.",AR,Receipts have inconsistent EVENT_ID in APP and UNAPP Rows,Receipts have inconsistent EVENT_ID in APP and UNAPP Rows in AR_RECEIVABLE_APPLICATIONS_ALL.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Receipts with inconsistent accounting events will remain unaccounted and will prevent you from closing the period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_DUPLICATE_RECP_REVERSE,"select cash_receipt_id CASH_RECEIPT_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(select distinct cr.cash_receipt_id CASH_RECEIPT_ID,
        user_name USER_NAME,
        (
        SELECT min(responsibility_id)
        FROM fnd_responsibility resp
        WHERE application_id = 222
        ) resp_id
  from xla.xla_transaction_entities xte,
       ar_cash_receipts_all cr,
       ar_cash_receipt_history_all crh,
       fnd_user users
 where cr.created_by = users.user_id
   and xte.entity_code = 'RECEIPTS'
   and xte.application_id = 222
   and xte.source_id_int_1 = cr.cash_receipt_id
   and xte.ledger_id = cr.set_of_books_id
   and cr.cash_receipt_id = crh.cash_receipt_id
   and crh.status = 'REVERSED'
   and crh.gl_date between sysdate-30 and sysdate+30
   and 1 < (select count(*)
              from xla_events xe
             where xe.entity_id = xte.entity_id
               and xe.application_id = 222
               and xe.event_type_code = 'RECP_REVERSE'
            )
   and rownum <= 5
)",1576338.1,"This issue might be related to Receipts Workbench: Duplicate Entries for Receipts Posted to GL (Doc ID 1576338.1).
Please run the query provided in the Note and upload the output in an Excel Spreadsheet.

A support analyst will review the data and will provide the datafix script.",AR,Reversed Receipt has Multiple RECP_REVERSE Events,Multiple records will not be processed by Create Accounting,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,"Receipts have multiple Reversal events when only one should exist. This causes the accounting process to bypass the multiple events, which later get flagged as unaccounted and will prevent you from closing the period.",EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_EVENTS_IN_ERROR_95325,"select user_resp USER_RESP,
org_id ORG_ID,
trx_number TRX_NUMBER,
customer_trx_id CUSTOMER_TRX_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' || 
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number TRX_NUMBER,
xlt.source_id_int_1 CUSTOMER_TRX_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 95325
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'TRANSACTIONS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)
",2798161.1,"Period statuses are maintained separately between Receivables and General Ledger.
If the period in Receivables is open, and there are pending items to account, then the period in General Ledger should also be open.
All items in Receivables should be accounted and transferred to GL *before* the period is closed in General Ledger.

1) Re-open the period in GL
    Responsibility: General Ledger 
    Navigation: Setup > Open/Close
    Query up the period you are trying to post the transaction into, and re-open it.

2) Run Create Accounting to account and post the items into this period. 
    Responsibility: Receivables
    Navigation: Control > Request > Run
    Submit 'Create Accounting' or 'Submit Accounting'.",AR,"Transaction Events in error, GL Period not open.",Identified transaction events in error with GL period not open.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SUN,Accounting to Financial Reports: Period Close,Transaction events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_LLB_MISSING_UPG_METHOD_R12,"select customer_trx_id CUSTOMER_TRX_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select customer_trx_id CUSTOMER_TRX_ID, 
       user_name USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from ra_customer_trx_all ct, 
       fnd_user users
 where ct.created_by = users.user_id
   and ct.upgrade_method ='R12'
   and exists (select 1 
                 from ra_customer_trx_lines_all ln 
                where ln.customer_trx_id = ct.customer_trx_id
                and (ln.AMOUNT_DUE_REMAINING is null
                     or ln.ACCTD_AMOUNT_DUE_REMAINING is null
                     or ln.AMOUNT_DUE_ORIGINAL is null
                     or ln.ACCTD_AMOUNT_DUE_ORIGINAL is null 
                     )
              ) 
   and rownum <= 5   
)",1633149.1,This issue might be related to Transactions Workbench: Line Level Balances Are Not Being Correctly Populated for Transactions (Doc ID 1633149.1).   An engineer will review the data and provide an action plan accordingly.,AR,Line Level Balance Amounts are NULL,"During upgrade, line level balances were not set properly in RA_CUSTOMER_TRX_LINES_ALL.",2,Oracle Receivables,TRNSACTION,,WEEK,SAT,Accounting to Financial Reports: Reconciliation,"When instance has upgraded to R12 but the line level balance amounts were not set properly, errors will be raised during receipt application, and reports will show incorrect data.",EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_ADJ_UNBAL_DISTRIBUTION,"select adjustment_id ADJUSTMENT_ID,
user_name USER_NAME,
resp_id RESP_ID
from
(
select distinct adj.adjustment_id ADJUSTMENT_ID,
user_name USER_NAME,
(
SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222
) resp_id
from ar_adjustments_all adj,
fnd_user users
where adj.created_by = users.user_id
and adj.posting_control_id = -3
and nvl(adj.POSTABLE,'N') = 'Y'
and EXISTS (select 'x'
from ar_distributions_all
where source_table = 'ADJ'
and source_id = adj.adjustment_id
group by source_id
having (sum(nvl(acctd_amount_dr, 0)) <> sum(nvl(acctd_amount_cr, 0))
OR
sum(nvl(amount_dr, 0)) <> sum(nvl(amount_cr, 0))
)
)
and gl_date between sysdate-30 and sysdate+30
and rownum <= 5
)",1510914.1,"This issue is related to Note 1510914.1 Approved Adjustment Not Processing with Create Accounting.  

An engineer will review the data provided and update the SR with an action plan accordingly.",AR,Unbalanced Distributions for Adjustment,Unbalanced distributions for adjustment in AR_DISTRIBUTIONS_ALL where total of debit amounts <> total credit amounts.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Unbalanced distributions for adjustments will prevent you from closing the General Ledger Period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_DUPLICATE_CURRENT_RECORD_FLAG,"select cash_receipt_id CASH_RECEIPT_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select cash_receipt_id CASH_RECEIPT_ID, 
       fnd.USER_NAME USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from AR_CASH_RECEIPTS_ALL rct, 
       FND_USER fnd
 where rct.created_by = fnd.USER_ID
   and rct.creation_date between sysdate-30 and sysdate+30
   and exists (select 1 
         from AR_CASH_RECEIPT_HISTORY_ALL crh
         where crh.current_record_flag = 'Y'
         and rct.cash_receipt_id = crh.cash_receipt_id
         group by crh.cash_receipt_id 
         having COUNT(*) > 1 ) 
  and rownum <= 5
)",1569813.1,This issue is related to Credit Card Receipts Fail Settlement and Create a Duplicate Receipt with a Status Back to 'CONFIRMED' (Doc ID 1569813.1).  An engineer will review the data and provide an action plan accordingly.,AR,Receipts with Multiple Current Rows,Receipt has multiple records with AR_CASH_RECEIPT_HISTORY_ALL.CURRENT_RECORD_FLAG = 'Y'.,2,Oracle Receivables,RECEIPTS,,WEEK,SAT,Accounting to Financial Reports: Reconciliation,"When a receipt has multiple ""Current"" records, it may not be queried in Receipts form, it displays incorrectly in many reports, and could potentially have incorrect accounting.",EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_NULL_EVENT_ID,"select cash_receipt_id CASH_RECEIPT_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select crh.cash_receipt_id CASH_RECEIPT_ID, 
       users.USER_NAME USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from AR_CASH_RECEIPT_HISTORY_ALL crh, 
       fnd_user users
 where crh.created_by = users.user_id
   and crh.posting_control_id = -3 
   and nvl(crh.postable_flag, 'Y') = 'Y'
   and crh.event_id is null
   and crh.gl_date between sysdate-30 and sysdate+30 
   and rownum <= 5
union
select ra.cash_receipt_id, 
       users.USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from ar_receivable_applications_all ra, 
       fnd_user users
 where ra.created_by = users.user_id 
   and ra.application_type = 'CASH'
   and ra.posting_control_id = -3 
   and ra.event_id is null
   and ra.gl_date between sysdate-30 and sysdate+30 
   and rownum <= 5
union
select mcd.cash_receipt_id CASH_RECEIPT_ID, 
       users.USER_NAME USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
from   ar_misc_cash_distributions_all mcd, 
       fnd_user users
where  mcd.created_by = users.user_id 
  and mcd.posting_control_id = -3 
  and mcd.event_id is null 
  and mcd.gl_date between sysdate-30 and sysdate+30
  and rownum <= 5
)",2258863.1,"This issue is related to Note 2258863.1 AR_S_00014 A Receipt Application with EVENT_ID Does Not Exist in the XLA_EVENTS Table.  

An engineer will review the data and provide an update accordingly.",AR,Receipts with Null EVENT_ID,"Receipts with null EVENT_ID exist in AR_CASH_RECEIPT_HISTORY_ALL, AR_RECEIVABLE_APPLICATIONS_ALL or AR_MISC_CASH_DISTRIBUTIONS_ALL.",2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Receipts have invalid data which causes Accounting to fail for certain Receipts. This will prevent you from closing the General Ledger Period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_CMAPP_NULL_EVENT_ID,"select customer_trx_id CUSTOMER_TRX_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select ra.customer_trx_id CUSTOMER_TRX_ID, 
       user_name USER_NAME, 
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from ar_receivable_applications_all ra, 
       fnd_user users
 where ra.created_by = users.user_id
   and ra.posting_control_id = -3
   and ra.application_type = 'CM'
   and ((ra.event_id is not null
         and not exists (select 1
                           from xla_events xe
                          where ra.event_id = xe.event_id
                            and xe.application_id = 222 ) 
         )
         or ra.event_id is null)
   and ra.gl_date between sysdate-30 and sysdate+30
   and rownum <= 5
)",1080037.1,"This issue might be related to AR_00045 Create Accounting Issue: Create Accounting Not Selecting CM Applications When Applied Using AR_CM_API_PUB.apply_on_account (Doc ID 1080037.1).  

An engineer will review the data and provide an update accordingly.",AR,CM Applications with Null EVENT_ID,CM Applications with NULL event_id in AR_RECEIVABLE_APPLICATIONS_ALL.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Credit memo applications have incomplete data which causes accounting entries to not be created properly. This will prevent you from closing the General Ledger Period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_EVENTS_IN_ERROR_0,"select user_resp USER_RESP,
org_id ORG_ID,
rct_number RCT_NUMBER,
cash_receipt_id CASH_RECEIPT_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number RCT_NUMBER,
xlt.source_id_int_1 CASH_RECEIPT_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 0
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'RECEIPTS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)",2397643.1,"To troubleshoot this issue we require some more information.
Please run the Receipt Analyzer from Doc Id 2089720.1, using the ""Key values:"" in previous update as parameters.

Upload the receipt analyzer output to the SR for the engineer to review.",AR,Receipt Events in error.,Identified receipt events in error.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Receipt events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_ACCRULE_DUR_GLD_MISMATCH,"select customer_trx_id CUSTOMER_TRX_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select distinct ct.customer_trx_id CUSTOMER_TRX_ID, 
       user_name USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from ra_customer_trx_all ct,
       ra_cust_trx_types_all ctt,
       ra_cust_trx_line_gl_dist_all gld_rec,
       fnd_user users
 where ct.created_by = users.user_id 
   and ct.invoicing_rule_id in (-2,-3)
   and ctt.cust_trx_type_id = ct.cust_trx_type_id
   and ctt.type = 'CM'
   and ct.customer_trx_id = gld_rec.customer_trx_id
   and gld_Rec.account_class = 'REC'
   and gld_rec.account_set_flag = 'N'
   and gld_rec.latest_rec_flag = 'Y' 
   and gld_rec.gl_date between sysdate-30 and sysdate+30
   and exists (select 'x'
                 from ra_customer_trx_lines_all ctl ,
                      ra_cust_trx_line_gl_dist_all gld_rev
                where ctl.customer_trx_id = ct.customer_trx_id
                  and ctl.line_type = 'LINE'
                  and ctl.customer_trx_id = gld_rev.customer_trx_id
                  and ctl.customer_trx_line_id = gld_rev.customer_trx_line_id
                  and gld_rev.account_class = 'REV'
                  and gld_rev.account_set_flag = 'N'
                group by ctl.customer_trx_id, ctl.customer_trx_line_id,
                        ctl.accounting_rule_id, ctl.accounting_rule_duration
               having count(distinct gld_rev.original_gl_date) <> ctl.accounting_rule_duration) 
   and rownum <= 5
)",2011958.1,"This issue might be related to Note 2011958.1 Credit Memo Accounting Durations Not Correct For Invoice With Rules REV/UNEARN Not Evenly Distributed. 

An engineer will review the data and provide an update accordingly.",AR,Discrepancy in Revenue Recognition Duration for a Credit Memo,The number of distributions created to recognize revenue for a Credit Memo does not match the Accounting Rule Duration specified.,2,Oracle Receivables,TRNSACTION,REVRC,WEEK,SAT,Accounting to Financial Reports: Reconciliation,Revenue Recognition for Credit Memo does not match the Accounting Rule duration specified. This will impact revenue accounting and may cause reconciliation issues.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_MISSING_PS,"SELECT customer_trx_id CUSTOMER_TRX_ID,
user_name USER_NAME,
resp_id RESP_ID
FROM (
SELECT /*+ ordered first rows use_nl(ct, ctt, u) */
ct.customer_trx_id,
u.user_name,
(
SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222
) resp_id
FROM
ra_cust_trx_line_gl_dist_all gld,
ra_customer_trx_all ct,
ra_cust_trx_types_all ctt,
fnd_user u
WHERE gld.gl_date between sysdate-90 AND sysdate+15
AND gld.account_class = 'REC'
AND gld.account_set_flag = 'N'
AND ct.customer_trx_id = gld.customer_trx_id
AND ct.complete_flag = 'Y'
AND ctt.cust_trx_type_id = ct.cust_trx_type_id
AND ctt.org_id = ct.org_id
AND ctt.type IN ('INV', 'DM', 'CM', 'CB')
AND ctt.accounting_affect_flag = 'Y'
AND u.user_id = ct.created_by
AND NOT EXISTS (
SELECT 'x' FROM ar_payment_schedules_all ps
WHERE ps.customer_trx_id = ct.customer_trx_id)
AND rownum <= 5)",2044211.1,"This issue might be related to Note 2044211.1 AR_S_00003 Transactions Workbench Issue: R12.1.1: Data Missing in Payment Schedule and Receivable Application Tables For Credit Memo.

Please run the query provided and upload the results in an Excel Spreadsheet.

A support analyst will review the data and will provide you a datafix script.",AR,Transaction missing Payment Schedules record(s),Identified Transaction without record(s) in AR_PAYMENT_SCHEDULES_ALL.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Reconciliation,Transaction missing payment schedule is missing balances and will cause AR reconciliation issues for period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_ADJ_EVENTS_IN_ERROR_95325,"select user_resp USER_RESP,
org_id ORG_ID,
adjustment_number ADJUSTMENT_NUMBER,
adjustment_id ADJUSTMENT_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number ADJUSTMENT_NUMBER,
xlt.source_id_int_1 ADJUSTMENT_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 95325
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'ADJUSTMENTS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)
",2798161.1,"Period statuses are maintained separately between Receivables and General Ledger.
If the period in Receivables is open, and there are pending items to account, then the period in General Ledger should also be open.
All items in Receivables should be accounted and transferred to GL *before* the period is closed in General Ledger.

1) Re-open the period in GL
    Responsibility: General Ledger 
    Navigation: Setup > Open/Close
    Query up the period you are trying to post the adjustment into, and re-open it.

2) Run Create Accounting to account and post the items into this period. 
    Responsibility: Receivables
    Navigation: Control > Request > Run
    Submit 'Create Accounting' or 'Submit Accounting'.",AR,"Adjustment Events in error, GL Period not open.",Identified adjustment events in error with GL period not open.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SUN,Accounting to Financial Reports: Period Close,Adjustment events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_HZ_PERSON_PROFILE_MULTIPLE_ACTIVE,"select hpp.PARTY_ID PARTY_ID, 
       hpp.PERSON_NAME PERSON
  from HZ_PARTIES hp, 
       HZ_PERSON_PROFILES hpp 
 where hp.PARTY_ID = hpp.PARTY_ID 
   and hpp.EFFECTIVE_END_DATE is null
   and rownum <= 5
 group by hpp.PARTY_ID, hpp.PERSON_NAME
having count(*) > 1",2490759.1,A support analyst will review the data and will provide you a datafix script.,AR,Multiple Active Person Profile,HZ_PERSON_PROFILES has multiple records for a PARTY_ID where EFFECTIVE_END_DATE is NULL.,4,Oracle Receivables,CUSTOMERS,CUSTFORM,WEEK,SAT,O2C: Credit to Cash,"Multiple active profiles will cause the Customer Form to raise errors such as ORA-01427 while viewing or updating. Additionally, many reports will show duplicate records.",EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_EVENTS_IN_ERROR_95308,"select user_resp USER_RESP,
org_id ORG_ID,
rct_number RCT_NUMBER,
cash_receipt_id CASH_RECEIPT_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number RCT_NUMBER,
xlt.source_id_int_1 CASH_RECEIPT_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 95308
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'RECEIPTS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)
",2798817.1,"The GL accounts used by the receipt need to be valid and enabled.

1) Enter and enable account
    Responsibility: Receivables 
    Navigation: Setup > Financials > Accounting >  GL Accounts
    Query up the account and ensure that it is Enabled, not end-dated and allows posting.
    Save.

2) Run Create Accounting to account and post the items into this period. 
    Responsibility: Receivables
    Navigation: Control > Request > Run
    Submit 'Create Accounting' or 'Submit Accounting'.",AR,"Receipt events in error, invalid account.",Identified receipt events in error with invalid account.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SUN,Accounting to Financial Reports: Period Close,Receipt events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_ADJ_NULL_EVENT_ID,"select customer_trx_id CUSTOMER_TRX_ID,
       adjustment_id ADJUSTMENT_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select distinct adj.customer_trx_id CUSTOMER_TRX_ID, 
       adj.adjustment_id ADJUSTMENT_ID, 
       user_name USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
	) resp_id
  from ar_adjustments_all adj, 
       fnd_user users
 where adj.created_by = users.user_id
   and posting_control_id = -3 
   and nvl(postable,'N') = 'Y' 
   and event_id is null
   and gl_date between sysdate-30 and sysdate+30
   and rownum <= 5
)",1513455.1,"This issue might be related to  Note 1513455.1  AR_00040 Create Accounting Issue: Adjustments Applied to Invoice With Post To GL = N has Null Event ID.  

An engineer will review the data and provide an action plan accordingly.",AR,Adjustments with Null EVENT_ID,Adjustments with null EVENT_ID exist in AR_ADJUSTMENTS_ALL.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Adjustments have incomplete data which causes accounting entries to not be created properly. This will prevent you from closing the General Ledger Period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_CMAPP_UNBAL_DISTRIBUTION,"select customer_trx_id CUSTOMER_TRX_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select distinct ra.customer_trx_id CUSTOMER_TRX_ID, 
       user_name USER_NAME,
	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from AR_RECEIVABLE_APPLICATIONS_ALL ra, 
       FND_USER users
 where ra.created_by = users.user_id 
   and ra.posting_control_id = -3 
   and ra.APPLICATION_TYPE = 'CM'
   and EXISTS (select 'x'
                 from ar_distributions_all
                where source_table = 'RA'
                  and source_id = ra.receivable_application_id 
                group by source_id
               having (sum(nvl(acctd_amount_dr, 0)) <> sum(nvl(acctd_amount_cr, 0))
                       OR 
                       sum(nvl(amount_dr, 0)) <> sum(nvl(amount_cr, 0)) 
                       )
              )
   and ra.gl_date between sysdate-30 and sysdate+30
   and rownum <= 5
)",1604314.1,"This issue is related to Note 1604314.1 GDF: Create Accounting Fails to Pick Up Some Credit Memos Due to Missing Distributions in AR Tables.  

An engineer will review the data and provide an update accordingly.",AR,Unbalanced Distributions for CM Application,Unbalanced Distributions for CM Application in AR_DISTRIBUTIONS_ALL where  total of Debit amounts <> total Credit amounts.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Period Close,Unbalanced distributions for credit memo applications will prevent you from closing the General Ledger Period.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_RCT_EVENTS_IN_ERROR_95325,"select user_resp USER_RESP,
org_id ORG_ID,
rct_number RCT_NUMBER,
cash_receipt_id CASH_RECEIPT_ID,
gl_date GL_DATE,
error_message ERROR_MESSAGE
from
(select 'User Name=' || users.user_name || ', Responsibility ID=' ||
(SELECT min(responsibility_id)
FROM fnd_responsibility resp
WHERE application_id = 222) user_resp,
xlt.SECURITY_ID_INT_1 ORG_ID,
xlt.transaction_number RCT_NUMBER,
xlt.source_id_int_1 CASH_RECEIPT_ID,
trunc(xe.event_date) GL_DATE,
xae.encoded_msg ERROR_MESSAGE
from xla_accounting_errors xae,
xla_transaction_entities_upg xlt,
xla_events xe,
fnd_user users
where xe.created_by = users.user_id
and xe.application_id = 222
and xae.application_id = 222
and xe.process_status_code = 'I'
and xae.message_number = 95325
and xae.event_id = xe.event_id
and xlt.entity_id = xe.entity_id
and xlt.entity_code = 'RECEIPTS'
and xe.event_date between sysdate-365 and sysdate
and rownum<= 5
)",2798161.1,"Period statuses are maintained separately between Receivables and General Ledger.
If the period in Receivables is open, and there are pending items to account, then the period in General Ledger should also be open.
All items in Receivables should be accounted and transferred to GL *before* the period is closed in General Ledger.

1) Re-open the period in GL
    Responsibility: General Ledger 
    Navigation: Setup > Open/Close
    Query up the period you are trying to post the Receipt into, and re-open it.

2) Run Create Accounting to account and account the items into this period. 
    Responsibility: Receivables
    Navigation: Control > Request > Run
    Submit 'Create Accounting' or 'Submit Accounting'.",AR,"Receipt Events in error, GL Period not open.",Identified receipt events in error with GL period not open.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SUN,Accounting to Financial Reports: Period Close,Receipt events in error will not successfully create accounting or transfer to GL. Such events will prevent the period from closing.,EBS Financials,EBS - Receivables
ME$EBS_FIN_AR_TRX_TAX_AMOUNT_LINES_GLD,"select customer_trx_id CUSTOMER_TRX_ID,
       user_name USER_NAME,
       resp_id RESP_ID
from
(
select distinct ln.customer_trx_id CUSTOMER_TRX_ID, 
       user_name USER_NAME,	(
	SELECT min(responsibility_id)
	FROM fnd_responsibility resp
	WHERE application_id = 222
        ) resp_id
  from RA_CUSTOMER_TRX_LINES_ALL ln, 
       RA_CUST_TRX_LINE_GL_DIST_ALL gl,
       FND_USER users
 where ln.created_by = users.user_id  
   and gl.customer_trx_id = ln.customer_trx_id 
   and ln.customer_trx_line_id = gl.customer_trx_line_id
   and ln.line_type= 'TAX'
   and gl.ACCOUNT_CLASS = 'TAX'
   and gl.POSTING_CONTROL_ID = -3
   and gl.ACCOUNT_SET_FLAG = 'N' 
   and ln.extended_amount <> gl.amount 
  and gl.gl_date between sysdate-30 and sysdate+30
   and rownum <= 5
)",2489228.1,"This issue might be related to Tax amount in RA_CUST_TRX_LINE_GL_DIST_ALL is not Equal to Line amount, or Amount is Zero (Doc ID 2489228.1).  

An engineer will review the data and provide an action plan accordingly.",AR,Mismatched Tax Amounts,Mismatched tax amount for transaction in RA_CUSTOMER_TRX_LINES_ALL and RA_CUST_TRX_LINE_GL_DIST_ALL.,2,Oracle Receivables,DATA,POST-RECON-DATA,WEEK,SAT,Accounting to Financial Reports: Reconciliation,Tax amounts recorded in Receivables tables are mismatched. This will cause incorrect tax reporting and may impact reconciliation and period close processes.,EBS Financials,EBS - Receivables
ME$EBS_CRM_SC_CSI_CHECKSETUP_SFMEVENTQUEUETHREADNUM,"select service_parameters service_parameters
from (SELECT substr(service_parameters, instr(service_parameters, 'XDP_DQ_INIT_NUM_THREADS')) service_parameters
FROM fnd_concurrent_queues 
where concurrent_queue_name = 'XDP_Q_EVENT_SVC' 
and substr(service_parameters, instr(service_parameters, 'XDP_DQ_INIT_NUM_THREADS')) != 'XDP_DQ_INIT_NUM_THREADS=1' and rownum<100)
",2349902.1,,XDP,SFM Event Queue Thread Number parameter not set to 1.,May intermittently cause transactions to be sent to Oracle Install Base out of order leading to many types of errors.,2,Oracle Service Fulfillment Manager,SUPPCODES,AOL_SYSADMIN,DAY,1,Service Request to Resolution,May intermittently cause transactions to be sent to Oracle Install Base out of order leading to many types of errors.,EBS CRM,EBS - Service and Contracts
ME$EBS_MFG_OM_DELIVERY_TRIP_STOP_ACTUAL_SHIP_DATE_MISMATCH_DTLS,"select name name,
delivery_id delivery_id
from
(select wnd.name,
wnd.delivery_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wsh_new_deliveries wnd,
wsh_delivery_legs wdl,
wsh_trip_stops wts
WHERE wnd.status_code = 'CL'
AND wts.last_update_date between sysdate-30 and sysdate
AND wnd.delivery_id = wdl.delivery_id
AND wdl.pick_up_stop_id = wts.stop_id
AND wts.stop_location_id = wnd.initial_pickup_location_id
AND wts.status_code in ('IT','CL')
AND wts.actual_departure_date <> nvl(wnd.initial_pickup_date,wts.actual_departure_date)
AND rownum < 2)",2352562.1,"SYMPTOM: Delivery Departure Date should match the actual Departure Date.

CAUSE:  Data corruption 

SOLUTION:  A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",WSH,Delivery Trip Stop Actual Ship Date Mismatch.,One transaction has been found but more could exist. A datafix is needed.,2,Oracle Shipping Execution,OM_INV_INT,SE-INT-OM,WEEK,SAT,O2C: Shipping,"Having mismatch Actual Ship Date between Delivery and Trip Stop may impact reporting on shipping documents that utilize the dates. The issue may also affect other process such as billings in cases where invoice are generated certain time after the shipment have completed. As a result, the billing cycle may occur too early or too late on client account.

Having correct Actual Ship Date reflected on Delivery and Trip Stop will ensure that correct reporting appears on shipping document and billing takes place as scheduled. Accurate reporting of shipment will be reflected on shipping documents that utilize the Actual Ship Date.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_RELEASED_DELIVERY_DETAILS_MOVE_ORDER_CLOSED_DTLS,"select source_header_number source_header_number,
delivery_detail_id delivery_detail_id,
move_order_line_id move_order_line_id
from
(SELECT wdd.source_header_number,
wdd.delivery_detail_id,
wdd.move_order_line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wsh_delivery_details wdd,
mtl_txn_request_lines mtrl
WHERE wdd.last_update_date between sysdate-30 and sysdate
AND wdd.source_code = 'OE'
AND wdd.released_status = 'S'
AND wdd.move_order_line_id = mtrl.line_id
AND mtrl.line_status = 5
AND   rownum < 2)",2352565.1,"SYMPTOM: After Pick Release the status of the Delivery Detail is ""Released To Warehouse"" but Move Order Does Not Exist.

CAUSE: Data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.

Refer to Delivery Detail Is ""Released to Warehouse"" but Move Order Does Not Exist or Is Closed (Doc ID 1583914.1).",WSH,Released Delivery Details where Move Order is Closed.,"Move order does not exist, user cannot transact it so Delivery Detail is stuck. One has been found but more could exist.",2,Oracle Shipping Execution,PICKRELEAS,SE-PR,WEEK,SAT,O2C: Order Management,"Check for detail lines showing status of “Released to Warehouse” but not able to progress due to move order line/number being closed or deleted. As a result, the picking process is not fully completed which makes the detail line not eligible for ship confirm.

Monitoring for detail lines stuck at status of “Release to Warehouse” will allow proactive response in providing proper fix and allow record to be eligible for ship confirm. This reduces the picking and shipment backlog which prevents shipping delays.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SHIPPED_DELIVERY_DETAILS_NOT_ELIGIBLE,"select source_header_number source_header_number,
source_header_id source_header_id,
status_code status_code
from
(select wdd.SOURCE_HEADER_NUMBER,
wdd.source_header_id,
wnd.status_code,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wsh_delivery_details wdd,
wsh_delivery_assignments wda,
wsh_new_deliveries wnd
WHERE wdd.source_code = 'OE'
AND wdd.last_update_date between sysdate-30 and sysdate
AND wdd.delivery_detail_id = wda.delivery_detail_id
AND wda.delivery_id = wnd.delivery_id
AND wdd.released_status = 'C'
AND wnd.status_code not in ('IT', 'CL'))",2355009.1,"SYMPTOM: Shipped Deliveries are not interfacing to Order Management and/or Inventory.

CAUSE: Data corruption.

SOLUTION: Delivery Details can still be interfaced even when the line is CLOSED. Try to run Interface Trip Stop.
Navigation: Shipping > Interfaces > Run > Single Request > Interface Trip Stop - SRS

If delivery does not interface, a data fix bug needs to be logged.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",WSH,Shipped Delivery Details Not Eligible for OM/INV Interfacing.,"If the shipped Deliveries are to be interfaced, then Invoicing and Inventory will not be updated.",2,Oracle Shipping Execution,OM_INV_INT,SE-INT-OM,WEEK,SAT,O2C: Shipping,"Shipped delivery not being picked up by OM/INV Interface process will prevent invoicing and inventory adjustment from being completed. As a result, this has a direct impact on closing financial books and conducting inventory cycle count.

Resolving the unprocessed shipping transactions prior to the end of the month will ensure that a smooth month end closing will be completed. As a result, financial books will be closed on time and inventory cycle count can be completed to balance inventory levels.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SHIPPED_DELIVERY_DETAILS_OWNED_OPEN_DELIVERY_DTLS,"select source_header_id source_header_id,
source_line_id source_line_id
from
(SELECT wdd.source_header_id,
wdd.source_line_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wsh_delivery_details wdd,
wsh_delivery_assignments wda,
wsh_new_deliveries wnd
WHERE wdd.source_code = 'OE'
AND wdd.last_update_date between sysdate-30 and sysdate
AND wdd.delivery_detail_id = wda.delivery_detail_id
AND wda.delivery_id = wnd.delivery_id
AND wdd.released_status = 'C'
AND wnd.status_code not in ('IT', 'CL')
AND   rownum < 2)",2352561.1,"SYMPTOM: Shipped Deliveries still show as open.

CAUSE: Data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",WSH,Shipped Delivery Details Owned by an Open Delivery.,One has been returned but more could exist. Such delivery may cause issues during Month End closing. A datafix is needed.,2,Oracle Shipping Execution,SHIP_CONFM,SE-SC,WEEK,SAT,O2C: Shipping,"Impacts sales orders fulfillment by reflecting delivery as open waiting to be processed when shipment has already been completed. Since the delivery is still open, the system may expect for ship confirm to be progress when this is not the actual case.

Proactively closing delivery where items have already been shipped will prevent potential double shipment of finished goods. This will result in correct tracking of active delivery that needs to be shipped.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SHIPPED_DELIVERY_DETAILS_SHIPPED_QTY_ZERO_DETAILS,"select source_header_id source_header_id,
source_line_id source_line_id,
delivery_detail_id delivery_detail_id
from
(SELECT wdd.source_header_id,
wdd.source_line_id,
wdd.delivery_detail_id,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate
FROM wsh_delivery_details wdd
WHERE wdd.source_code = 'OE'
AND wdd.last_update_date between sysdate-30 and sysdate
AND wdd.released_status = 'C'
AND nvl(wdd.shipped_quantity,0) = 0
AND wdd.oe_interfaced_flag = 'N')",2352550.1,"SYMPTOM: These are Shipped Delivery Line(s) with the quantity equal to zero.

CAUSE: Data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",WSH,Shipped Delivery Details Where Shipped Quantity is Zero.,The Shipped Delivery Line(s) should not have a quantity of zero. A datafix is needed.,2,Oracle Shipping Execution,OM_INV_INT,SE-INT-OM,WEEK,SAT,O2C: Shipping,"Having shipped delivery details with zero shipped quantity may cause ship confirm process to fail. As a result, shipment will be delayed along with generating an invoice and decremented inventory.

Correcting shipped quantity with a valid quantity will ensure that ship confirm is completed as scheduled and prevent shipment backlog.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SO_LN_DELIVERY_DETAIL_SCHED_DATE_MISMATCH_DTLS,"select header_id header_id,
line_number line_number
from
(SELECT oeh.header_id,
oel1.line_number,
TO_DATE (sysdate-7, 'DD-MON-YYYY') startdate,
TO_DATE (sysdate-365, 'DD-MON-YYYY') p_Start_Date,
TO_DATE (sysdate, 'DD-MON-YYYY') p_End_Date
FROM wsh_delivery_details wsh,
oe_order_lines_all oel1,
oe_order_headers_all oeh,
hr_operating_units ou
WHERE oeh.header_id = oel1.header_id
AND oel1.last_update_date between sysdate-30 and sysdate
AND oel1.org_id = ou.organization_id
AND oel1.open_flag = 'Y'
AND nvl(oel1.cancelled_quantity,0)=0
AND nvl(oel1.shipping_interfaced_flag,'Y')='Y'
AND wsh.source_line_id=oel1.line_id
AND nvl(oel1.schedule_ship_date,sysdate) <> nvl(wsh.date_scheduled,sysdate)
AND wsh.source_code = 'OE')",2352564.1,"SYMPTOM: There is a mismatch between Date Scheduled on Delivery Detail and Schedule Ship Date on Sales Order Line.

CAUSE: Data corruption.

SOLUTION: A data fix will be required from Support.  If you would like to correct these lines with a data fix, please update the SR and Support will engage appropriately.",WSH,SO Line Delivery Detail Scheduled Date Mismatch.,"Date Scheduled on delivery Detail should match with Schedule Ship Date on Sales Order Line, a datafix is needed.",2,Oracle Shipping Execution,OM_INV_INT,SE-INT-OM,WEEK,SAT,O2C: Shipping,"Mismatch between line Schedule Ship Date and detail line Date Scheduled has an impact upon shipment planning as incorrect dates are reflected. The issue may also impact forecasting where these two dates are utilized.

Monitoring for Schedule Ship Date and Date Scheduled discrepancy will ensure that the dates are always in sync ensuring that correct shipment planning and forecasting are in place.",EBS MFG,EBS - Order Management
ME$EBS_MFG_OM_SO_LINE_CLOSED_SHIPPED_NOT_INTERFACED_INV,"select HEADER_ID HEADER_ID, LINE_ID LINE_ID
from
(select ORD.HEADER_ID,
LIN.LINE_ID
from
OE_ORDER_HEADERS_ALL ORD,
OE_ORDER_LINES_ALL LIN,
WSH_DELIVERY_DETAILS DET
where
ORD.HEADER_ID = LIN.HEADER_ID
AND DET.SOURCE_LINE_ID = LIN.LINE_ID
AND DET.SOURCE_CODE = 'OE'
AND DET.INV_INTERFACED_FLAG = 'N'
AND LIN.SHIPPABLE_FLAG = 'Y'
AND nvl(LIN.SHIPPED_QUANTITY,0) > 0
AND LIN.FLOW_STATUS_CODE = 'CLOSED'
AND rownum < 100 )",2434047.1,"SYMPTOM:  Sales Order lines were shipped; however, Inventory Interface erred.  This will result in an overstatement of on hand inventory.

CAUSE: Data corruption

SOLUTION: 
1.  Log into EBS Apps and select the Order Management Responsibility
2.  Navigate to : Shipping > Transactions > Interfaces
3.  Choose Single Request - then select 'Interface Trip Stop - SRS'
4.  Enter the delivery or stop and execute the request
5.  Review request results.  If processed successfully, issue is resolved.  If above steps result in a warning or error, provide the warning / error.",WSH,Sales Order LInes Shipped but not Inventory Interfaced,"Sales Order lines were shipped; however, Inventory Interface erred.",2,Oracle Shipping Execution,OM_INV_INT,SHP-INT-IN,WEEK,SAT,O2C: Shipping,Shipped lines did not reduce inventory resulting in an overstatement of on hand quantities.  On hand totals are incorrect.  Costing may be incorrect and could also cause a promise of a shipment that cannot be completed.,EBS MFG,EBS - Order Management
ME$EBS_HCM_PAY_HXC_TIME_CATEGORY,"select time_category_id time_category_id, incorrect_setup length_exceeding_size from
(select time_category_id, length(time_sql) incorrect_setup from hxc_time_categories
where time_category_name like 'PROJECT MANAGER%'
and length(time_sql)> 29000)
where rownum<100
order by 1
",784761.1,"There are rows with time_sql column from hxc_time_categories table exceeding 29000 characters.
The cause of the problem is that the OTL HXC_TIME_CATEGORIES engine is unable to handle anything larger than 32k size and throws an error whenever the value of the column Time_SQL is greater than 32k in size. The time categories engine uses a varchar2 variable to store the value of the time_sql column in the pl/sql which is limited to 32k. This is inherent restriction of varchar2 type of variables.
This is documented in Error: Commit Happened In Activity/Function 'HXC_APPROVAL:HXC_FILL_APP_PERIODS/HXC_APPROVAL_WF_PKG.create_appl_period_info' (Doc ID 784761.1)
Solution:
For 12.1 application version, datafix is needed to fix time categories
For 12.2 application version, a patch is released as a permanent fix: Patch 32836146 :R12.HXT.C. The patch is documented in ERR 3146 : WorkFlow For Timesheet Approval Is Not Getting Triggered (Doc ID 2722279.1)",HXT,OTL Rows with Time_sql column from Time Categories exceeding 29000 characters,Rows with time_sql column from hxc_time_categories table are exceeding 29000 characters. Length exceeding 32000 may cause issues in your application.,3,Oracle Time and Labor,TC APPROVAL,STYLES,WEEK,SAT,People to Paycheck: Timecards,The timecards are not reaching the approver for approval. The timecards are submitted but no notifications are sent to the approver.,EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_PURGEABLE_OBSOLETE_WORKFLOW,"select Purgeable_Count Purgeable_Count from (
select wf_purge.getpurgeablecount('HXCEMP') Purgeable_Count from dual
where wf_purge.getpurgeablecount('HXCEMP')>1000)",1675869.1,"Your Purgeable Workflow count is more than 1000. This may cause performance issues in your application.
Please run 'Purge Obsolete Workflow Runtime Data' with (Item Type = OTL Workflows for Employees) from System Administrator responsibility.
Review How to Delete Workflows? (Doc ID 1675869.1)",HXT,OTL Purgeable Workflow count is more than 1000,Purgeable Workflow count is more than 1000. This can impact performance,4,Oracle Time and Labor,TC APPROVAL,STYLES,MONTH,LAST,People to Paycheck: Timecards,"When there are too many obsoletes workflows, performance on approval OTL process is impacted. The approval process can take a lot of time to finish and due to this, payroll processes and project costing flows are delayed",EBS HCM,EBS - Payroll
ME$EBS_HCM_PAY_DUPLICATE_TIMECARDS_FOR_PERSON,"select Person_Id Person_Id,
Start_time Start_Time
from
(
select distinct resource_id Person_Id,
to_char(start_time,'DD-MON-YYYY')  Start_Time
from hxc_timecard_summary 
where(resource_id,start_time,stop_time) in 
(select resource_id,start_time,stop_time 
from hxc_time_building_blocks 
where scope = 'TIMECARD' 
and 
(creation_date>sysdate-30 or last_update_date>sysdate-30)) 
GROUP BY resource_id,start_time,stop_time 
HAVING COUNT(1)>1
)
where rownum<100
order by 1",2356768.1,,HXT,OTL Multiple Timecards Exist for the same person for the same Timecard Period,Need to remove duplicated timecards in a Timecard Period for the same person,2,Oracle Time and Labor,TIMENTRY,SSTIME_ENT,WEEK,SAT,People to Paycheck: Timecards,"Inability for employees to save and submit a timecard, impacting payroll for these persons.",EBS HCM,EBS - Payroll
ME$EBS_FIN_AR_HZ_ORGANIZATION_PROFILE_MULTIPLE_ACTIVE,"select party_id PARTY_ID, 
       country COUNTRY 
  from HZ_PARTIES
 where PARTY_ID IN
  (select PARTY_ID
    from HZ_ORGANIZATION_PROFILES
   where EFFECTIVE_END_DATE IS NULL
   group by PARTY_ID
  having COUNT(*) > 1
  )
and rownum <= 5
",2100623.1,A support analyst will review the data and will provide the datafix script.,AR,Multiple Active Organization Profile,HZ_ORGANIZATION_PROFILES has multiple records for a PARTY_ID where EFFECTIVE_END_DATE is NULL.,2,Oracle Trading Community,DQM,DQM,WEEK,SAT,O2C: Credit to Cash,"Multiple active profiles will cause the Customer Form to raise errors such as ORA-01427 while viewing or updating. Additionally, many reports will show duplicate records.",EBS Financials,EBS - Receivables
ME$EBS_MFG_DM_DMEF_RES_TXN-USER_NAME_NOT_VALID.PLEASE_RE-ENTER,"SELECT WCTI.PROCESS_STATUS PROCESS_STATUS, WTIE.ERROR_COLUMN ERROR_COLUMN, WTIE.ERROR_MESSAGE ERROR_MESSAGE, WCTI.TRANSACTION_ID TRANSACTION_ID
FROM WIP_COST_TXN_INTERFACE WCTI, WIP_TXN_INTERFACE_ERRORS WTIE
WHERE WCTI.TRANSACTION_ID = WTIE.TRANSACTION_ID(+)
AND WTIE.ERROR_MESSAGE LIKE '%User name not valid. Please re-enter%'
AND rownum<100",2363193.1,"ISSUE:
When viewing resource or materials transactions encounter error User name not valid. Please re-enter

CAUSE:
The errors are caused by data corruption - incorrect or missing data.

SOLUTION:
See Note 2363193.1 for steps to apply the data fix.",WIP,User name not valid. Please re-enter,When viewing resource or materials transactions encounter error User name not valid. Please re-enter,2,Oracle Work in Process,TRNSACTION,RES,WEEK,SAT,Discrete Manufacturing,"When viewing resource or materials transactions, observed erred transactions with any of the following error message:
User name not valid. Please re-enter",EBS MFG,EBS - Discrete MFG Execution and Financials
ME$EBS_MFG_DM_FC_WIP_PENDING_MOVE_TRANSACTIONS,"select Transaction_Id Transaction_Id,
Process_Phase Process_Phase,
Process_Status Process_Status,
Org_Code Org_Code,
Error_Column Error_Column,
Error_Message Error_Message
from (SELECT WMTI.TRANSACTION_ID Transaction_Id,
DECODE(WMTI.PROCESS_PHASE,
1,'MOVE VALDN',
2,'MOVE PROC',
3,'BF SETUP',
WMTI.PROCESS_PHASE) Process_Phase,
DECODE(WMTI.PROCESS_STATUS,
1,'PENDING',
2,'RUNNING',
3,'ERROR',
4,'COMPLETED',
5,'WARNING',
WMTI.PROCESS_STATUS) Process_Status,
MP.ORGANIZATION_CODE Org_Code,
WTIE.ERROR_COLUMN Error_Column,
WTIE.ERROR_MESSAGE Error_Message
FROM WIP_MOVE_TXN_INTERFACE WMTI,
WIP_TXN_INTERFACE_ERRORS WTIE,
WIP_SERIAL_MOVE_INTERFACE WSMI,
WIP_ENTITIES WE,
MTL_PARAMETERS MP
WHERE WMTI.WIP_ENTITY_ID = WE.WIP_ENTITY_ID(+)
AND WMTI.ORGANIZATION_ID = MP.ORGANIZATION_ID(+)
AND WMTI.TRANSACTION_ID = WTIE.TRANSACTION_ID(+)
AND WMTI.TRANSACTION_ID = WSMI.TRANSACTION_ID(+)
AND ((WMTI.PROCESS_STATUS = 3) OR
(WMTI.PROCESS_STATUS in (1, 2) AND
WMTI.CREATION_DATE < sysdate - 0.25))
ORDER BY 1, 2)
where rownum<100",2405049.1,"SYMPTOM: There are stuck WIP Move transactions (in WIP_MOVE_TXN_INTERFACE table) in error status or pending/running for more than 6 hours.

CAUSE: Data corruption or setup issue.

SOLUTION: Step through the following documents:

For records returning PROCESS_STATUS = ERROR, please visit the following document: Note 457066.1.
For records returning PROCESS_STATUS = PENDING, please check if the Move Manager is active and visit the following document Note 1938373.1.
For records returning PROCESS_STATUS = RUNNING and PROCESS_PHASE = BACKFLUSH SETUP, please see document: Note 2310225.1.

If you would like assistance for further diagnosis, please update the SR and Support will engage appropriately.",WIP,Pending/Error Move Transactions (WIP_MOVE_TXN_INTERFACE),There are stuck WIP Move transactions in error status or in pending/running for more than 6 hours.,2,Oracle Work in Process,TRNSACTION,MOVE,WEEK,SAT,Discrete Manufacturing,"This service can help reduce or eliminate monitoring for WIP Move Transactions that are stuck in the interface.
For the business, this monitoring unit will prevent delays caused by the shopfloor moves. 
Products cannot be shipped on time and sales orders cannot be fulfilled as long as the WIP Assemblies cannot be completed.
Therefore it is a must to make sure the move transactions are processed in order to complete the jobs.
In addition, WIP move transactions that are in pending or in error are blocking the Inventory Period Closing process.",EBS MFG,EBS - Discrete MFG Execution and Financials
ME$EBS_ATG_WF_BACKGROUND_PROCESS_DEFERRED1,"select msg issue_message from (
select 'WF Background Engine not scheduled for ALL deferred activities' msg from dual
where not exists 
(    
select p.USER_CONCURRENT_PROGRAM_NAME PROGRAM_NAME, r.ARGUMENT_TEXT ARGUMENTS, r.RESUBMIT_INTERVAL EVERY, r.RESUBMIT_INTERVAL_UNIT_CODE SO_OFTEN
FROM fnd_concurrent_requests r, FND_CONCURRENT_PROGRAMS_TL p, fnd_concurrent_programs c 
WHERE r.CONCURRENT_PROGRAM_ID = p.CONCURRENT_PROGRAM_ID
and p.CONCURRENT_PROGRAM_ID = c.CONCURRENT_PROGRAM_ID 
and c.CONCURRENT_PROGRAM_NAME = 'FNDWFBG' 
AND p.language = 'US' 
and r.ACTUAL_COMPLETION_DATE is null and r.PHASE_CODE in ('P','R')
and substr(r.ARGUMENT_TEXT,0,instr(r.ARGUMENT_TEXT,',')-1) is NULL
and upper(TRIM(substr(r.ARGUMENT_TEXT,instr(r.ARGUMENT_TEXT,',',1,3)+1,(instr(r.ARGUMENT_TEXT,',',1,4)-1)-(instr(r.ARGUMENT_TEXT,',',1,3))))) in ('YES','Y')
and rownum < 2
))",186361.1,"Refer to the following sections of the Workflow Administration Guide to schedule the Background Process for Deferred Activities:

  - Setting Up Background Workflow Engines
  - To Run the Workflow Background Process as a Concurrent Program


References
----------
""Oracle® Workflow Administrator's Guide Release 12.2"" (Part No. E22008)",FND,Workflow Background Process is scheduled for deferred activities for all item types,Workflow Background Process is scheduled for deferred activities for all item types,4,Oracle Workflow,SERVER,DEFER,WEEK,SAT,System: Techstack,Workflow activities get deferred and require a Background Process to process deferred activiites for ALL item types often.,EBS ATG,EBS - Workflow and Integrations
ME$EBS_ATG_WF_WF_MAIL_WEB_AGENT_PROFILE_NOT_SET,"SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            COUNT(*)
        FROM
            ( (
                SELECT
                    1
                FROM
                    dual
                WHERE
                    EXISTS (
                        SELECT
                            t.profile_option_id,
                            t.profile_option_name,
                            z.user_profile_option_name,
                            v.profile_option_value 
	 /* nvl(v.PROFILE_OPTION_VALUE,'NOT SET - Replace with specific Web Server URL (non-virtual) if using load balancers') */
                        FROM
                            fnd_profile_options       t,
                            fnd_profile_option_values v,
                            fnd_profile_options_tl    z
                        WHERE
                            ( v.profile_option_id (+) = t.profile_option_id )
                            AND ( ( v.level_id = 10001 )
                                  OR ( v.level_id IS NULL ) )
                            AND ( z.profile_option_name = t.profile_option_name )
                            AND z.language = 'US'
                            AND ( t.profile_option_name IN ( 'WF_MAIL_WEB_AGENT' ) )
                            AND v.profile_option_value IS NULL
                    )
                UNION ALL
                SELECT
                    1
                FROM
                    dual
                WHERE
                    EXISTS (
                        SELECT
                            COUNT(*)
                        FROM
                            fnd_nodes
                        WHERE
                            webhost IS NOT NULL
                        HAVING
                            COUNT(*) >= 2
                    )
            ) ) test_a
        HAVING
            COUNT(*) = 2
    )",2493004.1,"Workflow Notification Mailer Not Sending Framework (FMK) Emails like POAPPRV, REQAPPRV, APEXP, OA Framework etc and Email Fails with ""Problem getting the HTML content"" in the Workflow Mailer log file (Doc ID 2493004.1)

SOLUTION
1. Stop the Workflow Mailer and Agent Listener service.
a. Log in to the Oracle Application Manager.
b. Select Workflow Manager from the drop down list
c. Select Service Components.
d. Select Workflow Agent Listener or Workflow Mailer Service from the Container Column.
e. Use the Start All/ Stop All button.
f . Select Stop All.
g. Wait for the Services to read Actual 0 Target 0 and Deactivated.
h. Run the following SQL to make sure service are stopped.
SELECT component_name, component_status, component_status_info
FROM fnd_svc_components_v
WHERE component_name like 'Workflow%';

2. Find the tablespace where indexes on corrid for queue tables are created:
select distinct tablespace_name
from dba_indexes,dba_queues
where index_name like 'WF%N1'
and table_name=queue_table
and name like 'WF%';

3. Set the ""WF: Workflow Mailer Framework Web Agent"" [WF_MAIL_WEB_AGENT] profile option at Site level to point to one of the physical Web Server host address URL http://<host>.<domain>:<port>

To check the value for <hostname>,<domainname> and <port> grep the following parameter from the context file (<SID>_hostname.xml) in any one of the physical web node.
$ grep -ie s_webhost $CONTEXT_FILE
$ grep -ie s_domainname $CONTEXT_FILE
$ grep -ie s_webport $CONTEXT_FILE

    http://<s_webhost>.<s_webdomain>:<s_webport>
Ex: http://myhost.mydomain.com:8000

Note:

-->The Protocol in the URL will always be http(not https), because your ssl will be setup on load balancer(if ssl enabled) and not on the individual web application node, hence it will be always http
-->The Port in the URL will be s_webport, not the SSL port. Please set the port exactly as returned by the value s_webport from the CONTEXT_FILE
-->If you have 2(or 4 or 6 and so on) application web nodes, you can select any one web node context file values to construct the URL.

Once the URL is constructed by grepping the CONTEXT_FILE values like above ,validate the URL by running the wget command as below from any application node and you should see 200 OK as a result, this validates the URL is correct to be used to set for the mailer profile.

$ wget http://<s_webhost>.<s_webdomain>:<s_webport>
connected.
HTTP request sent, awaiting response... 200 OK
Length: 1181 (1.2K) [text/html]
Saving to: “index.html”
100%[====================================================================================>] 1,181 --.-K/s in 0s 

4. Rebuild Workflow Mailer queue with:

Connect as apps/<appspwd>
SQL>@$FND_TOP/patch/115/sql/wfntfqup.sql APPS <APPS schema passwd> APPLSYS 

5. Recreate Index on corrid column:
sqlplus applsys/<pwd>
CREATE INDEX WF_NOTIFICATION_OUT_N1
ON WF_NOTIFICATION_OUT(CORRID)
STORAGE (INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0)
TABLESPACE &tbs;
When prompted for the tablespace, enter the tablespace name found at step 2 above.

6. Start the Workflow Mailer and Agent Listener service.
a. Log in to the Oracle Application Manager.
b. Select Workflow Manager from the drop down list
c. Select Service Components.
d. Select Workflow Agent Listener or Workflow Mailer Service from the Container Column.
e. Use the Start All/ Stop All button.
f . Select Start All.
g. Wait for the Services to read Actual 1 Target 1 and Activated.
h. Run the following SQL to make sure service are started.
SELECT component_name, component_status, component_status_info
FROM fnd_svc_components_v
WHERE component_name like 'Workflow%';

7. Wait for 30 minutes for the mailer to process the pending email's in the mailer queue.

8. Retest the issue with fresh notification.",FND,Workflow Mailer Profile option WF: Workflow Mailer Framework Web Agent is NULL(Blank),"Email outbound notifications with embedded framework regions require a physical web server address with a port ""WF: Workflow Mailer Framework Web Agent""",2,Oracle Workflow,JAVA MAILER,OUTBOUND,WEEK,SAT,System: Techstack,"Due to this issue, users unable to receive the email and this is delaying approval process.",EBS ATG,EBS - Workflow and Integrations
ME$EBS_ATG_WF_LOG_LEVEL_STATEMENT_ENABLED,"  SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            sc.component_name          ""COMPONENT NAME"",
            sc.component_type          ""COMPONENT TYPE"",
            v.parameter_display_name   ""PARAMETER"",
            decode(v.parameter_value, '1', '1 = Statement', '2', '2 = Procedure',
                   '3', '3 = Event', '4', '4 = Exception', '5',
                   '5 = Error', '6', '6 = Unexpected', 'N', 'N = Not Enabled',
                   'Y', 'Y = Enabled') ""VALUE""
        FROM
            fnd_svc_comp_param_vals_v v,
            fnd_svc_components        sc
        WHERE
                v.component_id = sc.component_id
            AND v.parameter_name IN ( 'COMPONENT_LOG_LEVEL')
            AND v.parameter_value = '1'
    )",1585593.1,"Workflow Services performance will be affected , when Workflow Services are Running with Statement Level Log for long time(More than 1 or 2 day)

Below is the example to disable the Statement level log for Workflow Mailer.Please run the below query to check which workflow services are enabled for statement level log and change them to Default Error or Exception.

   select SC.COMPONENT_NAME ""COMPONENT NAME"", sc.COMPONENT_TYPE ""COMPONENT TYPE"",
	 v.PARAMETER_DISPLAY_NAME ""PARAMETER"",
	 decode(v.PARAMETER_VALUE,
	 '1', '1 = Statement',
	 '2', '2 = Procedure',
	 '3', '3 = Event',
	 '4', '4 = Exception',
	 '5', '5 = Error',
	 '6', '6 = Unexpected',
	 'N', 'N = Not Enabled',
	 'Y', 'Y = Enabled') ""VALUE""
	 FROM FND_SVC_COMP_PARAM_VALS_V v, FND_SVC_COMPONENTS SC
	 WHERE v.COMPONENT_ID=sc.COMPONENT_ID
	 AND v.parameter_name in ('COMPONENT_LOG_LEVEL','DEBUG_MAIL_SESSION')
     AND v.parameter_value='1';

1- Disable debug for Mailer Service Component :

In OAM : Site Map / Notification Mailer / Edit / Advanced / Go to Step 2 / Change ""Log Level"" to ""Error""
Apply

2- Bounce the Workflow Mailer Service Container

In OAM : Site Map / Notification Mailer / Click on ""Workflow Mailer Service"" in ""Container"" column
Once in containers page, select the ""Workflow Mailer Service"", then Stop. Refresh page until status becomes Deactivated.
Then Start. Refresh page until status becomes Activated.",FND,Workflow Services are Running with Statement Level Log.,"Workflow Services performance will be affected , when Workflow Services are Running with Statement Level Log for long time(More than 1 or 2 day)",2,Oracle Workflow,JAVA MAILER,OUTBOUND,WEEK,SAT,System: Techstack,"Due to this , Workflow Services performance will be affected.",EBS ATG,EBS - Workflow and Integrations
ME$EBS_ATG_WF_WF_CHECK_FOR_STUCK_ACTIVITIES,"select ACTIVITY_STATUS ACTIVITY_STATUS,RESULT RESULT,COUNT COUNT
from
(select S.Activity_Status ACTIVITY_STATUS, S.Activity_Result_Code RESULT, count(S.Item_Key) COUNT
	 FROM wf_item_activity_statuses s,wf_process_activities p, wf_items wi
	 WHERE P.Instance_Id = S.Process_Activity
	 AND Wi.Item_Type = S.Item_Type
	 AND wi.item_key = s.item_key
	 AND activity_status = 'ERROR'
	 AND activity_result_code = '#STUCK'
	 AND S.End_Date Is Null
	 GROUP BY S.Activity_Status, S.Activity_Result_Code)",453137.1,"1) Identify the ITEM_TYPE, ITEM_KEY pair values of the stuck transactions you need to resolve.

2) Execute script script $FND_TOP/sql/wfstat.sql, and/or $FND_TOP/sql/wfstatus.sql to obtain detailed information for the specific workflow stuck transaction identified by the ITEM_TYPE, ITEM_KEY pair value

3) Address the cause of the error that made the workflow transaction to get stuck. 

4) Execute script $FND_TOP/sql/wfretry.sql to re-process the stuck activity. This reprocessing action can also be actioned from the EBS Administrator Monitor page.

You may need to work with a representative of the ITEM_TYPE owning support group.

Reference: “Oracle® Workflow Administrator's Guide Release 12.2"" (Part No. E22008)",FND,STUCK Workflow activities.,"A process is identified as stuck when it has a status of ACTIVE, but cannot progress any further.",2,Oracle Workflow,SERVER,DEFER,WEEK,SAT,System: Techstack,"Stuck workflow processes can not progress on their own, and require identificatoin, attention, and manual steps to either correct and retry, or abort, resubmit, and purge.",EBS ATG,EBS - Workflow and Integrations
ME$EBS_ATG_WF_DEBUG_MAIL_SESSION_ENABLED,"select a.parameter_value DebugMailSessionEnabled
FROM   fnd_svc_comp_param_vals a,
       fnd_svc_comp_params_vl c
WHERE  c.parameter_id = a.parameter_id
AND    a.component_id = 10006 
AND    c.parameter_name IN ('DEBUG_MAIL_SESSION')
AND    a.parameter_value ='Y'
and a.last_update_date < sysdate - 1",1324952.1,"Using afsvcpup.sql, set DEBUG_MAIL_SESSION to N using the below steps :

a. sqlplus apps/pwd
b. @$FND_TOP/sql/afsvcpup.sql
c. At first prompt identify from list the component id for WF Mailer and enter its value
(you can use the below query to obtain the ID)
SQL> SELECT component_id, component_name
FROM fnd_svc_components c
WHERE component_name like 'Workflow Notification Mailer'
order by component_id;
COMPONENT_ID COMPONENT_NAME
------------ --------------------------------------------------------------------------------
10006 Workflow Notification Mailer

d. At second prompt identify the parameter id for Debug Mail Session and enter its value
e. At third prompt enter the new value for parameter Debug Mail Session : N
f. Once the these changes have been saved re-bounce the Workflow Agent Listener Service and Workflow Mailer Service containers
Note This is just a temporary change. Bouncing the services will create fresh logs.",FND,Workflow Mailer Running with DEBUG_MAIL_SESSION Enabled.,"If the DEBUG_MAIL_SESSION is Enabled for Mailer for long time, it will cause over burden/performance issue on the Mailer",2,Oracle Workflow,JAVA MAILER,OUTBOUND,WEEK,SAT,System: Techstack,"If the DEBUG_MAIL_SESSION is Enabled for Mailer for long time, it will cause over burden/performance issue on the Mailer",EBS ATG,EBS - Workflow and Integrations
ME$EBS_ATG_WF_WF_ADMIN_ROLE_TO_ALL_USER,"select text wf_admin_value
from wf_resources
where name = 'WF_ADMIN_ROLE' and text='*'",413711.1,"WF_ADMIN_ROLE Should not be given to ALL user in a PROD instance. This role should be assigned to only the Administrative User's.

Please assign it to SYSADMIN or only to Administrative User as per the below document.

How To Reset The Workflow Administrator (Doc ID 413711.1)",FND,Workflow Administrator role WF_ADMIN_ROLE is given to ALL user.,WF_ADMIN_ROLE Should not be given to ALL user in a PROD instance. This role should be assigned to only the Administrative User's.,2,Oracle Workflow,JAVA MAILER,OUTBOUND,WEEK,MON,System: Techstack,WF_ADMIN_ROLE Should not be given to ALL user in a PROD instance. This role should be assigned to only the Administrative User's.,EBS ATG,EBS - Workflow and Integrations
ME$EBS_ATG_WF_MAILER_QUEUE_WF_NOTIFICATION_OUT_MISSING,"SELECT
    dummy dummyalias
FROM
    dual,
    (
        SELECT
            COUNT(*)
        FROM
            ( (
                SELECT
                    1
                FROM
                    dual
                WHERE
                    NOT EXISTS (
                        SELECT
                            *
                        FROM
                            dba_queues
                        WHERE
                                name = 'WF_NOTIFICATION_OUT'
                            AND owner = 'APPLSYS'
                    )
                UNION ALL
                SELECT
                    1
                FROM
                    dual
                WHERE
                    NOT EXISTS (
                        SELECT
                            *
                        FROM
                            dba_queue_tables
                        WHERE
                                queue_table = 'WF_NOTIFICATION_OUT'
                            AND owner = 'APPLSYS'
                    )
            ) ) test_a
        HAVING
            COUNT(*) >= 1
    )",968683.1,"In your System, Workflow Mailer queue WF_NOTIFICATION_OUT is missing and all the emails are failing or Mailer is Down.

Ref: Notification Emails are not Getting Sent and Mailer Log Shows ORA-24010 Error (Doc ID 968683.1)

SOLUTION

Create the missing queue and queue table and populate them with the notifications that needs to be sent by email.

Please perform the following steps:

1. Stop the Workflow Agent Listeners and Mailers in the service component page in Oracle Application Manager (OAM).

2. Find the tablespace where indexes on corrid for queue tables are created:

select distinct tablespace_name
from dba_indexes,dba_queues
where index_name like 'WF%N1'
and table_name=queue_table
and name like 'WF%';


3. As APPLSYS, recreate the queue and table:

sqlplus applsys/applsys_pwd

declare
begin
dbms_aqadm.create_queue_table
(
queue_table => 'WF_NOTIFICATION_OUT',
queue_payload_type => 'SYS.AQ$_JMS_TEXT_MESSAGE',
sort_list => 'PRIORITY,ENQ_TIME',
multiple_consumers => TRUE,
comment => 'Workflow JMS Topic',
compatible => '8.1'
);
dbms_aqadm.create_queue
(
queue_name => 'WF_NOTIFICATION_OUT',
queue_table => 'WF_NOTIFICATION_OUT',
max_retries => 5,
retry_delay => 3600,
retention_time => 86400,
comment => 'Workflow JMS Topics'
);
end;
/
commit;



4. As APPLSYS again execute the following code to add the subscriber:

sqlplus applsys/applsys_pwd

declare
lagent sys.aq$_agent;
begin
lagent := sys.aq$_agent('WF_NOTIFICATION_OUT',null,0);
dbms_aqadm.add_subscriber(queue_name =>'WF_NOTIFICATION_OUT',subscriber=>lagent,
rule=>'1=1');
end;
/
commit;


5. Start the WF_NOTIFICATION_OUT queue:

sqlplus applsys/applsys_pwd

begin
dbms_aqadm.start_queue(queue_name => 'WF_NOTIFICATION_OUT');
end;
/
commit;


6. As APPS, run the grants script, which is under $FND_TOP/patch/115/sql:

sqlplus APPS/<passwd>

@afwfqgnt.sql APPS <passwd> APPLSYS <passwd>


7. As the APPS user, run wfntfqup.sql script to populate mailer queue with the notifications that are still waiting to be sent by email:

sqlplus apps/apps_pwd

start $FND_TOP/patch/115/sql/wfntfqup APPS APPLSYS



8. As the APPLSYS user, recreate the index on the CORRID column:

sqlplus applsys/applsys_pwd


CREATE INDEX WF_NOTIFICATION_OUT_N1
ON WF_NOTIFICATION_OUT(CORRID)
STORAGE (INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0)
TABLESPACE &tbs;


When prompted for the tablespace, enter the tablespace name found at step 2 above.


9. Confirm that wf_notification_out queue and queue table now exist:

select *
from dba_queues
where name = 'WF_NOTIFICATION_OUT'
and owner = 'APPLSYS';
 

select *
from dba_queue_tables
where queue_table = 'WF_NOTIFICATION_OUT'
and owner = 'APPLSYS';


10. Start Workflow Agent Listeners and Mailers in OAM

11. Check if Mailer is now sending email notifications as expected.",FND,Notification Emails are not Getting Sent and Mailer Log Shows ORA-24010,Notification Emails are not Getting Sent and Mailer Log Shows ORA-24010: QUEUE APPLSYS.WF_NOTIFICATION_OUT does not exist (Doc ID 968683.1),2,Oracle Workflow,JAVA MAILER,OUTBOUND,DAY,1,System: Techstack,All emails will fail because of the missing Mailer queue WF_NOTIFICATION_OUT,EBS ATG,EBS - Workflow and Integrations
ME$EBS_ATG_WF_NO_WORKFLOW_PURGE_PROGRAM_SCHEDULED,"SELECT
    dummy dummyalias
FROM
    dual
WHERE
    NOT EXISTS 
    (
     select r.REQUEST_ID
	 FROM fnd_concurrent_requests r, FND_CONCURRENT_PROGRAMS_TL p, fnd_concurrent_programs c, fnd_user u
	 WHERE r.CONCURRENT_PROGRAM_ID = p.CONCURRENT_PROGRAM_ID and r.requested_by = u.user_id
	 and p.CONCURRENT_PROGRAM_ID = c.CONCURRENT_PROGRAM_ID
	 and c.CONCURRENT_PROGRAM_NAME = 'FNDWFPR'
	 AND p.language = 'US'
	 and r.ACTUAL_COMPLETION_DATE is null and r.PHASE_CODE in ('P','R')
	      )",264191.1,"Quick Reference: How To Purge Obsolete Workflow Runtime Data For Applications (Doc ID 264191.1)

Submit the Concurrent Request ""Purge Obsolete Workflow Runtime Data"" with the following settings:

1. Item Type:
The item type associates with the obsolete runtime data you want to delete. Leave this parameter null to delete obsolete data for all item types.

2. Item Key:
This is a string generated from the application object's primary key. The string uniquely identifies the item within an item type. Leave this parameter null to purge all items for the specified item type.

3. Age:
This is the minimum age of data to purge specified in days if Persistence Type is set to 'Temporary'. The default is set to 0 (zero).

4. Persistence Type:
Persistence type to be purged, either 'Temporary' or 'Permanent'.
Temporary: the Item will be deleted in 'n' days.
Permanent: the Item will be deleted only when forced.
The default is 'Temporary'.



Notes:
1. Workflow Purge will only remove the data if:
a) The item type definition has been defined as temporary or its persistence days have expired.
b) The activities are complete or the notification is closed and have reached their given end date.
2. All should have an end date.",FND,There are no Purge Obsolete Workflow Runtime Data Program Scheduled to Run,Purging Oracle Workflow tables of obsolete workflow runtime information for completed workflow processes is a required regular maintenance task.,2,Oracle Workflow,PURGE,PERF,WEEK,SAT,System: Techstack,"Due to this issue, performance issue's will be seen when running the ""Workflow Background Process"" program causing delay in business process.",EBS ATG,EBS - Workflow and Integrations
ME$EBS_MFG_PO_IP_ITEMS_CATEGORY_MAPPING_MISMATCH,"select last_update_date Last_Update_Date, org_id Operating_Unit_Id, Inv_Item_Number Inv_Item_Number, iProc_Item_Description iProc_Item_Description, Expected_iProc_Category_Name Expected_iProc_Category_Name, Actual_iProc_Category_Name Actual_iProc_Category_Name
FROM
(select distinct mck.category_id, mck.segment1, mck.segment2, 
ctxh.ip_category_name Actual_iProc_Category_Name, icxmapping.category_name Expected_iProc_Category_Name, 
ctxh.ip_category_id Actual_iProc_Category_Id, icxmapping.rt_category_id Expected_iProc_Category_Id, 
icxmapping.language, 
ctxh.inventory_item_id, ctxh.org_id, ctxh.description iProc_Item_Description, msib.description Inv_Item_description, msib.segment1 Inv_Item_Number,
ctxh.last_update_date
       from mtl_categories_kfv mck,
            mtl_category_set_valid_cats mcsvc,
            icx_por_category_data_sources purchmapping,
            icx_cat_categories_tl icxmapping,
            icx_cat_items_ctx_hdrs_tlp ctxh,
            (select distinct category_set_id, structure_id from mtl_default_sets_view where functional_area_id = 2) mtdsv,
            mtl_system_items_b msib
      where msib.organization_id(+) = ctxh.org_id
        and msib.inventory_item_id(+) = ctxh.inventory_item_id
        and mck.structure_id = mtdsv.structure_id
        and mcsvc.category_set_id = mtdsv.category_set_id
        and mcsvc.category_id = mck.category_id
        and purchmapping.external_source_key = to_char(mck.category_id)
        and purchmapping.external_source = 'Oracle'
        and icxmapping.key = purchmapping.category_key
        and icxmapping.type = 2
        and ctxh.po_category_id = mck.category_id
        and ctxh.source_type = 'MASTER_ITEM'
        and ctxh.language = icxmapping.language
        and (ctxh.ip_category_id <> icxmapping.rt_category_id or 
 ctxh.ip_category_name <> icxmapping.category_name)
order by ctxh.last_update_date, ctxh.org_id, msib.segment1) ItemsWithWrongCategory
where rownum <= 5",2072353.1,"SYMPTOMS

The listed items have an old category rather than the current / new mapped shopping category. After changing the mapping of the purchasing category to a new shopping category, all the affected items should reflect the new shopping category automatically. However, the detected items do not reflect the newly mapped shopping category. This can cause issues such as these items not appearing in search results, or appearing with the wrong (old) value displayed for category. 

STEPS TO REPRODUCE
 1. Navigate to iProcurement 
2. Search for items - see the category value is not the currently mapped category 

IMPACT Displaying the wrong or blank category value for these items is misleading to the users.

CAUSE

Creating or updating the Category Mapping does not create the entry in the table ICX_POR_CATEGORY_DATA_SOURCES. This is due to the following bug in the code. 

Bug 21974301 - PATCH 21576975 NOT MAPPING THE SHOPPING CATEGORIES WHEN P_CATEGORY IS -2

SOLUTION

To implement the solution, please execute the following steps: 

1. Download and review the readme and pre-requisites for the patch relevant for your release 

For 12.2.x, Patch 21974301:R12.ICX.D - PATCH 21576975 NOT MAPPING THE SHOPPING CATEGORIES WHEN P_CATEGORY IS -2 
For 12.1.3, Patch 21974301:R12.ICX.B - PATCH 21576975 NOT MAPPING THE SHOPPING CATEGORIES WHEN P_CATEGORY IS -2 

2. Apply the patch in a test environment. 

3. Retest the issue 
3.1 Set the profile POR: Autocreate Shopping Category and Mapping = Yes. 
3.2 Go to iProcurement Catalog Administration responsibility > Schema > Category Mapping > Purchasing Category 
3.3 Search for the PO category 
3.4 Select the category 
3.5 Click Map 
3.6 Choose the new shopping category (choose a new one only for testing purposes) 
3.7 Click Apply 
3.8 Check the concurrent request Map Oracle Purchasing Categories (Map Oracle Purchasing Categories) to make sure it completes without issue 
3.9 Verify the new shopping category mapping is reflected in the item search results. 

4. Migrate the solution as appropriate to other environments.

NOTE:  Some of these additional steps from Doc ID 454694.1 may be required as well to fix issues with existing items and categories:

Verify iProcurement is set as installed in license manager
Review and implement the workaround steps 1-8 from Doc ID 454694.1
Use the script create_category_mappings.sql from Doc ID 454694.1
Review and implement the workaround for high number of items from Doc ID 454694.1",ICX,Items in search results show the wrong (old or blank) category value,Items in search results show a category value that is not the currently mapped shopping category for the item.,3,Oracle iProcurement,SHOP,ITEM_SEARCH,DAY,1,P2P: Purchasing,"These items are associated to categories that do not match the current category mapping.  The items will not appear in search results, or will appear with the wrong (old) value displayed for category.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_IP_MOAC_PROFILE,"select y.ResponsibilityLevel ResponsibilityLevel, y.ResponsibilityName ResponsibilityName, y.ResponsibilityID ResponsibilityID, y.ProfileOption ProfileOption, y.ProfileValue ProfileValue
from 
(select z.resp_level ResponsibilityLevel, z.resp_name ResponsibilityName, z.resp_id ResponsibilityID, z.profile_option ProfileOption, z.profile_value ProfileValue, z.last_update_date
from
(SELECT user_profile_option_name profile_option,
a.profile_option_value profile_value,
DECODE(a.level_id, 10003, 'Responsibility') resp_level,
DECODE(a.level_id, 10003, c.responsibility_name) resp_name,
c.responsibility_id resp_id,
a.last_update_date last_update_date
FROM fnd_profile_option_values a,
fnd_application b,
fnd_responsibility_tl c,
fnd_profile_options e,
fnd_profile_options_tl t
WHERE a.profile_option_id = e.profile_option_id
AND a.level_value = b.application_id(+)
AND a.level_value = c.responsibility_id(+)
AND t.profile_option_name = e.profile_option_name
AND t.LANGUAGE = 'US'
AND c.language = 'US'
AND e.profile_option_name IN ('XLA_MO_SECURITY_PROFILE_LEVEL')
AND (a.level_id = 10003 
AND UPPER(c.responsibility_name) like '%PROCUREMENT%'
AND c.application_id = 178
AND a.profile_option_value IS NOT NULL)
) z
ORDER BY z.last_update_date desc) y
WHERE rownum <= 5
ORDER BY y.ProfileOption, y.ResponsibilityName DESC",579900.1,"SYMPTOMS
One or more iProcurement responsibilities have a profile value specified at responsibility level for the profile MO: Security Profile. 

STEPS TO REPRODUCE 
1. Navigate to System Administrator 
2. Choose Profile / System 
3. Query for the profile = MO: Security Profile where Responsibility = <iProcurement Responsibility Name> 
- see that the profile has a value at the responsibility level for this iProcurement responsibility 

NOTE: Only those iProcurement responsibilities having 'Procurement' as part of the responsibility name are checked. If you have other responsibility names that do not contain the text 'Procurement' in the responsibility name, those will need to be checked manually using the navigation described above to see if they have the MO: Security Profile value set. If so, they will encounter the same issue and the responsibility level profile value will need to be removed to prevent issues. 

BUSINESS IMPACT Various errors, including the following, will occur in iProcurement when this profile is set at iProcurement responsibility level: 
- Cannot Find Items In iProcurement Information Discovery (Endeca) search (Doc ID 2117295.1) 
- Why Does A Requisition Created In One Operating Unit Appear In A Different Operating Unit? (Doc ID 1938036.1) 
- Error Page On iProcurement Requisitions Tab (Doc ID 1567157.1) 
- Receive From Confirm Receipts Workflow For Different Operating Units (Doc ID 1539590.1) 
- iProcurement Error Invalid Company Segment At Charge Account, Although The Company Value Is Valid (Doc ID 944878.1) 
- Requester and Location LOV in iProcurement Preferences Do Not Work. Could It Be MO: Security Profile In Rel 12? (Doc ID 577645.1)

CAUSE
The issue is caused by an incorrect profile setting. There is a value specified at responsibility level for one or more iProcurement responsibilities for the profile MO: Security Profile. This profile should not have any value at responsibility level for any iProcurement responsibility.

SOLUTION
Remove the responsibility level profile value where the profile MO: Security Profile is set at responsibility level for iProcurement responsibility(s). 1. Navigate to System Administrator 2. Choose Profile / System 3. Query for the profile = MO: Security Profile where Responsibility = <iProcurement Responsibility Name> - see that the profile has a value at the responsibility level for this iProcurement responsibility 4. Remove the profile value at the responsibility level 5. Save the change 6. Clear cache from Functional Administrator / Core Services / Caching Framework / Global Configuration. Click the Clear All Cache button to clear cache. 7. Retest in a new login session and confirm the issue is solved as expected.",ICX,One or more iProcurement responsibilities have a value for the profile MO: Security Profile,"iProcurement is not MOAC (Multi-Org Access Capable) enabled, however the MO: Security Profile value is set.",3,Oracle iProcurement,INSTALL,CONFIG_PRODUCT,WEEK,SAT,P2P: Purchasing,"iProcurement responsibilities that have a value for the MO: Security Profile will encounter navigation errors.  MO: Security profile is used for Multi-Org Access Control (MOAC) and the iProcurement application is not designed for MOAC.  iProcurement allows access to only a single organization, and the organization org id value is specified in the MO: Operating Unit profile value at the iProcurement responsibility level.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_ICX_BPA_ITEMSNOTTRANSLATED,"select line.po_header_id po_header_id,
       line.po_line_id po_line_id,
       head.segment1 po_number,
       line.item_id item_id,
       line.category_id po_category_id,
       line.ip_category_id ip_category_id
  from po_headers_all head,
	   po_lines_all line,
       po_line_types_b pltb
 where head.type_lookup_code = 'BLANKET'
    and line.CREATION_DATE > sysdate - 7
   And Head.Po_Header_Id = Line.Po_Header_Id
   And Head.Authorization_Status = 'APPROVED'
   AND head.approved_date is not null
   /* And ICX_CAT_UTIL_PVT.is_blanket_valid(line.po_line_id, line.org_id) = 1 , performance issue  */
   AND NVL(head.user_hold_flag, 'N') <> 'Y'
   AND NVL(head.cancel_flag, 'N') <> 'Y' 
   AND NVL(head.frozen_flag, 'N') <> 'Y' 
   AND NVL(head.closed_code, 'OPEN') NOT IN ('CLOSED', 'FINALLY CLOSED')
   AND NVL(line.closed_code, 'OPEN') NOT IN ('CLOSED', 'FINALLY CLOSED') 
   AND NVL(line.cancel_flag, 'N') <> 'Y'
   AND TRUNC(SYSDATE) BETWEEN NVL(TRUNC(head.start_date), TRUNC( SYSDATE - 1)) 
                          AND NVL(TRUNC(head.end_date), TRUNC( SYSDATE + 1))
   And Trunc(Sysdate) <= Nvl(Trunc(line.Expiration_Date), Trunc( Sysdate+1))
   AND line.line_type_id = pltb.line_type_id
   AND NVL(pltb.purchase_basis, 'NULL') <> 'TEMP LABOR'
   AND NVL(pltb.outside_operation_flag, 'N') = 'N'                
   AND ( 
        (Line.Item_Id Is Null
          and nvl(fnd_profile.value('POR_LOAD_ONETIME_ITEM_ALL_LANG'), 'N') = 'Y'
          and (
                 (select count(1) 
		            from po_attribute_values_tlp
                   Where Line.Po_Line_Id = Po_Line_Id)  < (select count(*) from FND_LANGUAGES where installed_flag IN ('B', 'I'))
                   OR
                   (select count(1)
                      from icx_cat_items_ctx_hdrs_tlp
                     where line.po_line_id = po_line_id
                   ) < (select count(*) from FND_LANGUAGES where installed_flag IN ('B', 'I'))
              )          
        )
		OR
		   (Line.Item_Id Is not Null
		     and (
                 (select count(1) 
		            from po_attribute_values_tlp
                   Where Line.Po_Line_Id = Po_Line_Id) <
                  (Select Count(1) 
                    From MTL_SYSTEM_ITEMS_TL msi,
                          financials_system_params_all fsp
                   Where Inventory_Item_Id = Line.Item_Id
                     and line.org_id = fsp.ORG_ID
                     And Msi.Organization_Id = Fsp.Inventory_Organization_Id
                    and language = source_lang
			       )
                or
                 (select count(1)
                    from icx_cat_items_ctx_hdrs_tlp
                   where line.po_line_id = po_line_id
                 ) < (Select Count(1) 
                        From MTL_SYSTEM_ITEMS_TL msi,
                             financials_system_params_all fsp
                       Where Inventory_Item_Id = Line.Item_Id
                         and line.org_id = fsp.ORG_ID
                         And Msi.Organization_Id = Fsp.Inventory_Organization_Id
                        and language = source_lang
			          )
             )
		  )
	)
and rownum < 1000
order by po_header_id desc",2216967.1,"SYMPTOMS
Some items are available in iProcurement search results for one language, but the same items are not available when accessing iProcurement using a different language

The issue can be reproduced at will with the following steps: 
1. Login with one language preference
2. Go to iProcurement 
3. Search the items 
- see the items returned as expected.
4. Logout and login with a different language preference
5. Go to iProcurement
6. Search the same item as before
- no results found

Due to this issue, users cannot see the items to create requisitions when logged in with certain foreign language preference

CAUSE
The items are not translated, and that is the reason they are not available in the iProcurement search results for the other language

SOLUTION
Apply the recommended datafix patch and run the datafix script for ""BPA language issue"" as described in Doc ID 2216967.1.",ICX,Items from GBPA/BPA not translated in iProcurement,Items from GBPA/BPA not translated in iProcurement are not available in the catalog to create requisitions if the language is being used.,2,Oracle iProcurement,BULKLOAD,BULKLOADER,WEEK,SAT,P2P: Purchasing,This monitoring unit can prevent catalog items being missed in the search results by the users from different languages. This monitoring unit will prevent using the incorrect negotiated item or non updated items for some languages. Users from different languages will have the negotiated items available preventing missing items in the catalog  to create requisitions in iProcurement.,EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_IP_INTERMEDIA_ORACLE_TEXT_SEARCH_ISSUES,"SELECT RecentItems.org_id Operating_Unit_Id, RecentItems.segment1 Item_Number, RecentItems.description Description, last_update_date Last_Update_Date, RecentItems.inventory_item_id Inventory_Item_Id, RecentItems.item_type Item_Type
FROM
(SELECT icicht.creation_date, icicht.last_update_date, icicht.org_id, msib.segment1, msib.description, icicht.inventory_item_id, 
icicht.unit_price, icicht.ip_category_name, icicht.po_category_id, icicht.item_type, contains(icicht.ctx_desc, msib.segment1)
FROM icx_cat_items_ctx_hdrs_tlp icicht, mtl_system_items_b msib, (
select inventory_item_id from (
select inventory_item_id from icx_cat_items_ctx_hdrs_tlp icicht
where icicht.last_update_date > sysdate - 365
AND icicht.source_type = 'MASTER_ITEM'
order by last_update_date desc)
WHERE rownum < 1000
) RecentUpdatedOrCreatedIcxItem
WHERE NOT EXISTS 
  (select 1 from icx_cat_items_ctx_hdrs_tlp icichtb 
   where contains(icichtb.ctx_desc, msib.segment1) > 0 
   )
AND msib.organization_id = icicht.org_id
AND msib.inventory_item_id = icicht.inventory_item_id
and icicht.source_type = 'MASTER_ITEM'
and icicht.inventory_item_id = RecentUpdatedOrCreatedIcxItem.inventory_item_id
and rownum <= 1000
order by icicht.org_id, icicht.last_update_date desc) RecentItems
where rownum <=5",880285.1,"SYMPTOMS
Oracle Text search using contains clause shows no results for some items in the iProcurement Catalog. 
(This sensor detects the issue on the most recent 5 items updated in the last 365 days that have the issue.)

EXPECTED BEHAVIOR 
Items in the iProcurement catalog should be searchable by item number 

STEPS TO REPRODUCE 
1. Navigate to iProcurement 
2. Search for specific item(s) by Item Number and see No results found 
- the item should be shown in search results when searching by Item Number for an item that is in the iProcurement Catalog 

NOTE: If the item number is also part of the item description the item search may actually return results in the UI when searching by item number. Also, sometimes the fuzzy search logic used by the application can still return the item in search results when searched by item number, even if there is a problem with the Oracle Text search index. 

IMPACT This will result in delayed procurement of these items, or may result in creation of duplicate items or ordering of non-catalog items if the user is not able to find the item through item number search. 

WORKAROUND Search by item description should return the item in search results, and the user can proceed with requesting and ordering the item as a catalog item.

CAUSE
Oracle Text (previously Intermedia) search index is out of sync for these items, and this will result in the items not returning in search results.


SOLUTION
Purge, Rebuild or Recreate the intermedia index

IMPORTANT: Do this first in a TEST instance, as this may take a very long time to complete for some customers, depending on number of items indexed.

1.  Review the following descriptions of the Purge and Rebuild concurrent requests

Purge Catalog interMedia Index (ICXPCIIP) 
This purges inactive Blanket Agreements, Global Blanket Agreements, inactive and deleted Quote Lines, inactive and deleted Requisition Template Lines, and Master Items belonging to inactive purchasing categories. In the case where inactive documents (blankets/templates) or items are appearing in the iProcurement search results, the Purge program can be submitted to remove them from the IP search index. 

Rebuild Catalog interMedia Index (ICXRCIIP) 
This performs a rebuilding of the Intermedia indicies for the iProcurement Catalog searching. This program does not need to be run on a regular basis but can be recommended by Oracle Support in cases such as bulkload corruption issues, database parameter changes/issues, or other various one-time occurrences. where the index is not functionality as expected. 

2.  Use the Purge and/or Rebuild requests to fix the issue

3.  Use the drop_index and create_index commands to recreate the Intermedia index.  

IMPORTANT: Do this first in a TEST instance, as this may take a very long time to complete for some customers, depending on number of items indexed.

3a.  Run the following to verify if the record (index) exists

     SQL> SELECT * FROM all_objects WHERE object_name='ICX_CAT_ITEMSCTXDESC_HDRS';

3b.  Run the following to drop the index

     SQL> exec ICX_CAT_INTERMEDIA_INDEX_PVT.drop_index;

3c.  Run the following to verify the record (index) no longer exists.  (Rerun this sql if necessary until no record is returned)

     SQL> SELECT * FROM all_objects WHERE object_name='ICX_CAT_ITEMSCTXDESC_HDRS';

3d.  Run the following to create the fresh index

     SQL> exec ICX_CAT_INTERMEDIA_INDEX_PVT.create_index;

3e. Bounce apache

3f. Retest the issue

4.  If the issue is still not resolved: Follow the additional steps from [880285.1] Rel 12, 12.1, 12.2 - Items Are Not Visible in iProcurement",ICX,Oracle Text (Intermedia) search index is out of sync for some items in iProcurement Catalog,"Oracle Text (previously Intermedia) search index is out of sync for some items, and will result in search by Item Number sometimes not returning results",2,Oracle iProcurement,SHOP,ITEM_SEARCH,WEEK,SAT,P2P: Purchasing,"Oracle Text (previously Intermedia) search index is out of sync for some items, and will result in search by Item Number not returning results for some iProcurement catalog items.",EBS MFG,EBS - Procurement
ME$EBS_MFG_PO_PRC_ICX_MASTERITEMSNOTTRANSLATED,"select mtl.inventory_item_id inventoryid,
       mtl.organization_id organizationid, 
       mtl.SOURCE_LANG sourcelang, 
       mtl.language language, 
       mtl.description description
            from MTL_SYSTEM_ITEMS_TL mtl, 
            icx_cat_items_ctx_hdrs_tlp ctx,
             financials_system_params_all fsp
        WHERE ctx.inventory_item_id = mtl.INVENTORY_ITEM_ID
         AND   ctx.source_type = 'MASTER_ITEM'
         and mtl.SOURCE_LANG <> mtl.language
        AND   fsp.inventory_organization_id = mtl.organization_id
         AND   fsp.org_id = ctx.org_id 
         AND MTL.CREATION_DATE > sysdate - 7
         order by language asc
",1484588.1,"SYMPTOMS

ACTUAL BEHAVIOR
There are non translated items from Master Items which would not visible in the iProcurement search results if the language is being used in the product. 
EXPECTED BEHAVIOR
Expect to ave the items translated and available in the catalog of the items if the language is being used to create requisitions
STEPS
The issue can be reproduced at will with the following steps: 
1. Login with a certain language preference
2. Go to iProcurement 
3. Search the item in the language 
- see the item in search results
4. Logout and login again with a different language preference
5. Go to iProcurement
6. Search for the same item
- No results found

BUSINESS IMPACT
Due to this issue, users cannot see the items to create requisitions in some languages.

CAUSE
It is necessary to translate the item description into the languages used. This may be done by using the globe icon in Master Items for each item. 
After the item descriptions are translated the items will be shown as expected in iProcurement. 

SOLUTION
1.  Login with language preference in which the item does not appear
2.  Navigate to Purchasing responsibility / Master Items
3.  Query for the item
4.  Use the globe icon to specify Item description value for the desired language
5.  For 12.1.3 only, run the ""iProcurement Catalog Data Extract - Items"" concurrent request, or wait for it to run if scheduled to run automatically.  This will extract the foreign language translated values the nafter the item description has been translated as described above. 
* This concurrent request is not used or needed when using 12.2 and later
6.  Retest by logging again with the problem language preference, and search for the item in iProcurement item search
- see the item is now returned in search results as expected
7.  Repeat the above steps for any other languages for this item, and for any other item / language combinations

IMPORTANT
Review Doc ID 1484588.1 for additional details, as well as instructions to do mass update when there are many items needing to be shown in other languages.",ICX,Items from Master Items not translated   ,Items from Master Items not translated,2,Oracle iProcurement,EXTRACT,CLASSIFICATION,WEEK,SAT,P2P: Purchasing,This monitoring unit can prevent items being missed in the search results by the users from different languages. This monitoring unit will prevent using the incorrect item or non updated items for some languages. Users from different languages will have the items available preventing missing items in the catalog  to create requisitions in iProcurement.,EBS MFG,EBS - Procurement
